(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gc={exports:{}},Bo={},yc={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),ip=Symbol.for("react.portal"),op=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),lp=Symbol.for("react.provider"),ap=Symbol.for("react.context"),up=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),dp=Symbol.for("react.memo"),fp=Symbol.for("react.lazy"),Gl=Symbol.iterator;function pp(e){return e===null||typeof e!="object"?null:(e=Gl&&e[Gl]||e["@@iterator"],typeof e=="function"?e:null)}var vc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xc=Object.assign,Cc={};function Pt(e,n,t){this.props=e,this.context=n,this.refs=Cc,this.updater=t||vc}Pt.prototype.isReactComponent={};Pt.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Pt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tc(){}Tc.prototype=Pt.prototype;function Vs(e,n,t){this.props=e,this.context=n,this.refs=Cc,this.updater=t||vc}var Gs=Vs.prototype=new Tc;Gs.constructor=Vs;xc(Gs,Pt.prototype);Gs.isPureReactComponent=!0;var ql=Array.isArray,_c=Object.prototype.hasOwnProperty,qs={current:null},Sc={key:!0,ref:!0,__self:!0,__source:!0};function Ec(e,n,t){var i,o={},r=null,l=null;if(n!=null)for(i in n.ref!==void 0&&(l=n.ref),n.key!==void 0&&(r=""+n.key),n)_c.call(n,i)&&!Sc.hasOwnProperty(i)&&(o[i]=n[i]);var u=arguments.length-2;if(u===1)o.children=t;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];o.children=d}if(e&&e.defaultProps)for(i in u=e.defaultProps,u)o[i]===void 0&&(o[i]=u[i]);return{$$typeof:wi,type:e,key:r,ref:l,props:o,_owner:qs.current}}function mp(e,n){return{$$typeof:wi,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Hs(e){return typeof e=="object"&&e!==null&&e.$$typeof===wi}function hp(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var Hl=/\/+/g;function ar(e,n){return typeof e=="object"&&e!==null&&e.key!=null?hp(""+e.key):n.toString(36)}function Zi(e,n,t,i,o){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case wi:case ip:l=!0}}if(l)return l=e,o=o(l),e=i===""?"."+ar(l,0):i,ql(o)?(t="",e!=null&&(t=e.replace(Hl,"$&/")+"/"),Zi(o,n,t,"",function(c){return c})):o!=null&&(Hs(o)&&(o=mp(o,t+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Hl,"$&/")+"/")+e)),n.push(o)),1;if(l=0,i=i===""?".":i+":",ql(e))for(var u=0;u<e.length;u++){r=e[u];var d=i+ar(r,u);l+=Zi(r,n,t,d,o)}else if(d=pp(e),typeof d=="function")for(e=d.call(e),u=0;!(r=e.next()).done;)r=r.value,d=i+ar(r,u++),l+=Zi(r,n,t,d,o);else if(r==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function Li(e,n,t){if(e==null)return e;var i=[],o=0;return Zi(e,i,"","",function(r){return n.call(t,r,o++)}),i}function gp(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var xe={current:null},ji={transition:null},yp={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ji,ReactCurrentOwner:qs};function wc(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Li,forEach:function(e,n,t){Li(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return Li(e,function(){n++}),n},toArray:function(e){return Li(e,function(n){return n})||[]},only:function(e){if(!Hs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=Pt;F.Fragment=op;F.Profiler=sp;F.PureComponent=Vs;F.StrictMode=rp;F.Suspense=cp;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yp;F.act=wc;F.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=xc({},e.props),o=e.key,r=e.ref,l=e._owner;if(n!=null){if(n.ref!==void 0&&(r=n.ref,l=qs.current),n.key!==void 0&&(o=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in n)_c.call(n,d)&&!Sc.hasOwnProperty(d)&&(i[d]=n[d]===void 0&&u!==void 0?u[d]:n[d])}var d=arguments.length-2;if(d===1)i.children=t;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:wi,type:e.type,key:o,ref:r,props:i,_owner:l}};F.createContext=function(e){return e={$$typeof:ap,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lp,_context:e},e.Consumer=e};F.createElement=Ec;F.createFactory=function(e){var n=Ec.bind(null,e);return n.type=e,n};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:up,render:e}};F.isValidElement=Hs;F.lazy=function(e){return{$$typeof:fp,_payload:{_status:-1,_result:e},_init:gp}};F.memo=function(e,n){return{$$typeof:dp,type:e,compare:n===void 0?null:n}};F.startTransition=function(e){var n=ji.transition;ji.transition={};try{e()}finally{ji.transition=n}};F.unstable_act=wc;F.useCallback=function(e,n){return xe.current.useCallback(e,n)};F.useContext=function(e){return xe.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return xe.current.useDeferredValue(e)};F.useEffect=function(e,n){return xe.current.useEffect(e,n)};F.useId=function(){return xe.current.useId()};F.useImperativeHandle=function(e,n,t){return xe.current.useImperativeHandle(e,n,t)};F.useInsertionEffect=function(e,n){return xe.current.useInsertionEffect(e,n)};F.useLayoutEffect=function(e,n){return xe.current.useLayoutEffect(e,n)};F.useMemo=function(e,n){return xe.current.useMemo(e,n)};F.useReducer=function(e,n,t){return xe.current.useReducer(e,n,t)};F.useRef=function(e){return xe.current.useRef(e)};F.useState=function(e){return xe.current.useState(e)};F.useSyncExternalStore=function(e,n,t){return xe.current.useSyncExternalStore(e,n,t)};F.useTransition=function(){return xe.current.useTransition()};F.version="18.3.1";yc.exports=F;var b=yc.exports;const Ic=tp(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=b,xp=Symbol.for("react.element"),Cp=Symbol.for("react.fragment"),Tp=Object.prototype.hasOwnProperty,_p=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sp={key:!0,ref:!0,__self:!0,__source:!0};function Ac(e,n,t){var i,o={},r=null,l=null;t!==void 0&&(r=""+t),n.key!==void 0&&(r=""+n.key),n.ref!==void 0&&(l=n.ref);for(i in n)Tp.call(n,i)&&!Sp.hasOwnProperty(i)&&(o[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps,n)o[i]===void 0&&(o[i]=n[i]);return{$$typeof:xp,type:e,key:r,ref:l,props:o,_owner:_p.current}}Bo.Fragment=Cp;Bo.jsx=Ac;Bo.jsxs=Ac;gc.exports=Bo;var p=gc.exports,Ur={},Nc={exports:{}},Me={},Pc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(M,L){var U=M.length;M.push(L);e:for(;0<U;){var ee=U-1>>>1,re=M[ee];if(0<o(re,L))M[ee]=L,M[U]=re,U=ee;else break e}}function t(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var L=M[0],U=M.pop();if(U!==L){M[0]=U;e:for(var ee=0,re=M.length,Mi=re>>>1;ee<Mi;){var Ln=2*(ee+1)-1,lr=M[Ln],Un=Ln+1,Di=M[Un];if(0>o(lr,U))Un<re&&0>o(Di,lr)?(M[ee]=Di,M[Un]=U,ee=Un):(M[ee]=lr,M[Ln]=U,ee=Ln);else if(Un<re&&0>o(Di,U))M[ee]=Di,M[Un]=U,ee=Un;else break e}}return L}function o(M,L){var U=M.sortIndex-L.sortIndex;return U!==0?U:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],c=[],f=1,m=null,h=3,x=!1,C=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var L=t(c);L!==null;){if(L.callback===null)i(c);else if(L.startTime<=M)i(c),L.sortIndex=L.expirationTime,n(d,L);else break;L=t(c)}}function _(M){if(T=!1,v(M),!C)if(t(d)!==null)C=!0,Ie(S);else{var L=t(c);L!==null&&Dn(_,L.startTime-M)}}function S(M,L){C=!1,T&&(T=!1,y(N),N=-1),x=!0;var U=h;try{for(v(L),m=t(d);m!==null&&(!(m.expirationTime>L)||M&&!J());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,h=m.priorityLevel;var re=ee(m.expirationTime<=L);L=e.unstable_now(),typeof re=="function"?m.callback=re:m===t(d)&&i(d),v(L)}else i(d);m=t(d)}if(m!==null)var Mi=!0;else{var Ln=t(c);Ln!==null&&Dn(_,Ln.startTime-L),Mi=!1}return Mi}finally{m=null,h=U,x=!1}}var E=!1,I=null,N=-1,k=5,R=-1;function J(){return!(e.unstable_now()-R<k)}function z(){if(I!==null){var M=e.unstable_now();R=M;var L=!0;try{L=I(!0,M)}finally{L?de():(E=!1,I=null)}}else E=!1}var de;if(typeof g=="function")de=function(){g(z)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,Ri=Ut.port2;Ut.port1.onmessage=z,de=function(){Ri.postMessage(null)}}else de=function(){A(z,0)};function Ie(M){I=M,E||(E=!0,de())}function Dn(M,L){N=A(function(){M(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){C||x||(C=!0,Ie(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return t(d)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var U=h;h=L;try{return M()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=h;h=M;try{return L()}finally{h=U}},e.unstable_scheduleCallback=function(M,L,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,M={id:f++,callback:L,priorityLevel:M,startTime:U,expirationTime:re,sortIndex:-1},U>ee?(M.sortIndex=U,n(c,M),t(d)===null&&M===t(c)&&(T?(y(N),N=-1):T=!0,Dn(_,U-ee))):(M.sortIndex=re,n(d,M),C||x||(C=!0,Ie(S))),M},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(M){var L=h;return function(){var U=h;h=L;try{return M.apply(this,arguments)}finally{h=U}}}})(kc);Pc.exports=kc;var Ep=Pc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=b,Re=Ep;function w(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rc=new Set,li={};function Kn(e,n){Tt(e,n),Tt(e+"Capture",n)}function Tt(e,n){for(li[e]=n,e=0;e<n.length;e++)Rc.add(n[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=Object.prototype.hasOwnProperty,Ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bl={},zl={};function Ap(e){return Fr.call(zl,e)?!0:Fr.call(Bl,e)?!1:Ip.test(e)?zl[e]=!0:(Bl[e]=!0,!1)}function Np(e,n,t,i){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pp(e,n,t,i){if(n===null||typeof n>"u"||Np(e,n,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ce(e,n,t,i,o,r,l){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=r,this.removeEmptyString=l}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ce[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];ce[n]=new Ce(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ce[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ce[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ce[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ce[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ce[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ce[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ce[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bs=/[\-:]([a-z])/g;function zs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Bs,zs);ce[n]=new Ce(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Bs,zs);ce[n]=new Ce(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Bs,zs);ce[n]=new Ce(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ce[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ce.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ce[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function bs(e,n,t,i){var o=ce.hasOwnProperty(n)?ce[n]:null;(o!==null?o.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Pp(n,t,o,i)&&(t=null),i||o===null?Ap(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):o.mustUseProperty?e[o.propertyName]=t===null?o.type===3?!1:"":t:(n=o.attributeName,i=o.attributeNamespace,t===null?e.removeAttribute(n):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,i?e.setAttributeNS(i,n,t):e.setAttribute(n,t))))}var cn=wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ui=Symbol.for("react.element"),jn=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Js=Symbol.for("react.strict_mode"),Vr=Symbol.for("react.profiler"),Mc=Symbol.for("react.provider"),Dc=Symbol.for("react.context"),$s=Symbol.for("react.forward_ref"),Gr=Symbol.for("react.suspense"),qr=Symbol.for("react.suspense_list"),Ws=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Lc=Symbol.for("react.offscreen"),bl=Symbol.iterator;function Ft(e){return e===null||typeof e!="object"?null:(e=bl&&e[bl]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,ur;function Wt(e){if(ur===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);ur=n&&n[1]||""}return`
`+ur+e}var cr=!1;function dr(e,n){if(!e||cr)return"";cr=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(c){var i=c}Reflect.construct(e,[],n)}else{try{n.call()}catch(c){i=c}e.call(n.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),r=i.stack.split(`
`),l=o.length-1,u=r.length-1;1<=l&&0<=u&&o[l]!==r[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==r[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==r[u]){var d=`
`+o[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{cr=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?Wt(e):""}function kp(e){switch(e.tag){case 5:return Wt(e.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return e=dr(e.type,!1),e;case 11:return e=dr(e.type.render,!1),e;case 1:return e=dr(e.type,!0),e;default:return""}}function Hr(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case jn:return"Portal";case Vr:return"Profiler";case Js:return"StrictMode";case Gr:return"Suspense";case qr:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dc:return(e.displayName||"Context")+".Consumer";case Mc:return(e._context.displayName||"Context")+".Provider";case $s:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ws:return n=e.displayName||null,n!==null?n:Hr(e.type)||"Memo";case pn:n=e._payload,e=e._init;try{return Hr(e(n))}catch{}}return null}function Rp(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hr(n);case 8:return n===Js?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mp(e){var n=Uc(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,r=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,r.call(this,l)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fi(e){e._valueTracker||(e._valueTracker=Mp(e))}function Fc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),i="";return e&&(i=Uc(e)?e.checked?"true":"false":e.value),e=i,e!==t?(n.setValue(e),!0):!1}function po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Br(e,n){var t=n.checked;return Z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function Jl(e,n){var t=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;t=An(n.value!=null?n.value:t),e._wrapperState={initialChecked:i,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Vc(e,n){n=n.checked,n!=null&&bs(e,"checked",n,!1)}function zr(e,n){Vc(e,n);var t=An(n.value),i=n.type;if(t!=null)i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?br(e,n.type,t):n.hasOwnProperty("defaultValue")&&br(e,n.type,An(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function $l(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function br(e,n,t){(n!=="number"||po(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var Ot=Array.isArray;function ft(e,n,t,i){if(e=e.options,n){n={};for(var o=0;o<t.length;o++)n["$"+t[o]]=!0;for(t=0;t<e.length;t++)o=n.hasOwnProperty("$"+e[t].value),e[t].selected!==o&&(e[t].selected=o),o&&i&&(e[t].defaultSelected=!0)}else{for(t=""+An(t),n=null,o=0;o<e.length;o++){if(e[o].value===t){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function Jr(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(w(91));return Z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wl(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(w(92));if(Ot(t)){if(1<t.length)throw Error(w(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:An(t)}}function Gc(e,n){var t=An(n.value),i=An(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),i!=null&&(e.defaultValue=""+i)}function Ol(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function qc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $r(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?qc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vi,Hc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,i,o){MSApp.execUnsafeLocalFunction(function(){return e(n,t,i,o)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Vi=Vi||document.createElement("div"),Vi.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Vi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ai(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dp=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(e){Dp.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xt[n]=Xt[e]})});function Bc(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||Xt.hasOwnProperty(e)&&Xt[e]?(""+n).trim():n+"px"}function zc(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var i=t.indexOf("--")===0,o=Bc(t,n[t],i);t==="float"&&(t="cssFloat"),i?e.setProperty(t,o):e[t]=o}}var Lp=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wr(e,n){if(n){if(Lp[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(w(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(w(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(w(61))}if(n.style!=null&&typeof n.style!="object")throw Error(w(62))}}function Or(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kr=null,pt=null,mt=null;function Yl(e){if(e=Ni(e)){if(typeof Kr!="function")throw Error(w(280));var n=e.stateNode;n&&(n=Wo(n),Kr(e.stateNode,e.type,n))}}function bc(e){pt?mt?mt.push(e):mt=[e]:pt=e}function Jc(){if(pt){var e=pt,n=mt;if(mt=pt=null,Yl(e),n)for(e=0;e<n.length;e++)Yl(n[e])}}function $c(e,n){return e(n)}function Wc(){}var fr=!1;function Oc(e,n,t){if(fr)return e(n,t);fr=!0;try{return $c(e,n,t)}finally{fr=!1,(pt!==null||mt!==null)&&(Wc(),Jc())}}function ui(e,n){var t=e.stateNode;if(t===null)return null;var i=Wo(t);if(i===null)return null;t=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(w(231,n,typeof t));return t}var Qr=!1;if(sn)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch{Qr=!1}function Up(e,n,t,i,o,r,l,u,d){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(f){this.onError(f)}}var Zt=!1,mo=null,ho=!1,Xr=null,Fp={onError:function(e){Zt=!0,mo=e}};function Vp(e,n,t,i,o,r,l,u,d){Zt=!1,mo=null,Up.apply(Fp,arguments)}function Gp(e,n,t,i,o,r,l,u,d){if(Vp.apply(this,arguments),Zt){if(Zt){var c=mo;Zt=!1,mo=null}else throw Error(w(198));ho||(ho=!0,Xr=c)}}function Qn(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function Yc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Kl(e){if(Qn(e)!==e)throw Error(w(188))}function qp(e){var n=e.alternate;if(!n){if(n=Qn(e),n===null)throw Error(w(188));return n!==e?null:e}for(var t=e,i=n;;){var o=t.return;if(o===null)break;var r=o.alternate;if(r===null){if(i=o.return,i!==null){t=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===t)return Kl(o),e;if(r===i)return Kl(o),n;r=r.sibling}throw Error(w(188))}if(t.return!==i.return)t=o,i=r;else{for(var l=!1,u=o.child;u;){if(u===t){l=!0,t=o,i=r;break}if(u===i){l=!0,i=o,t=r;break}u=u.sibling}if(!l){for(u=r.child;u;){if(u===t){l=!0,t=r,i=o;break}if(u===i){l=!0,i=r,t=o;break}u=u.sibling}if(!l)throw Error(w(189))}}if(t.alternate!==i)throw Error(w(190))}if(t.tag!==3)throw Error(w(188));return t.stateNode.current===t?e:n}function Kc(e){return e=qp(e),e!==null?Qc(e):null}function Qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Qc(e);if(n!==null)return n;e=e.sibling}return null}var Xc=Re.unstable_scheduleCallback,Ql=Re.unstable_cancelCallback,Hp=Re.unstable_shouldYield,Bp=Re.unstable_requestPaint,ne=Re.unstable_now,zp=Re.unstable_getCurrentPriorityLevel,Ys=Re.unstable_ImmediatePriority,Zc=Re.unstable_UserBlockingPriority,go=Re.unstable_NormalPriority,bp=Re.unstable_LowPriority,jc=Re.unstable_IdlePriority,zo=null,Ze=null;function Jp(e){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(zo,e,void 0,(e.current.flags&128)===128)}catch{}}var $e=Math.clz32?Math.clz32:Op,$p=Math.log,Wp=Math.LN2;function Op(e){return e>>>=0,e===0?32:31-($p(e)/Wp|0)|0}var Gi=64,qi=4194304;function Yt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yo(e,n){var t=e.pendingLanes;if(t===0)return 0;var i=0,o=e.suspendedLanes,r=e.pingedLanes,l=t&268435455;if(l!==0){var u=l&~o;u!==0?i=Yt(u):(r&=l,r!==0&&(i=Yt(r)))}else l=t&~o,l!==0?i=Yt(l):r!==0&&(i=Yt(r));if(i===0)return 0;if(n!==0&&n!==i&&!(n&o)&&(o=i&-i,r=n&-n,o>=r||o===16&&(r&4194240)!==0))return n;if(i&4&&(i|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)t=31-$e(n),o=1<<t,i|=e[t],n&=~o;return i}function Yp(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kp(e,n){for(var t=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var l=31-$e(r),u=1<<l,d=o[l];d===-1?(!(u&t)||u&i)&&(o[l]=Yp(u,n)):d<=n&&(e.expiredLanes|=u),r&=~u}}function Zr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ed(){var e=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),e}function pr(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Ii(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-$e(n),e[n]=t}function Qp(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<t;){var o=31-$e(t),r=1<<o;n[o]=0,i[o]=-1,e[o]=-1,t&=~r}}function Ks(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var i=31-$e(t),o=1<<i;o&n|e[i]&n&&(e[i]|=n),t&=~o}}var B=0;function nd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var td,Qs,id,od,rd,jr=!1,Hi=[],xn=null,Cn=null,Tn=null,ci=new Map,di=new Map,hn=[],Xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xl(e,n){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":ci.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(n.pointerId)}}function Gt(e,n,t,i,o,r){return e===null||e.nativeEvent!==r?(e={blockedOn:n,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},n!==null&&(n=Ni(n),n!==null&&Qs(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function Zp(e,n,t,i,o){switch(n){case"focusin":return xn=Gt(xn,e,n,t,i,o),!0;case"dragenter":return Cn=Gt(Cn,e,n,t,i,o),!0;case"mouseover":return Tn=Gt(Tn,e,n,t,i,o),!0;case"pointerover":var r=o.pointerId;return ci.set(r,Gt(ci.get(r)||null,e,n,t,i,o)),!0;case"gotpointercapture":return r=o.pointerId,di.set(r,Gt(di.get(r)||null,e,n,t,i,o)),!0}return!1}function sd(e){var n=Gn(e.target);if(n!==null){var t=Qn(n);if(t!==null){if(n=t.tag,n===13){if(n=Yc(t),n!==null){e.blockedOn=n,rd(e.priority,function(){id(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=es(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var i=new t.constructor(t.type,t);Yr=i,t.target.dispatchEvent(i),Yr=null}else return n=Ni(t),n!==null&&Qs(n),e.blockedOn=t,!1;n.shift()}return!0}function Zl(e,n,t){eo(e)&&t.delete(n)}function jp(){jr=!1,xn!==null&&eo(xn)&&(xn=null),Cn!==null&&eo(Cn)&&(Cn=null),Tn!==null&&eo(Tn)&&(Tn=null),ci.forEach(Zl),di.forEach(Zl)}function qt(e,n){e.blockedOn===n&&(e.blockedOn=null,jr||(jr=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,jp)))}function fi(e){function n(o){return qt(o,e)}if(0<Hi.length){qt(Hi[0],e);for(var t=1;t<Hi.length;t++){var i=Hi[t];i.blockedOn===e&&(i.blockedOn=null)}}for(xn!==null&&qt(xn,e),Cn!==null&&qt(Cn,e),Tn!==null&&qt(Tn,e),ci.forEach(n),di.forEach(n),t=0;t<hn.length;t++)i=hn[t],i.blockedOn===e&&(i.blockedOn=null);for(;0<hn.length&&(t=hn[0],t.blockedOn===null);)sd(t),t.blockedOn===null&&hn.shift()}var ht=cn.ReactCurrentBatchConfig,vo=!0;function em(e,n,t,i){var o=B,r=ht.transition;ht.transition=null;try{B=1,Xs(e,n,t,i)}finally{B=o,ht.transition=r}}function nm(e,n,t,i){var o=B,r=ht.transition;ht.transition=null;try{B=4,Xs(e,n,t,i)}finally{B=o,ht.transition=r}}function Xs(e,n,t,i){if(vo){var o=es(e,n,t,i);if(o===null)Sr(e,n,i,xo,t),Xl(e,i);else if(Zp(o,e,n,t,i))i.stopPropagation();else if(Xl(e,i),n&4&&-1<Xp.indexOf(e)){for(;o!==null;){var r=Ni(o);if(r!==null&&td(r),r=es(e,n,t,i),r===null&&Sr(e,n,i,xo,t),r===o)break;o=r}o!==null&&i.stopPropagation()}else Sr(e,n,i,null,t)}}var xo=null;function es(e,n,t,i){if(xo=null,e=Os(i),e=Gn(e),e!==null)if(n=Qn(e),n===null)e=null;else if(t=n.tag,t===13){if(e=Yc(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return xo=e,null}function ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case Ys:return 1;case Zc:return 4;case go:case bp:return 16;case jc:return 536870912;default:return 16}default:return 16}}var yn=null,Zs=null,no=null;function ad(){if(no)return no;var e,n=Zs,t=n.length,i,o="value"in yn?yn.value:yn.textContent,r=o.length;for(e=0;e<t&&n[e]===o[e];e++);var l=t-e;for(i=1;i<=l&&n[t-i]===o[r-i];i++);return no=o.slice(e,1<i?1-i:void 0)}function to(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function jl(){return!1}function De(e){function n(t,i,o,r,l){this._reactName=t,this._targetInst=o,this.type=i,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(t=e[u],this[u]=t?t(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Bi:jl,this.isPropagationStopped=jl,this}return Z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=De(kt),Ai=Z({},kt,{view:0,detail:0}),tm=De(Ai),mr,hr,Ht,bo=Z({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ht&&(Ht&&e.type==="mousemove"?(mr=e.screenX-Ht.screenX,hr=e.screenY-Ht.screenY):hr=mr=0,Ht=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:hr}}),ea=De(bo),im=Z({},bo,{dataTransfer:0}),om=De(im),rm=Z({},Ai,{relatedTarget:0}),gr=De(rm),sm=Z({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),lm=De(sm),am=Z({},kt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),um=De(am),cm=Z({},kt,{data:0}),na=De(cm),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mm(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pm[e])?!!n[e]:!1}function el(){return mm}var hm=Z({},Ai,{key:function(e){if(e.key){var n=dm[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=to(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(e){return e.type==="keypress"?to(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?to(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gm=De(hm),ym=Z({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ta=De(ym),vm=Z({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),xm=De(vm),Cm=Z({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tm=De(Cm),_m=Z({},bo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=De(_m),Em=[9,13,27,32],nl=sn&&"CompositionEvent"in window,jt=null;sn&&"documentMode"in document&&(jt=document.documentMode);var wm=sn&&"TextEvent"in window&&!jt,ud=sn&&(!nl||jt&&8<jt&&11>=jt),ia=String.fromCharCode(32),oa=!1;function cd(e,n){switch(e){case"keyup":return Em.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nt=!1;function Im(e,n){switch(e){case"compositionend":return dd(n);case"keypress":return n.which!==32?null:(oa=!0,ia);case"textInput":return e=n.data,e===ia&&oa?null:e;default:return null}}function Am(e,n){if(nt)return e==="compositionend"||!nl&&cd(e,n)?(e=ad(),no=Zs=yn=null,nt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ud&&n.locale!=="ko"?null:n.data;default:return null}}var Nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Nm[e.type]:n==="textarea"}function fd(e,n,t,i){bc(i),n=Co(n,"onChange"),0<n.length&&(t=new js("onChange","change",null,t,i),e.push({event:t,listeners:n}))}var ei=null,pi=null;function Pm(e){Sd(e,0)}function Jo(e){var n=ot(e);if(Fc(n))return e}function km(e,n){if(e==="change")return n}var pd=!1;if(sn){var yr;if(sn){var vr="oninput"in document;if(!vr){var sa=document.createElement("div");sa.setAttribute("oninput","return;"),vr=typeof sa.oninput=="function"}yr=vr}else yr=!1;pd=yr&&(!document.documentMode||9<document.documentMode)}function la(){ei&&(ei.detachEvent("onpropertychange",md),pi=ei=null)}function md(e){if(e.propertyName==="value"&&Jo(pi)){var n=[];fd(n,pi,e,Os(e)),Oc(Pm,n)}}function Rm(e,n,t){e==="focusin"?(la(),ei=n,pi=t,ei.attachEvent("onpropertychange",md)):e==="focusout"&&la()}function Mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jo(pi)}function Dm(e,n){if(e==="click")return Jo(n)}function Lm(e,n){if(e==="input"||e==="change")return Jo(n)}function Um(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Oe=typeof Object.is=="function"?Object.is:Um;function mi(e,n){if(Oe(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),i=Object.keys(n);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var o=t[i];if(!Fr.call(n,o)||!Oe(e[o],n[o]))return!1}return!0}function aa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,n){var t=aa(e);e=0;for(var i;t;){if(t.nodeType===3){if(i=e+t.textContent.length,e<=n&&i>=n)return{node:t,offset:n-e};e=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=aa(t)}}function hd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gd(){for(var e=window,n=po();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=po(e.document)}return n}function tl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Fm(e){var n=gd(),t=e.focusedElem,i=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&hd(t.ownerDocument.documentElement,t)){if(i!==null&&tl(t)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var o=t.textContent.length,r=Math.min(i.start,o);i=i.end===void 0?r:Math.min(i.end,o),!e.extend&&r>i&&(o=i,i=r,r=o),o=ua(t,r);var l=ua(t,i);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(n=n.createRange(),n.setStart(o.node,o.offset),e.removeAllRanges(),r>i?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vm=sn&&"documentMode"in document&&11>=document.documentMode,tt=null,ns=null,ni=null,ts=!1;function ca(e,n,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ts||tt==null||tt!==po(i)||(i=tt,"selectionStart"in i&&tl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ni&&mi(ni,i)||(ni=i,i=Co(ns,"onSelect"),0<i.length&&(n=new js("onSelect","select",null,n,t),e.push({event:n,listeners:i}),n.target=tt)))}function zi(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var it={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionend:zi("Transition","TransitionEnd")},xr={},yd={};sn&&(yd=document.createElement("div").style,"AnimationEvent"in window||(delete it.animationend.animation,delete it.animationiteration.animation,delete it.animationstart.animation),"TransitionEvent"in window||delete it.transitionend.transition);function $o(e){if(xr[e])return xr[e];if(!it[e])return e;var n=it[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in yd)return xr[e]=n[t];return e}var vd=$o("animationend"),xd=$o("animationiteration"),Cd=$o("animationstart"),Td=$o("transitionend"),_d=new Map,da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,n){_d.set(e,n),Kn(n,[e])}for(var Cr=0;Cr<da.length;Cr++){var Tr=da[Cr],Gm=Tr.toLowerCase(),qm=Tr[0].toUpperCase()+Tr.slice(1);Pn(Gm,"on"+qm)}Pn(vd,"onAnimationEnd");Pn(xd,"onAnimationIteration");Pn(Cd,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Td,"onTransitionEnd");Tt("onMouseEnter",["mouseout","mouseover"]);Tt("onMouseLeave",["mouseout","mouseover"]);Tt("onPointerEnter",["pointerout","pointerover"]);Tt("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kt));function fa(e,n,t){var i=e.type||"unknown-event";e.currentTarget=t,Gp(i,n,void 0,e),e.currentTarget=null}function Sd(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var i=e[t],o=i.event;i=i.listeners;e:{var r=void 0;if(n)for(var l=i.length-1;0<=l;l--){var u=i[l],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==r&&o.isPropagationStopped())break e;fa(o,u,c),r=d}else for(l=0;l<i.length;l++){if(u=i[l],d=u.instance,c=u.currentTarget,u=u.listener,d!==r&&o.isPropagationStopped())break e;fa(o,u,c),r=d}}}if(ho)throw e=Xr,ho=!1,Xr=null,e}function W(e,n){var t=n[ls];t===void 0&&(t=n[ls]=new Set);var i=e+"__bubble";t.has(i)||(Ed(n,e,2,!1),t.add(i))}function _r(e,n,t){var i=0;n&&(i|=4),Ed(t,e,i,n)}var bi="_reactListening"+Math.random().toString(36).slice(2);function hi(e){if(!e[bi]){e[bi]=!0,Rc.forEach(function(t){t!=="selectionchange"&&(Hm.has(t)||_r(t,!1,e),_r(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[bi]||(n[bi]=!0,_r("selectionchange",!1,n))}}function Ed(e,n,t,i){switch(ld(n)){case 1:var o=em;break;case 4:o=nm;break;default:o=Xs}t=o.bind(null,n,t,e),o=void 0,!Qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(n,t,{capture:!0,passive:o}):e.addEventListener(n,t,!0):o!==void 0?e.addEventListener(n,t,{passive:o}):e.addEventListener(n,t,!1)}function Sr(e,n,t,i,o){var r=i;if(!(n&1)&&!(n&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var u=i.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;l=l.return}for(;u!==null;){if(l=Gn(u),l===null)return;if(d=l.tag,d===5||d===6){i=r=l;continue e}u=u.parentNode}}i=i.return}Oc(function(){var c=r,f=Os(t),m=[];e:{var h=_d.get(e);if(h!==void 0){var x=js,C=e;switch(e){case"keypress":if(to(t)===0)break e;case"keydown":case"keyup":x=gm;break;case"focusin":C="focus",x=gr;break;case"focusout":C="blur",x=gr;break;case"beforeblur":case"afterblur":x=gr;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=xm;break;case vd:case xd:case Cd:x=lm;break;case Td:x=Tm;break;case"scroll":x=tm;break;case"wheel":x=Sm;break;case"copy":case"cut":case"paste":x=um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ta}var T=(n&4)!==0,A=!T&&e==="scroll",y=T?h!==null?h+"Capture":null:h;T=[];for(var g=c,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=ui(g,y),_!=null&&T.push(gi(g,_,v)))),A)break;g=g.return}0<T.length&&(h=new x(h,C,null,t,f),m.push({event:h,listeners:T}))}}if(!(n&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&t!==Yr&&(C=t.relatedTarget||t.fromElement)&&(Gn(C)||C[ln]))break e;if((x||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,x?(C=t.relatedTarget||t.toElement,x=c,C=C?Gn(C):null,C!==null&&(A=Qn(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(x=null,C=c),x!==C)){if(T=ea,_="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(T=ta,_="onPointerLeave",y="onPointerEnter",g="pointer"),A=x==null?h:ot(x),v=C==null?h:ot(C),h=new T(_,g+"leave",x,t,f),h.target=A,h.relatedTarget=v,_=null,Gn(f)===c&&(T=new T(y,g+"enter",C,t,f),T.target=v,T.relatedTarget=A,_=T),A=_,x&&C)n:{for(T=x,y=C,g=0,v=T;v;v=Zn(v))g++;for(v=0,_=y;_;_=Zn(_))v++;for(;0<g-v;)T=Zn(T),g--;for(;0<v-g;)y=Zn(y),v--;for(;g--;){if(T===y||y!==null&&T===y.alternate)break n;T=Zn(T),y=Zn(y)}T=null}else T=null;x!==null&&pa(m,h,x,T,!1),C!==null&&A!==null&&pa(m,A,C,T,!0)}}e:{if(h=c?ot(c):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var S=km;else if(ra(h))if(pd)S=Lm;else{S=Mm;var E=Rm}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Dm);if(S&&(S=S(e,c))){fd(m,S,t,f);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&br(h,"number",h.value)}switch(E=c?ot(c):window,e){case"focusin":(ra(E)||E.contentEditable==="true")&&(tt=E,ns=c,ni=null);break;case"focusout":ni=ns=tt=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,ca(m,t,f);break;case"selectionchange":if(Vm)break;case"keydown":case"keyup":ca(m,t,f)}var I;if(nl)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else nt?cd(e,t)&&(N="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(N="onCompositionStart");N&&(ud&&t.locale!=="ko"&&(nt||N!=="onCompositionStart"?N==="onCompositionEnd"&&nt&&(I=ad()):(yn=f,Zs="value"in yn?yn.value:yn.textContent,nt=!0)),E=Co(c,N),0<E.length&&(N=new na(N,e,null,t,f),m.push({event:N,listeners:E}),I?N.data=I:(I=dd(t),I!==null&&(N.data=I)))),(I=wm?Im(e,t):Am(e,t))&&(c=Co(c,"onBeforeInput"),0<c.length&&(f=new na("onBeforeInput","beforeinput",null,t,f),m.push({event:f,listeners:c}),f.data=I))}Sd(m,n)})}function gi(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Co(e,n){for(var t=n+"Capture",i=[];e!==null;){var o=e,r=o.stateNode;o.tag===5&&r!==null&&(o=r,r=ui(e,t),r!=null&&i.unshift(gi(e,r,o)),r=ui(e,n),r!=null&&i.push(gi(e,r,o))),e=e.return}return i}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pa(e,n,t,i,o){for(var r=n._reactName,l=[];t!==null&&t!==i;){var u=t,d=u.alternate,c=u.stateNode;if(d!==null&&d===i)break;u.tag===5&&c!==null&&(u=c,o?(d=ui(t,r),d!=null&&l.unshift(gi(t,d,u))):o||(d=ui(t,r),d!=null&&l.push(gi(t,d,u)))),t=t.return}l.length!==0&&e.push({event:n,listeners:l})}var Bm=/\r\n?/g,zm=/\u0000|\uFFFD/g;function ma(e){return(typeof e=="string"?e:""+e).replace(Bm,`
`).replace(zm,"")}function Ji(e,n,t){if(n=ma(n),ma(e)!==n&&t)throw Error(w(425))}function To(){}var is=null,os=null;function rs(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ss=typeof setTimeout=="function"?setTimeout:void 0,bm=typeof clearTimeout=="function"?clearTimeout:void 0,ha=typeof Promise=="function"?Promise:void 0,Jm=typeof queueMicrotask=="function"?queueMicrotask:typeof ha<"u"?function(e){return ha.resolve(null).then(e).catch($m)}:ss;function $m(e){setTimeout(function(){throw e})}function Er(e,n){var t=n,i=0;do{var o=t.nextSibling;if(e.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(i===0){e.removeChild(o),fi(n);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=o}while(t);fi(n)}function _n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function ga(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var Rt=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Rt,yi="__reactProps$"+Rt,ln="__reactContainer$"+Rt,ls="__reactEvents$"+Rt,Wm="__reactListeners$"+Rt,Om="__reactHandles$"+Rt;function Gn(e){var n=e[Xe];if(n)return n;for(var t=e.parentNode;t;){if(n=t[ln]||t[Xe]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=ga(e);e!==null;){if(t=e[Xe])return t;e=ga(e)}return n}e=t,t=e.parentNode}return null}function Ni(e){return e=e[Xe]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ot(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(w(33))}function Wo(e){return e[yi]||null}var as=[],rt=-1;function kn(e){return{current:e}}function Y(e){0>rt||(e.current=as[rt],as[rt]=null,rt--)}function $(e,n){rt++,as[rt]=e.current,e.current=n}var Nn={},ge=kn(Nn),Se=kn(!1),bn=Nn;function _t(e,n){var t=e.type.contextTypes;if(!t)return Nn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o={},r;for(r in t)o[r]=n[r];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ee(e){return e=e.childContextTypes,e!=null}function _o(){Y(Se),Y(ge)}function ya(e,n,t){if(ge.current!==Nn)throw Error(w(168));$(ge,n),$(Se,t)}function wd(e,n,t){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var o in i)if(!(o in n))throw Error(w(108,Rp(e)||"Unknown",o));return Z({},t,i)}function So(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nn,bn=ge.current,$(ge,e),$(Se,Se.current),!0}function va(e,n,t){var i=e.stateNode;if(!i)throw Error(w(169));t?(e=wd(e,n,bn),i.__reactInternalMemoizedMergedChildContext=e,Y(Se),Y(ge),$(ge,e)):Y(Se),$(Se,t)}var nn=null,Oo=!1,wr=!1;function Id(e){nn===null?nn=[e]:nn.push(e)}function Ym(e){Oo=!0,Id(e)}function Rn(){if(!wr&&nn!==null){wr=!0;var e=0,n=B;try{var t=nn;for(B=1;e<t.length;e++){var i=t[e];do i=i(!0);while(i!==null)}nn=null,Oo=!1}catch(o){throw nn!==null&&(nn=nn.slice(e+1)),Xc(Ys,Rn),o}finally{B=n,wr=!1}}return null}var st=[],lt=0,Eo=null,wo=0,Le=[],Ue=0,Jn=null,tn=1,on="";function Fn(e,n){st[lt++]=wo,st[lt++]=Eo,Eo=e,wo=n}function Ad(e,n,t){Le[Ue++]=tn,Le[Ue++]=on,Le[Ue++]=Jn,Jn=e;var i=tn;e=on;var o=32-$e(i)-1;i&=~(1<<o),t+=1;var r=32-$e(n)+o;if(30<r){var l=o-o%5;r=(i&(1<<l)-1).toString(32),i>>=l,o-=l,tn=1<<32-$e(n)+o|t<<o|i,on=r+e}else tn=1<<r|t<<o|i,on=e}function il(e){e.return!==null&&(Fn(e,1),Ad(e,1,0))}function ol(e){for(;e===Eo;)Eo=st[--lt],st[lt]=null,wo=st[--lt],st[lt]=null;for(;e===Jn;)Jn=Le[--Ue],Le[Ue]=null,on=Le[--Ue],Le[Ue]=null,tn=Le[--Ue],Le[Ue]=null}var ke=null,Pe=null,K=!1,Je=null;function Nd(e,n){var t=Fe(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function xa(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,ke=e,Pe=_n(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,ke=e,Pe=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=Jn!==null?{id:tn,overflow:on}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=Fe(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,ke=e,Pe=null,!0):!1;default:return!1}}function us(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cs(e){if(K){var n=Pe;if(n){var t=n;if(!xa(e,n)){if(us(e))throw Error(w(418));n=_n(t.nextSibling);var i=ke;n&&xa(e,n)?Nd(i,t):(e.flags=e.flags&-4097|2,K=!1,ke=e)}}else{if(us(e))throw Error(w(418));e.flags=e.flags&-4097|2,K=!1,ke=e}}}function Ca(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ke=e}function $i(e){if(e!==ke)return!1;if(!K)return Ca(e),K=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!rs(e.type,e.memoizedProps)),n&&(n=Pe)){if(us(e))throw Pd(),Error(w(418));for(;n;)Nd(e,n),n=_n(n.nextSibling)}if(Ca(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){Pe=_n(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}Pe=null}}else Pe=ke?_n(e.stateNode.nextSibling):null;return!0}function Pd(){for(var e=Pe;e;)e=_n(e.nextSibling)}function St(){Pe=ke=null,K=!1}function rl(e){Je===null?Je=[e]:Je.push(e)}var Km=cn.ReactCurrentBatchConfig;function Bt(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(w(309));var i=t.stateNode}if(!i)throw Error(w(147,e));var o=i,r=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===r?n.ref:(n=function(l){var u=o.refs;l===null?delete u[r]:u[r]=l},n._stringRef=r,n)}if(typeof e!="string")throw Error(w(284));if(!t._owner)throw Error(w(290,e))}return e}function Wi(e,n){throw e=Object.prototype.toString.call(n),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ta(e){var n=e._init;return n(e._payload)}function kd(e){function n(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function t(y,g){if(!e)return null;for(;g!==null;)n(y,g),g=g.sibling;return null}function i(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function o(y,g){return y=In(y,g),y.index=0,y.sibling=null,y}function r(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function u(y,g,v,_){return g===null||g.tag!==6?(g=Mr(v,y.mode,_),g.return=y,g):(g=o(g,v),g.return=y,g)}function d(y,g,v,_){var S=v.type;return S===et?f(y,g,v.props.children,_,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pn&&Ta(S)===g.type)?(_=o(g,v.props),_.ref=Bt(y,g,v),_.return=y,_):(_=uo(v.type,v.key,v.props,null,y.mode,_),_.ref=Bt(y,g,v),_.return=y,_)}function c(y,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Dr(v,y.mode,_),g.return=y,g):(g=o(g,v.children||[]),g.return=y,g)}function f(y,g,v,_,S){return g===null||g.tag!==7?(g=zn(v,y.mode,_,S),g.return=y,g):(g=o(g,v),g.return=y,g)}function m(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Mr(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ui:return v=uo(g.type,g.key,g.props,null,y.mode,v),v.ref=Bt(y,null,g),v.return=y,v;case jn:return g=Dr(g,y.mode,v),g.return=y,g;case pn:var _=g._init;return m(y,_(g._payload),v)}if(Ot(g)||Ft(g))return g=zn(g,y.mode,v,null),g.return=y,g;Wi(y,g)}return null}function h(y,g,v,_){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:u(y,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ui:return v.key===S?d(y,g,v,_):null;case jn:return v.key===S?c(y,g,v,_):null;case pn:return S=v._init,h(y,g,S(v._payload),_)}if(Ot(v)||Ft(v))return S!==null?null:f(y,g,v,_,null);Wi(y,v)}return null}function x(y,g,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,u(g,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ui:return y=y.get(_.key===null?v:_.key)||null,d(g,y,_,S);case jn:return y=y.get(_.key===null?v:_.key)||null,c(g,y,_,S);case pn:var E=_._init;return x(y,g,v,E(_._payload),S)}if(Ot(_)||Ft(_))return y=y.get(v)||null,f(g,y,_,S,null);Wi(g,_)}return null}function C(y,g,v,_){for(var S=null,E=null,I=g,N=g=0,k=null;I!==null&&N<v.length;N++){I.index>N?(k=I,I=null):k=I.sibling;var R=h(y,I,v[N],_);if(R===null){I===null&&(I=k);break}e&&I&&R.alternate===null&&n(y,I),g=r(R,g,N),E===null?S=R:E.sibling=R,E=R,I=k}if(N===v.length)return t(y,I),K&&Fn(y,N),S;if(I===null){for(;N<v.length;N++)I=m(y,v[N],_),I!==null&&(g=r(I,g,N),E===null?S=I:E.sibling=I,E=I);return K&&Fn(y,N),S}for(I=i(y,I);N<v.length;N++)k=x(I,y,N,v[N],_),k!==null&&(e&&k.alternate!==null&&I.delete(k.key===null?N:k.key),g=r(k,g,N),E===null?S=k:E.sibling=k,E=k);return e&&I.forEach(function(J){return n(y,J)}),K&&Fn(y,N),S}function T(y,g,v,_){var S=Ft(v);if(typeof S!="function")throw Error(w(150));if(v=S.call(v),v==null)throw Error(w(151));for(var E=S=null,I=g,N=g=0,k=null,R=v.next();I!==null&&!R.done;N++,R=v.next()){I.index>N?(k=I,I=null):k=I.sibling;var J=h(y,I,R.value,_);if(J===null){I===null&&(I=k);break}e&&I&&J.alternate===null&&n(y,I),g=r(J,g,N),E===null?S=J:E.sibling=J,E=J,I=k}if(R.done)return t(y,I),K&&Fn(y,N),S;if(I===null){for(;!R.done;N++,R=v.next())R=m(y,R.value,_),R!==null&&(g=r(R,g,N),E===null?S=R:E.sibling=R,E=R);return K&&Fn(y,N),S}for(I=i(y,I);!R.done;N++,R=v.next())R=x(I,y,N,R.value,_),R!==null&&(e&&R.alternate!==null&&I.delete(R.key===null?N:R.key),g=r(R,g,N),E===null?S=R:E.sibling=R,E=R);return e&&I.forEach(function(z){return n(y,z)}),K&&Fn(y,N),S}function A(y,g,v,_){if(typeof v=="object"&&v!==null&&v.type===et&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ui:e:{for(var S=v.key,E=g;E!==null;){if(E.key===S){if(S=v.type,S===et){if(E.tag===7){t(y,E.sibling),g=o(E,v.props.children),g.return=y,y=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pn&&Ta(S)===E.type){t(y,E.sibling),g=o(E,v.props),g.ref=Bt(y,E,v),g.return=y,y=g;break e}t(y,E);break}else n(y,E);E=E.sibling}v.type===et?(g=zn(v.props.children,y.mode,_,v.key),g.return=y,y=g):(_=uo(v.type,v.key,v.props,null,y.mode,_),_.ref=Bt(y,g,v),_.return=y,y=_)}return l(y);case jn:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){t(y,g.sibling),g=o(g,v.children||[]),g.return=y,y=g;break e}else{t(y,g);break}else n(y,g);g=g.sibling}g=Dr(v,y.mode,_),g.return=y,y=g}return l(y);case pn:return E=v._init,A(y,g,E(v._payload),_)}if(Ot(v))return C(y,g,v,_);if(Ft(v))return T(y,g,v,_);Wi(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(t(y,g.sibling),g=o(g,v),g.return=y,y=g):(t(y,g),g=Mr(v,y.mode,_),g.return=y,y=g),l(y)):t(y,g)}return A}var Et=kd(!0),Rd=kd(!1),Io=kn(null),Ao=null,at=null,sl=null;function ll(){sl=at=Ao=null}function al(e){var n=Io.current;Y(Io),e._currentValue=n}function ds(e,n,t){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===t)break;e=e.return}}function gt(e,n){Ao=e,sl=at=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(_e=!0),e.firstContext=null)}function qe(e){var n=e._currentValue;if(sl!==e)if(e={context:e,memoizedValue:n,next:null},at===null){if(Ao===null)throw Error(w(308));at=e,Ao.dependencies={lanes:0,firstContext:e}}else at=at.next=e;return n}var qn=null;function ul(e){qn===null?qn=[e]:qn.push(e)}function Md(e,n,t,i){var o=n.interleaved;return o===null?(t.next=t,ul(n)):(t.next=o.next,o.next=t),n.interleaved=t,an(e,i)}function an(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var mn=!1;function cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Sn(e,n,t){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,V&2){var o=i.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n,an(e,t)}return o=i.interleaved,o===null?(n.next=n,ul(i)):(n.next=o.next,o.next=n),i.interleaved=n,an(e,t)}function io(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,t|=i,n.lanes=t,Ks(e,t)}}function _a(e,n){var t=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var o=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?o=r=l:r=r.next=l,t=t.next}while(t!==null);r===null?o=r=n:r=r.next=n}else o=r=n;t={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function No(e,n,t,i){var o=e.updateQueue;mn=!1;var r=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var d=u,c=d.next;d.next=null,l===null?r=c:l.next=c,l=d;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(r!==null){var m=o.baseState;l=0,f=c=d=null,u=r;do{var h=u.lane,x=u.eventTime;if((i&h)===h){f!==null&&(f=f.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=e,T=u;switch(h=n,x=t,T.tag){case 1:if(C=T.payload,typeof C=="function"){m=C.call(x,m,h);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,h=typeof C=="function"?C.call(x,m,h):C,h==null)break e;m=Z({},m,h);break e;case 2:mn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else x={eventTime:x,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=x,d=m):f=f.next=x,l|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(f===null&&(d=m),o.baseState=d,o.firstBaseUpdate=c,o.lastBaseUpdate=f,n=o.shared.interleaved,n!==null){o=n;do l|=o.lane,o=o.next;while(o!==n)}else r===null&&(o.shared.lanes=0);Wn|=l,e.lanes=l,e.memoizedState=m}}function Sa(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],o=i.callback;if(o!==null){if(i.callback=null,i=t,typeof o!="function")throw Error(w(191,o));o.call(i)}}}var Pi={},je=kn(Pi),vi=kn(Pi),xi=kn(Pi);function Hn(e){if(e===Pi)throw Error(w(174));return e}function dl(e,n){switch($(xi,n),$(vi,e),$(je,Pi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:$r(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=$r(n,e)}Y(je),$(je,n)}function wt(){Y(je),Y(vi),Y(xi)}function Ld(e){Hn(xi.current);var n=Hn(je.current),t=$r(n,e.type);n!==t&&($(vi,e),$(je,t))}function fl(e){vi.current===e&&(Y(je),Y(vi))}var Q=kn(0);function Po(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ir=[];function pl(){for(var e=0;e<Ir.length;e++)Ir[e]._workInProgressVersionPrimary=null;Ir.length=0}var oo=cn.ReactCurrentDispatcher,Ar=cn.ReactCurrentBatchConfig,$n=0,X=null,ie=null,se=null,ko=!1,ti=!1,Ci=0,Qm=0;function fe(){throw Error(w(321))}function ml(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Oe(e[t],n[t]))return!1;return!0}function hl(e,n,t,i,o,r){if($n=r,X=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,oo.current=e===null||e.memoizedState===null?eh:nh,e=t(i,o),ti){r=0;do{if(ti=!1,Ci=0,25<=r)throw Error(w(301));r+=1,se=ie=null,n.updateQueue=null,oo.current=th,e=t(i,o)}while(ti)}if(oo.current=Ro,n=ie!==null&&ie.next!==null,$n=0,se=ie=X=null,ko=!1,n)throw Error(w(300));return e}function gl(){var e=Ci!==0;return Ci=0,e}function Qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?X.memoizedState=se=e:se=se.next=e,se}function He(){if(ie===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var n=se===null?X.memoizedState:se.next;if(n!==null)se=n,ie=e;else{if(e===null)throw Error(w(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},se===null?X.memoizedState=se=e:se=se.next=e}return se}function Ti(e,n){return typeof n=="function"?n(e):n}function Nr(e){var n=He(),t=n.queue;if(t===null)throw Error(w(311));t.lastRenderedReducer=e;var i=ie,o=i.baseQueue,r=t.pending;if(r!==null){if(o!==null){var l=o.next;o.next=r.next,r.next=l}i.baseQueue=o=r,t.pending=null}if(o!==null){r=o.next,i=i.baseState;var u=l=null,d=null,c=r;do{var f=c.lane;if(($n&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=m,l=i):d=d.next=m,X.lanes|=f,Wn|=f}c=c.next}while(c!==null&&c!==r);d===null?l=i:d.next=u,Oe(i,n.memoizedState)||(_e=!0),n.memoizedState=i,n.baseState=l,n.baseQueue=d,t.lastRenderedState=i}if(e=t.interleaved,e!==null){o=e;do r=o.lane,X.lanes|=r,Wn|=r,o=o.next;while(o!==e)}else o===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Pr(e){var n=He(),t=n.queue;if(t===null)throw Error(w(311));t.lastRenderedReducer=e;var i=t.dispatch,o=t.pending,r=n.memoizedState;if(o!==null){t.pending=null;var l=o=o.next;do r=e(r,l.action),l=l.next;while(l!==o);Oe(r,n.memoizedState)||(_e=!0),n.memoizedState=r,n.baseQueue===null&&(n.baseState=r),t.lastRenderedState=r}return[r,i]}function Ud(){}function Fd(e,n){var t=X,i=He(),o=n(),r=!Oe(i.memoizedState,o);if(r&&(i.memoizedState=o,_e=!0),i=i.queue,yl(qd.bind(null,t,i,e),[e]),i.getSnapshot!==n||r||se!==null&&se.memoizedState.tag&1){if(t.flags|=2048,_i(9,Gd.bind(null,t,i,o,n),void 0,null),le===null)throw Error(w(349));$n&30||Vd(t,n,o)}return o}function Vd(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=X.updateQueue,n===null?(n={lastEffect:null,stores:null},X.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function Gd(e,n,t,i){n.value=t,n.getSnapshot=i,Hd(n)&&Bd(e)}function qd(e,n,t){return t(function(){Hd(n)&&Bd(e)})}function Hd(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Oe(e,t)}catch{return!0}}function Bd(e){var n=an(e,1);n!==null&&We(n,e,1,-1)}function Ea(e){var n=Qe();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},n.queue=e,e=e.dispatch=jm.bind(null,X,e),[n.memoizedState,e]}function _i(e,n,t,i){return e={tag:e,create:n,destroy:t,deps:i,next:null},n=X.updateQueue,n===null?(n={lastEffect:null,stores:null},X.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(i=t.next,t.next=e,e.next=i,n.lastEffect=e)),e}function zd(){return He().memoizedState}function ro(e,n,t,i){var o=Qe();X.flags|=e,o.memoizedState=_i(1|n,t,void 0,i===void 0?null:i)}function Yo(e,n,t,i){var o=He();i=i===void 0?null:i;var r=void 0;if(ie!==null){var l=ie.memoizedState;if(r=l.destroy,i!==null&&ml(i,l.deps)){o.memoizedState=_i(n,t,r,i);return}}X.flags|=e,o.memoizedState=_i(1|n,t,r,i)}function wa(e,n){return ro(8390656,8,e,n)}function yl(e,n){return Yo(2048,8,e,n)}function bd(e,n){return Yo(4,2,e,n)}function Jd(e,n){return Yo(4,4,e,n)}function $d(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Wd(e,n,t){return t=t!=null?t.concat([e]):null,Yo(4,4,$d.bind(null,n,e),t)}function vl(){}function Od(e,n){var t=He();n=n===void 0?null:n;var i=t.memoizedState;return i!==null&&n!==null&&ml(n,i[1])?i[0]:(t.memoizedState=[e,n],e)}function Yd(e,n){var t=He();n=n===void 0?null:n;var i=t.memoizedState;return i!==null&&n!==null&&ml(n,i[1])?i[0]:(e=e(),t.memoizedState=[e,n],e)}function Kd(e,n,t){return $n&21?(Oe(t,n)||(t=ed(),X.lanes|=t,Wn|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=t)}function Xm(e,n){var t=B;B=t!==0&&4>t?t:4,e(!0);var i=Ar.transition;Ar.transition={};try{e(!1),n()}finally{B=t,Ar.transition=i}}function Qd(){return He().memoizedState}function Zm(e,n,t){var i=wn(e);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Xd(e))Zd(n,t);else if(t=Md(e,n,t,i),t!==null){var o=ve();We(t,e,i,o),jd(t,n,i)}}function jm(e,n,t){var i=wn(e),o={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Xd(e))Zd(n,o);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=n.lastRenderedReducer,r!==null))try{var l=n.lastRenderedState,u=r(l,t);if(o.hasEagerState=!0,o.eagerState=u,Oe(u,l)){var d=n.interleaved;d===null?(o.next=o,ul(n)):(o.next=d.next,d.next=o),n.interleaved=o;return}}catch{}finally{}t=Md(e,n,o,i),t!==null&&(o=ve(),We(t,e,i,o),jd(t,n,i))}}function Xd(e){var n=e.alternate;return e===X||n!==null&&n===X}function Zd(e,n){ti=ko=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function jd(e,n,t){if(t&4194240){var i=n.lanes;i&=e.pendingLanes,t|=i,n.lanes=t,Ks(e,t)}}var Ro={readContext:qe,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},eh={readContext:qe,useCallback:function(e,n){return Qe().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:wa,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,ro(4194308,4,$d.bind(null,n,e),t)},useLayoutEffect:function(e,n){return ro(4194308,4,e,n)},useInsertionEffect:function(e,n){return ro(4,2,e,n)},useMemo:function(e,n){var t=Qe();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var i=Qe();return n=t!==void 0?t(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=Zm.bind(null,X,e),[i.memoizedState,e]},useRef:function(e){var n=Qe();return e={current:e},n.memoizedState=e},useState:Ea,useDebugValue:vl,useDeferredValue:function(e){return Qe().memoizedState=e},useTransition:function(){var e=Ea(!1),n=e[0];return e=Xm.bind(null,e[1]),Qe().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var i=X,o=Qe();if(K){if(t===void 0)throw Error(w(407));t=t()}else{if(t=n(),le===null)throw Error(w(349));$n&30||Vd(i,n,t)}o.memoizedState=t;var r={value:t,getSnapshot:n};return o.queue=r,wa(qd.bind(null,i,r,e),[e]),i.flags|=2048,_i(9,Gd.bind(null,i,r,t,n),void 0,null),t},useId:function(){var e=Qe(),n=le.identifierPrefix;if(K){var t=on,i=tn;t=(i&~(1<<32-$e(i)-1)).toString(32)+t,n=":"+n+"R"+t,t=Ci++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=Qm++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},nh={readContext:qe,useCallback:Od,useContext:qe,useEffect:yl,useImperativeHandle:Wd,useInsertionEffect:bd,useLayoutEffect:Jd,useMemo:Yd,useReducer:Nr,useRef:zd,useState:function(){return Nr(Ti)},useDebugValue:vl,useDeferredValue:function(e){var n=He();return Kd(n,ie.memoizedState,e)},useTransition:function(){var e=Nr(Ti)[0],n=He().memoizedState;return[e,n]},useMutableSource:Ud,useSyncExternalStore:Fd,useId:Qd,unstable_isNewReconciler:!1},th={readContext:qe,useCallback:Od,useContext:qe,useEffect:yl,useImperativeHandle:Wd,useInsertionEffect:bd,useLayoutEffect:Jd,useMemo:Yd,useReducer:Pr,useRef:zd,useState:function(){return Pr(Ti)},useDebugValue:vl,useDeferredValue:function(e){var n=He();return ie===null?n.memoizedState=e:Kd(n,ie.memoizedState,e)},useTransition:function(){var e=Pr(Ti)[0],n=He().memoizedState;return[e,n]},useMutableSource:Ud,useSyncExternalStore:Fd,useId:Qd,unstable_isNewReconciler:!1};function ze(e,n){if(e&&e.defaultProps){n=Z({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function fs(e,n,t,i){n=e.memoizedState,t=t(i,n),t=t==null?n:Z({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Ko={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var i=ve(),o=wn(e),r=rn(i,o);r.payload=n,t!=null&&(r.callback=t),n=Sn(e,r,o),n!==null&&(We(n,e,o,i),io(n,e,o))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var i=ve(),o=wn(e),r=rn(i,o);r.tag=1,r.payload=n,t!=null&&(r.callback=t),n=Sn(e,r,o),n!==null&&(We(n,e,o,i),io(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=ve(),i=wn(e),o=rn(t,i);o.tag=2,n!=null&&(o.callback=n),n=Sn(e,o,i),n!==null&&(We(n,e,i,t),io(n,e,i))}};function Ia(e,n,t,i,o,r,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,l):n.prototype&&n.prototype.isPureReactComponent?!mi(t,i)||!mi(o,r):!0}function ef(e,n,t){var i=!1,o=Nn,r=n.contextType;return typeof r=="object"&&r!==null?r=qe(r):(o=Ee(n)?bn:ge.current,i=n.contextTypes,r=(i=i!=null)?_t(e,o):Nn),n=new n(t,r),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ko,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),n}function Aa(e,n,t,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,i),n.state!==e&&Ko.enqueueReplaceState(n,n.state,null)}function ps(e,n,t,i){var o=e.stateNode;o.props=t,o.state=e.memoizedState,o.refs={},cl(e);var r=n.contextType;typeof r=="object"&&r!==null?o.context=qe(r):(r=Ee(n)?bn:ge.current,o.context=_t(e,r)),o.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(fs(e,n,r,t),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&Ko.enqueueReplaceState(o,o.state,null),No(e,t,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function It(e,n){try{var t="",i=n;do t+=kp(i),i=i.return;while(i);var o=t}catch(r){o=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:n,stack:o,digest:null}}function kr(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function ms(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var ih=typeof WeakMap=="function"?WeakMap:Map;function nf(e,n,t){t=rn(-1,t),t.tag=3,t.payload={element:null};var i=n.value;return t.callback=function(){Do||(Do=!0,Es=i),ms(e,n)},t}function tf(e,n,t){t=rn(-1,t),t.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;t.payload=function(){return i(o)},t.callback=function(){ms(e,n)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){ms(e,n),typeof i!="function"&&(En===null?En=new Set([this]):En.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})}),t}function Na(e,n,t){var i=e.pingCache;if(i===null){i=e.pingCache=new ih;var o=new Set;i.set(n,o)}else o=i.get(n),o===void 0&&(o=new Set,i.set(n,o));o.has(t)||(o.add(t),e=yh.bind(null,e,n,t),n.then(e,e))}function Pa(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ka(e,n,t,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=rn(-1,1),n.tag=2,Sn(t,n,1))),t.lanes|=1),e)}var oh=cn.ReactCurrentOwner,_e=!1;function ye(e,n,t,i){n.child=e===null?Rd(n,null,t,i):Et(n,e.child,t,i)}function Ra(e,n,t,i,o){t=t.render;var r=n.ref;return gt(n,o),i=hl(e,n,t,i,r,o),t=gl(),e!==null&&!_e?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,un(e,n,o)):(K&&t&&il(n),n.flags|=1,ye(e,n,i,o),n.child)}function Ma(e,n,t,i,o){if(e===null){var r=t.type;return typeof r=="function"&&!Il(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=r,of(e,n,r,i,o)):(e=uo(t.type,null,i,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(r=e.child,!(e.lanes&o)){var l=r.memoizedProps;if(t=t.compare,t=t!==null?t:mi,t(l,i)&&e.ref===n.ref)return un(e,n,o)}return n.flags|=1,e=In(r,i),e.ref=n.ref,e.return=n,n.child=e}function of(e,n,t,i,o){if(e!==null){var r=e.memoizedProps;if(mi(r,i)&&e.ref===n.ref)if(_e=!1,n.pendingProps=i=r,(e.lanes&o)!==0)e.flags&131072&&(_e=!0);else return n.lanes=e.lanes,un(e,n,o)}return hs(e,n,t,i,o)}function rf(e,n,t){var i=n.pendingProps,o=i.children,r=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},$(ct,Ae),Ae|=t;else{if(!(t&1073741824))return e=r!==null?r.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,$(ct,Ae),Ae|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,$(ct,Ae),Ae|=i}else r!==null?(i=r.baseLanes|t,n.memoizedState=null):i=t,$(ct,Ae),Ae|=i;return ye(e,n,o,t),n.child}function sf(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function hs(e,n,t,i,o){var r=Ee(t)?bn:ge.current;return r=_t(n,r),gt(n,o),t=hl(e,n,t,i,r,o),i=gl(),e!==null&&!_e?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,un(e,n,o)):(K&&i&&il(n),n.flags|=1,ye(e,n,t,o),n.child)}function Da(e,n,t,i,o){if(Ee(t)){var r=!0;So(n)}else r=!1;if(gt(n,o),n.stateNode===null)so(e,n),ef(n,t,i),ps(n,t,i,o),i=!0;else if(e===null){var l=n.stateNode,u=n.memoizedProps;l.props=u;var d=l.context,c=t.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Ee(t)?bn:ge.current,c=_t(n,c));var f=t.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==i||d!==c)&&Aa(n,l,i,c),mn=!1;var h=n.memoizedState;l.state=h,No(n,i,l,o),d=n.memoizedState,u!==i||h!==d||Se.current||mn?(typeof f=="function"&&(fs(n,t,f,i),d=n.memoizedState),(u=mn||Ia(n,t,u,i,h,d,c))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=d),l.props=i,l.state=d,l.context=c,i=u):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{l=n.stateNode,Dd(e,n),u=n.memoizedProps,c=n.type===n.elementType?u:ze(n.type,u),l.props=c,m=n.pendingProps,h=l.context,d=t.contextType,typeof d=="object"&&d!==null?d=qe(d):(d=Ee(t)?bn:ge.current,d=_t(n,d));var x=t.getDerivedStateFromProps;(f=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||h!==d)&&Aa(n,l,i,d),mn=!1,h=n.memoizedState,l.state=h,No(n,i,l,o);var C=n.memoizedState;u!==m||h!==C||Se.current||mn?(typeof x=="function"&&(fs(n,t,x,i),C=n.memoizedState),(c=mn||Ia(n,t,c,i,h,C,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,C,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,C,d)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=C),l.props=i,l.state=C,l.context=d,i=c):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(n.flags|=1024),i=!1)}return gs(e,n,t,i,r,o)}function gs(e,n,t,i,o,r){sf(e,n);var l=(n.flags&128)!==0;if(!i&&!l)return o&&va(n,t,!1),un(e,n,r);i=n.stateNode,oh.current=n;var u=l&&typeof t.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&l?(n.child=Et(n,e.child,null,r),n.child=Et(n,null,u,r)):ye(e,n,u,r),n.memoizedState=i.state,o&&va(n,t,!0),n.child}function lf(e){var n=e.stateNode;n.pendingContext?ya(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ya(e,n.context,!1),dl(e,n.containerInfo)}function La(e,n,t,i,o){return St(),rl(o),n.flags|=256,ye(e,n,t,i),n.child}var ys={dehydrated:null,treeContext:null,retryLane:0};function vs(e){return{baseLanes:e,cachePool:null,transitions:null}}function af(e,n,t){var i=n.pendingProps,o=Q.current,r=!1,l=(n.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(r=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),$(Q,o&1),e===null)return cs(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=i.children,e=i.fallback,r?(i=n.mode,r=n.child,l={mode:"hidden",children:l},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Zo(l,i,0,null),e=zn(e,i,t,null),r.return=n,e.return=n,r.sibling=e,n.child=r,n.child.memoizedState=vs(t),n.memoizedState=ys,e):xl(n,l));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return rh(e,n,l,i,u,o,t);if(r){r=i.fallback,l=n.mode,o=e.child,u=o.sibling;var d={mode:"hidden",children:i.children};return!(l&1)&&n.child!==o?(i=n.child,i.childLanes=0,i.pendingProps=d,n.deletions=null):(i=In(o,d),i.subtreeFlags=o.subtreeFlags&14680064),u!==null?r=In(u,r):(r=zn(r,l,t,null),r.flags|=2),r.return=n,i.return=n,i.sibling=r,n.child=i,i=r,r=n.child,l=e.child.memoizedState,l=l===null?vs(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=e.childLanes&~t,n.memoizedState=ys,i}return r=e.child,e=r.sibling,i=In(r,{mode:"visible",children:i.children}),!(n.mode&1)&&(i.lanes=t),i.return=n,i.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=i,n.memoizedState=null,i}function xl(e,n){return n=Zo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Oi(e,n,t,i){return i!==null&&rl(i),Et(n,e.child,null,t),e=xl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function rh(e,n,t,i,o,r,l){if(t)return n.flags&256?(n.flags&=-257,i=kr(Error(w(422))),Oi(e,n,l,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(r=i.fallback,o=n.mode,i=Zo({mode:"visible",children:i.children},o,0,null),r=zn(r,o,l,null),r.flags|=2,i.return=n,r.return=n,i.sibling=r,n.child=i,n.mode&1&&Et(n,e.child,null,l),n.child.memoizedState=vs(l),n.memoizedState=ys,r);if(!(n.mode&1))return Oi(e,n,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;return i=u,r=Error(w(419)),i=kr(r,i,void 0),Oi(e,n,l,i)}if(u=(l&e.childLanes)!==0,_e||u){if(i=le,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==r.retryLane&&(r.retryLane=o,an(e,o),We(i,e,o,-1))}return wl(),i=kr(Error(w(421))),Oi(e,n,l,i)}return o.data==="$?"?(n.flags|=128,n.child=e.child,n=vh.bind(null,e),o._reactRetry=n,null):(e=r.treeContext,Pe=_n(o.nextSibling),ke=n,K=!0,Je=null,e!==null&&(Le[Ue++]=tn,Le[Ue++]=on,Le[Ue++]=Jn,tn=e.id,on=e.overflow,Jn=n),n=xl(n,i.children),n.flags|=4096,n)}function Ua(e,n,t){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),ds(e.return,n,t)}function Rr(e,n,t,i,o){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:o}:(r.isBackwards=n,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=o)}function uf(e,n,t){var i=n.pendingProps,o=i.revealOrder,r=i.tail;if(ye(e,n,i.children,t),i=Q.current,i&2)i=i&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ua(e,t,n);else if(e.tag===19)Ua(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if($(Q,i),!(n.mode&1))n.memoizedState=null;else switch(o){case"forwards":for(t=n.child,o=null;t!==null;)e=t.alternate,e!==null&&Po(e)===null&&(o=t),t=t.sibling;t=o,t===null?(o=n.child,n.child=null):(o=t.sibling,t.sibling=null),Rr(n,!1,o,t,r);break;case"backwards":for(t=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Po(e)===null){n.child=o;break}e=o.sibling,o.sibling=t,t=o,o=e}Rr(n,!0,t,null,r);break;case"together":Rr(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function so(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function un(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),Wn|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(w(153));if(n.child!==null){for(e=n.child,t=In(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=In(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function sh(e,n,t){switch(n.tag){case 3:lf(n),St();break;case 5:Ld(n);break;case 1:Ee(n.type)&&So(n);break;case 4:dl(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,o=n.memoizedProps.value;$(Io,i._currentValue),i._currentValue=o;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?($(Q,Q.current&1),n.flags|=128,null):t&n.child.childLanes?af(e,n,t):($(Q,Q.current&1),e=un(e,n,t),e!==null?e.sibling:null);$(Q,Q.current&1);break;case 19:if(i=(t&n.childLanes)!==0,e.flags&128){if(i)return uf(e,n,t);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$(Q,Q.current),i)break;return null;case 22:case 23:return n.lanes=0,rf(e,n,t)}return un(e,n,t)}var cf,xs,df,ff;cf=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};xs=function(){};df=function(e,n,t,i){var o=e.memoizedProps;if(o!==i){e=n.stateNode,Hn(je.current);var r=null;switch(t){case"input":o=Br(e,o),i=Br(e,i),r=[];break;case"select":o=Z({},o,{value:void 0}),i=Z({},i,{value:void 0}),r=[];break;case"textarea":o=Jr(e,o),i=Jr(e,i),r=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=To)}Wr(t,i);var l;t=null;for(c in o)if(!i.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var u=o[c];for(l in u)u.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(li.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var d=i[c];if(u=o!=null?o[c]:void 0,i.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(t||(t={}),t[l]=d[l])}else t||(r||(r=[]),r.push(c,t)),t=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(r=r||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(r=r||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(li.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&W("scroll",e),r||u===d||(r=[])):(r=r||[]).push(c,d))}t&&(r=r||[]).push("style",t);var c=r;(n.updateQueue=c)&&(n.flags|=4)}};ff=function(e,n,t,i){t!==i&&(n.flags|=4)};function zt(e,n){if(!K)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,i=0;if(n)for(var o=e.child;o!==null;)t|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)t|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=t,n}function lh(e,n,t){var i=n.pendingProps;switch(ol(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return Ee(n.type)&&_o(),pe(n),null;case 3:return i=n.stateNode,wt(),Y(Se),Y(ge),pl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($i(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Je!==null&&(As(Je),Je=null))),xs(e,n),pe(n),null;case 5:fl(n);var o=Hn(xi.current);if(t=n.type,e!==null&&n.stateNode!=null)df(e,n,t,i,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(w(166));return pe(n),null}if(e=Hn(je.current),$i(n)){i=n.stateNode,t=n.type;var r=n.memoizedProps;switch(i[Xe]=n,i[yi]=r,e=(n.mode&1)!==0,t){case"dialog":W("cancel",i),W("close",i);break;case"iframe":case"object":case"embed":W("load",i);break;case"video":case"audio":for(o=0;o<Kt.length;o++)W(Kt[o],i);break;case"source":W("error",i);break;case"img":case"image":case"link":W("error",i),W("load",i);break;case"details":W("toggle",i);break;case"input":Jl(i,r),W("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},W("invalid",i);break;case"textarea":Wl(i,r),W("invalid",i)}Wr(t,r),o=null;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l];l==="children"?typeof u=="string"?i.textContent!==u&&(r.suppressHydrationWarning!==!0&&Ji(i.textContent,u,e),o=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&Ji(i.textContent,u,e),o=["children",""+u]):li.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&W("scroll",i)}switch(t){case"input":Fi(i),$l(i,r,!0);break;case"textarea":Fi(i),Ol(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=To)}i=o,n.updateQueue=i,i!==null&&(n.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qc(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(t,{is:i.is}):(e=l.createElement(t),t==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,t),e[Xe]=n,e[yi]=i,cf(e,n,!1,!1),n.stateNode=e;e:{switch(l=Or(t,i),t){case"dialog":W("cancel",e),W("close",e),o=i;break;case"iframe":case"object":case"embed":W("load",e),o=i;break;case"video":case"audio":for(o=0;o<Kt.length;o++)W(Kt[o],e);o=i;break;case"source":W("error",e),o=i;break;case"img":case"image":case"link":W("error",e),W("load",e),o=i;break;case"details":W("toggle",e),o=i;break;case"input":Jl(e,i),o=Br(e,i),W("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Z({},i,{value:void 0}),W("invalid",e);break;case"textarea":Wl(e,i),o=Jr(e,i),W("invalid",e);break;default:o=i}Wr(t,o),u=o;for(r in u)if(u.hasOwnProperty(r)){var d=u[r];r==="style"?zc(e,d):r==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Hc(e,d)):r==="children"?typeof d=="string"?(t!=="textarea"||d!=="")&&ai(e,d):typeof d=="number"&&ai(e,""+d):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(li.hasOwnProperty(r)?d!=null&&r==="onScroll"&&W("scroll",e):d!=null&&bs(e,r,d,l))}switch(t){case"input":Fi(e),$l(e,i,!1);break;case"textarea":Fi(e),Ol(e);break;case"option":i.value!=null&&e.setAttribute("value",""+An(i.value));break;case"select":e.multiple=!!i.multiple,r=i.value,r!=null?ft(e,!!i.multiple,r,!1):i.defaultValue!=null&&ft(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=To)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return pe(n),null;case 6:if(e&&n.stateNode!=null)ff(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(w(166));if(t=Hn(xi.current),Hn(je.current),$i(n)){if(i=n.stateNode,t=n.memoizedProps,i[Xe]=n,(r=i.nodeValue!==t)&&(e=ke,e!==null))switch(e.tag){case 3:Ji(i.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ji(i.nodeValue,t,(e.mode&1)!==0)}r&&(n.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Xe]=n,n.stateNode=i}return pe(n),null;case 13:if(Y(Q),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&Pe!==null&&n.mode&1&&!(n.flags&128))Pd(),St(),n.flags|=98560,r=!1;else if(r=$i(n),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(w(318));if(r=n.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(w(317));r[Xe]=n}else St(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;pe(n),r=!1}else Je!==null&&(As(Je),Je=null),r=!0;if(!r)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,n.mode&1&&(e===null||Q.current&1?oe===0&&(oe=3):wl())),n.updateQueue!==null&&(n.flags|=4),pe(n),null);case 4:return wt(),xs(e,n),e===null&&hi(n.stateNode.containerInfo),pe(n),null;case 10:return al(n.type._context),pe(n),null;case 17:return Ee(n.type)&&_o(),pe(n),null;case 19:if(Y(Q),r=n.memoizedState,r===null)return pe(n),null;if(i=(n.flags&128)!==0,l=r.rendering,l===null)if(i)zt(r,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(l=Po(e),l!==null){for(n.flags|=128,zt(r,!1),i=l.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=t,t=n.child;t!==null;)r=t,e=i,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return $(Q,Q.current&1|2),n.child}e=e.sibling}r.tail!==null&&ne()>At&&(n.flags|=128,i=!0,zt(r,!1),n.lanes=4194304)}else{if(!i)if(e=Po(l),e!==null){if(n.flags|=128,i=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),zt(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!K)return pe(n),null}else 2*ne()-r.renderingStartTime>At&&t!==1073741824&&(n.flags|=128,i=!0,zt(r,!1),n.lanes=4194304);r.isBackwards?(l.sibling=n.child,n.child=l):(t=r.last,t!==null?t.sibling=l:n.child=l,r.last=l)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=ne(),n.sibling=null,t=Q.current,$(Q,i?t&1|2:t&1),n):(pe(n),null);case 22:case 23:return El(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&n.mode&1?Ae&1073741824&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),null;case 24:return null;case 25:return null}throw Error(w(156,n.tag))}function ah(e,n){switch(ol(n),n.tag){case 1:return Ee(n.type)&&_o(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wt(),Y(Se),Y(ge),pl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return fl(n),null;case 13:if(Y(Q),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(w(340));St()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Q),null;case 4:return wt(),null;case 10:return al(n.type._context),null;case 22:case 23:return El(),null;case 24:return null;default:return null}}var Yi=!1,me=!1,uh=typeof WeakSet=="function"?WeakSet:Set,P=null;function ut(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){j(e,n,i)}else t.current=null}function Cs(e,n,t){try{t()}catch(i){j(e,n,i)}}var Fa=!1;function ch(e,n){if(is=vo,e=gd(),tl(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var o=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var l=0,u=-1,d=-1,c=0,f=0,m=e,h=null;n:for(;;){for(var x;m!==t||o!==0&&m.nodeType!==3||(u=l+o),m!==r||i!==0&&m.nodeType!==3||(d=l+i),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)h=m,m=x;for(;;){if(m===e)break n;if(h===t&&++c===o&&(u=l),h===r&&++f===i&&(d=l),(x=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=x}t=u===-1||d===-1?null:{start:u,end:d}}else t=null}t=t||{start:0,end:0}}else t=null;for(os={focusedElem:e,selectionRange:t},vo=!1,P=n;P!==null;)if(n=P,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,P=e;else for(;P!==null;){n=P;try{var C=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,A=C.memoizedState,y=n.stateNode,g=y.getSnapshotBeforeUpdate(n.elementType===n.type?T:ze(n.type,T),A);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=n.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(_){j(n,n.return,_)}if(e=n.sibling,e!==null){e.return=n.return,P=e;break}P=n.return}return C=Fa,Fa=!1,C}function ii(e,n,t){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,r!==void 0&&Cs(n,t,r)}o=o.next}while(o!==i)}}function Qo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var i=t.create;t.destroy=i()}t=t.next}while(t!==n)}}function Ts(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function pf(e){var n=e.alternate;n!==null&&(e.alternate=null,pf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Xe],delete n[yi],delete n[ls],delete n[Wm],delete n[Om])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mf(e){return e.tag===5||e.tag===3||e.tag===4}function Va(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _s(e,n,t){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=To));else if(i!==4&&(e=e.child,e!==null))for(_s(e,n,t),e=e.sibling;e!==null;)_s(e,n,t),e=e.sibling}function Ss(e,n,t){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ss(e,n,t),e=e.sibling;e!==null;)Ss(e,n,t),e=e.sibling}var ae=null,be=!1;function fn(e,n,t){for(t=t.child;t!==null;)hf(e,n,t),t=t.sibling}function hf(e,n,t){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(zo,t)}catch{}switch(t.tag){case 5:me||ut(t,n);case 6:var i=ae,o=be;ae=null,fn(e,n,t),ae=i,be=o,ae!==null&&(be?(e=ae,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):ae.removeChild(t.stateNode));break;case 18:ae!==null&&(be?(e=ae,t=t.stateNode,e.nodeType===8?Er(e.parentNode,t):e.nodeType===1&&Er(e,t),fi(e)):Er(ae,t.stateNode));break;case 4:i=ae,o=be,ae=t.stateNode.containerInfo,be=!0,fn(e,n,t),ae=i,be=o;break;case 0:case 11:case 14:case 15:if(!me&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var r=o,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&Cs(t,n,l),o=o.next}while(o!==i)}fn(e,n,t);break;case 1:if(!me&&(ut(t,n),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(u){j(t,n,u)}fn(e,n,t);break;case 21:fn(e,n,t);break;case 22:t.mode&1?(me=(i=me)||t.memoizedState!==null,fn(e,n,t),me=i):fn(e,n,t);break;default:fn(e,n,t)}}function Ga(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new uh),n.forEach(function(i){var o=xh.bind(null,e,i);t.has(i)||(t.add(i),i.then(o,o))})}}function Be(e,n){var t=n.deletions;if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];try{var r=e,l=n,u=l;e:for(;u!==null;){switch(u.tag){case 5:ae=u.stateNode,be=!1;break e;case 3:ae=u.stateNode.containerInfo,be=!0;break e;case 4:ae=u.stateNode.containerInfo,be=!0;break e}u=u.return}if(ae===null)throw Error(w(160));hf(r,l,o),ae=null,be=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(c){j(o,n,c)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)gf(n,e),n=n.sibling}function gf(e,n){var t=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(n,e),Ke(e),i&4){try{ii(3,e,e.return),Qo(3,e)}catch(T){j(e,e.return,T)}try{ii(5,e,e.return)}catch(T){j(e,e.return,T)}}break;case 1:Be(n,e),Ke(e),i&512&&t!==null&&ut(t,t.return);break;case 5:if(Be(n,e),Ke(e),i&512&&t!==null&&ut(t,t.return),e.flags&32){var o=e.stateNode;try{ai(o,"")}catch(T){j(e,e.return,T)}}if(i&4&&(o=e.stateNode,o!=null)){var r=e.memoizedProps,l=t!==null?t.memoizedProps:r,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&Vc(o,r),Or(u,l);var c=Or(u,r);for(l=0;l<d.length;l+=2){var f=d[l],m=d[l+1];f==="style"?zc(o,m):f==="dangerouslySetInnerHTML"?Hc(o,m):f==="children"?ai(o,m):bs(o,f,m,c)}switch(u){case"input":zr(o,r);break;case"textarea":Gc(o,r);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!r.multiple;var x=r.value;x!=null?ft(o,!!r.multiple,x,!1):h!==!!r.multiple&&(r.defaultValue!=null?ft(o,!!r.multiple,r.defaultValue,!0):ft(o,!!r.multiple,r.multiple?[]:"",!1))}o[yi]=r}catch(T){j(e,e.return,T)}}break;case 6:if(Be(n,e),Ke(e),i&4){if(e.stateNode===null)throw Error(w(162));o=e.stateNode,r=e.memoizedProps;try{o.nodeValue=r}catch(T){j(e,e.return,T)}}break;case 3:if(Be(n,e),Ke(e),i&4&&t!==null&&t.memoizedState.isDehydrated)try{fi(n.containerInfo)}catch(T){j(e,e.return,T)}break;case 4:Be(n,e),Ke(e);break;case 13:Be(n,e),Ke(e),o=e.child,o.flags&8192&&(r=o.memoizedState!==null,o.stateNode.isHidden=r,!r||o.alternate!==null&&o.alternate.memoizedState!==null||(_l=ne())),i&4&&Ga(e);break;case 22:if(f=t!==null&&t.memoizedState!==null,e.mode&1?(me=(c=me)||f,Be(n,e),me=c):Be(n,e),Ke(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(P=e,f=e.child;f!==null;){for(m=P=f;P!==null;){switch(h=P,x=h.child,h.tag){case 0:case 11:case 14:case 15:ii(4,h,h.return);break;case 1:ut(h,h.return);var C=h.stateNode;if(typeof C.componentWillUnmount=="function"){i=h,t=h.return;try{n=i,C.props=n.memoizedProps,C.state=n.memoizedState,C.componentWillUnmount()}catch(T){j(i,t,T)}}break;case 5:ut(h,h.return);break;case 22:if(h.memoizedState!==null){Ha(m);continue}}x!==null?(x.return=h,P=x):Ha(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{o=m.stateNode,c?(r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Bc("display",l))}catch(T){j(e,e.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(T){j(e,e.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Be(n,e),Ke(e),i&4&&Ga(e);break;case 21:break;default:Be(n,e),Ke(e)}}function Ke(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(mf(t)){var i=t;break e}t=t.return}throw Error(w(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(ai(o,""),i.flags&=-33);var r=Va(e);Ss(e,r,o);break;case 3:case 4:var l=i.stateNode.containerInfo,u=Va(e);_s(e,u,l);break;default:throw Error(w(161))}}catch(d){j(e,e.return,d)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dh(e,n,t){P=e,yf(e)}function yf(e,n,t){for(var i=(e.mode&1)!==0;P!==null;){var o=P,r=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||Yi;if(!l){var u=o.alternate,d=u!==null&&u.memoizedState!==null||me;u=Yi;var c=me;if(Yi=l,(me=d)&&!c)for(P=o;P!==null;)l=P,d=l.child,l.tag===22&&l.memoizedState!==null?Ba(o):d!==null?(d.return=l,P=d):Ba(o);for(;r!==null;)P=r,yf(r),r=r.sibling;P=o,Yi=u,me=c}qa(e)}else o.subtreeFlags&8772&&r!==null?(r.return=o,P=r):qa(e)}}function qa(e){for(;P!==null;){var n=P;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:me||Qo(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!me)if(t===null)i.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:ze(n.type,t.memoizedProps);i.componentDidUpdate(o,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=n.updateQueue;r!==null&&Sa(n,r,i);break;case 3:var l=n.updateQueue;if(l!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Sa(n,l,t)}break;case 5:var u=n.stateNode;if(t===null&&n.flags&4){t=u;var d=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&t.focus();break;case"img":d.src&&(t.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var c=n.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&fi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}me||n.flags&512&&Ts(n)}catch(h){j(n,n.return,h)}}if(n===e){P=null;break}if(t=n.sibling,t!==null){t.return=n.return,P=t;break}P=n.return}}function Ha(e){for(;P!==null;){var n=P;if(n===e){P=null;break}var t=n.sibling;if(t!==null){t.return=n.return,P=t;break}P=n.return}}function Ba(e){for(;P!==null;){var n=P;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{Qo(4,n)}catch(d){j(n,t,d)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var o=n.return;try{i.componentDidMount()}catch(d){j(n,o,d)}}var r=n.return;try{Ts(n)}catch(d){j(n,r,d)}break;case 5:var l=n.return;try{Ts(n)}catch(d){j(n,l,d)}}}catch(d){j(n,n.return,d)}if(n===e){P=null;break}var u=n.sibling;if(u!==null){u.return=n.return,P=u;break}P=n.return}}var fh=Math.ceil,Mo=cn.ReactCurrentDispatcher,Cl=cn.ReactCurrentOwner,Ve=cn.ReactCurrentBatchConfig,V=0,le=null,te=null,ue=0,Ae=0,ct=kn(0),oe=0,Si=null,Wn=0,Xo=0,Tl=0,oi=null,Te=null,_l=0,At=1/0,en=null,Do=!1,Es=null,En=null,Ki=!1,vn=null,Lo=0,ri=0,ws=null,lo=-1,ao=0;function ve(){return V&6?ne():lo!==-1?lo:lo=ne()}function wn(e){return e.mode&1?V&2&&ue!==0?ue&-ue:Km.transition!==null?(ao===0&&(ao=ed()),ao):(e=B,e!==0||(e=window.event,e=e===void 0?16:ld(e.type)),e):1}function We(e,n,t,i){if(50<ri)throw ri=0,ws=null,Error(w(185));Ii(e,t,i),(!(V&2)||e!==le)&&(e===le&&(!(V&2)&&(Xo|=t),oe===4&&gn(e,ue)),we(e,i),t===1&&V===0&&!(n.mode&1)&&(At=ne()+500,Oo&&Rn()))}function we(e,n){var t=e.callbackNode;Kp(e,n);var i=yo(e,e===le?ue:0);if(i===0)t!==null&&Ql(t),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(t!=null&&Ql(t),n===1)e.tag===0?Ym(za.bind(null,e)):Id(za.bind(null,e)),Jm(function(){!(V&6)&&Rn()}),t=null;else{switch(nd(i)){case 1:t=Ys;break;case 4:t=Zc;break;case 16:t=go;break;case 536870912:t=jc;break;default:t=go}t=wf(t,vf.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function vf(e,n){if(lo=-1,ao=0,V&6)throw Error(w(327));var t=e.callbackNode;if(yt()&&e.callbackNode!==t)return null;var i=yo(e,e===le?ue:0);if(i===0)return null;if(i&30||i&e.expiredLanes||n)n=Uo(e,i);else{n=i;var o=V;V|=2;var r=Cf();(le!==e||ue!==n)&&(en=null,At=ne()+500,Bn(e,n));do try{hh();break}catch(u){xf(e,u)}while(1);ll(),Mo.current=r,V=o,te!==null?n=0:(le=null,ue=0,n=oe)}if(n!==0){if(n===2&&(o=Zr(e),o!==0&&(i=o,n=Is(e,o))),n===1)throw t=Si,Bn(e,0),gn(e,i),we(e,ne()),t;if(n===6)gn(e,i);else{if(o=e.current.alternate,!(i&30)&&!ph(o)&&(n=Uo(e,i),n===2&&(r=Zr(e),r!==0&&(i=r,n=Is(e,r))),n===1))throw t=Si,Bn(e,0),gn(e,i),we(e,ne()),t;switch(e.finishedWork=o,e.finishedLanes=i,n){case 0:case 1:throw Error(w(345));case 2:Vn(e,Te,en);break;case 3:if(gn(e,i),(i&130023424)===i&&(n=_l+500-ne(),10<n)){if(yo(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){ve(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ss(Vn.bind(null,e,Te,en),n);break}Vn(e,Te,en);break;case 4:if(gn(e,i),(i&4194240)===i)break;for(n=e.eventTimes,o=-1;0<i;){var l=31-$e(i);r=1<<l,l=n[l],l>o&&(o=l),i&=~r}if(i=o,i=ne()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*fh(i/1960))-i,10<i){e.timeoutHandle=ss(Vn.bind(null,e,Te,en),i);break}Vn(e,Te,en);break;case 5:Vn(e,Te,en);break;default:throw Error(w(329))}}}return we(e,ne()),e.callbackNode===t?vf.bind(null,e):null}function Is(e,n){var t=oi;return e.current.memoizedState.isDehydrated&&(Bn(e,n).flags|=256),e=Uo(e,n),e!==2&&(n=Te,Te=t,n!==null&&As(n)),e}function As(e){Te===null?Te=e:Te.push.apply(Te,e)}function ph(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var o=t[i],r=o.getSnapshot;o=o.value;try{if(!Oe(r(),o))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gn(e,n){for(n&=~Tl,n&=~Xo,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-$e(n),i=1<<t;e[t]=-1,n&=~i}}function za(e){if(V&6)throw Error(w(327));yt();var n=yo(e,0);if(!(n&1))return we(e,ne()),null;var t=Uo(e,n);if(e.tag!==0&&t===2){var i=Zr(e);i!==0&&(n=i,t=Is(e,i))}if(t===1)throw t=Si,Bn(e,0),gn(e,n),we(e,ne()),t;if(t===6)throw Error(w(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vn(e,Te,en),we(e,ne()),null}function Sl(e,n){var t=V;V|=1;try{return e(n)}finally{V=t,V===0&&(At=ne()+500,Oo&&Rn())}}function On(e){vn!==null&&vn.tag===0&&!(V&6)&&yt();var n=V;V|=1;var t=Ve.transition,i=B;try{if(Ve.transition=null,B=1,e)return e()}finally{B=i,Ve.transition=t,V=n,!(V&6)&&Rn()}}function El(){Ae=ct.current,Y(ct)}function Bn(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,bm(t)),te!==null)for(t=te.return;t!==null;){var i=t;switch(ol(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&_o();break;case 3:wt(),Y(Se),Y(ge),pl();break;case 5:fl(i);break;case 4:wt();break;case 13:Y(Q);break;case 19:Y(Q);break;case 10:al(i.type._context);break;case 22:case 23:El()}t=t.return}if(le=e,te=e=In(e.current,null),ue=Ae=n,oe=0,Si=null,Tl=Xo=Wn=0,Te=oi=null,qn!==null){for(n=0;n<qn.length;n++)if(t=qn[n],i=t.interleaved,i!==null){t.interleaved=null;var o=i.next,r=t.pending;if(r!==null){var l=r.next;r.next=o,i.next=l}t.pending=i}qn=null}return e}function xf(e,n){do{var t=te;try{if(ll(),oo.current=Ro,ko){for(var i=X.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}ko=!1}if($n=0,se=ie=X=null,ti=!1,Ci=0,Cl.current=null,t===null||t.return===null){oe=1,Si=n,te=null;break}e:{var r=e,l=t.return,u=t,d=n;if(n=ue,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Pa(l);if(x!==null){x.flags&=-257,ka(x,l,u,r,n),x.mode&1&&Na(r,c,n),n=x,d=c;var C=n.updateQueue;if(C===null){var T=new Set;T.add(d),n.updateQueue=T}else C.add(d);break e}else{if(!(n&1)){Na(r,c,n),wl();break e}d=Error(w(426))}}else if(K&&u.mode&1){var A=Pa(l);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ka(A,l,u,r,n),rl(It(d,u));break e}}r=d=It(d,u),oe!==4&&(oe=2),oi===null?oi=[r]:oi.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,n&=-n,r.lanes|=n;var y=nf(r,d,n);_a(r,y);break e;case 1:u=d;var g=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(En===null||!En.has(v)))){r.flags|=65536,n&=-n,r.lanes|=n;var _=tf(r,u,n);_a(r,_);break e}}r=r.return}while(r!==null)}_f(t)}catch(S){n=S,te===t&&t!==null&&(te=t=t.return);continue}break}while(1)}function Cf(){var e=Mo.current;return Mo.current=Ro,e===null?Ro:e}function wl(){(oe===0||oe===3||oe===2)&&(oe=4),le===null||!(Wn&268435455)&&!(Xo&268435455)||gn(le,ue)}function Uo(e,n){var t=V;V|=2;var i=Cf();(le!==e||ue!==n)&&(en=null,Bn(e,n));do try{mh();break}catch(o){xf(e,o)}while(1);if(ll(),V=t,Mo.current=i,te!==null)throw Error(w(261));return le=null,ue=0,oe}function mh(){for(;te!==null;)Tf(te)}function hh(){for(;te!==null&&!Hp();)Tf(te)}function Tf(e){var n=Ef(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,n===null?_f(e):te=n,Cl.current=null}function _f(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=ah(t,n),t!==null){t.flags&=32767,te=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,te=null;return}}else if(t=lh(t,n,Ae),t!==null){te=t;return}if(n=n.sibling,n!==null){te=n;return}te=n=e}while(n!==null);oe===0&&(oe=5)}function Vn(e,n,t){var i=B,o=Ve.transition;try{Ve.transition=null,B=1,gh(e,n,t,i)}finally{Ve.transition=o,B=i}return null}function gh(e,n,t,i){do yt();while(vn!==null);if(V&6)throw Error(w(327));t=e.finishedWork;var o=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(w(177));e.callbackNode=null,e.callbackPriority=0;var r=t.lanes|t.childLanes;if(Qp(e,r),e===le&&(te=le=null,ue=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ki||(Ki=!0,wf(go,function(){return yt(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Ve.transition,Ve.transition=null;var l=B;B=1;var u=V;V|=4,Cl.current=null,ch(e,t),gf(t,e),Fm(os),vo=!!is,os=is=null,e.current=t,dh(t),Bp(),V=u,B=l,Ve.transition=r}else e.current=t;if(Ki&&(Ki=!1,vn=e,Lo=o),r=e.pendingLanes,r===0&&(En=null),Jp(t.stateNode),we(e,ne()),n!==null)for(i=e.onRecoverableError,t=0;t<n.length;t++)o=n[t],i(o.value,{componentStack:o.stack,digest:o.digest});if(Do)throw Do=!1,e=Es,Es=null,e;return Lo&1&&e.tag!==0&&yt(),r=e.pendingLanes,r&1?e===ws?ri++:(ri=0,ws=e):ri=0,Rn(),null}function yt(){if(vn!==null){var e=nd(Lo),n=Ve.transition,t=B;try{if(Ve.transition=null,B=16>e?16:e,vn===null)var i=!1;else{if(e=vn,vn=null,Lo=0,V&6)throw Error(w(331));var o=V;for(V|=4,P=e.current;P!==null;){var r=P,l=r.child;if(P.flags&16){var u=r.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(P=c;P!==null;){var f=P;switch(f.tag){case 0:case 11:case 15:ii(8,f,r)}var m=f.child;if(m!==null)m.return=f,P=m;else for(;P!==null;){f=P;var h=f.sibling,x=f.return;if(pf(f),f===c){P=null;break}if(h!==null){h.return=x,P=h;break}P=x}}}var C=r.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}P=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,P=l;else e:for(;P!==null;){if(r=P,r.flags&2048)switch(r.tag){case 0:case 11:case 15:ii(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,P=y;break e}P=r.return}}var g=e.current;for(P=g;P!==null;){l=P;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,P=v;else e:for(l=g;P!==null;){if(u=P,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Qo(9,u)}}catch(S){j(u,u.return,S)}if(u===l){P=null;break e}var _=u.sibling;if(_!==null){_.return=u.return,P=_;break e}P=u.return}}if(V=o,Rn(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(zo,e)}catch{}i=!0}return i}finally{B=t,Ve.transition=n}}return!1}function ba(e,n,t){n=It(t,n),n=nf(e,n,1),e=Sn(e,n,1),n=ve(),e!==null&&(Ii(e,1,n),we(e,n))}function j(e,n,t){if(e.tag===3)ba(e,e,t);else for(;n!==null;){if(n.tag===3){ba(n,e,t);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(En===null||!En.has(i))){e=It(t,e),e=tf(n,e,1),n=Sn(n,e,1),e=ve(),n!==null&&(Ii(n,1,e),we(n,e));break}}n=n.return}}function yh(e,n,t){var i=e.pingCache;i!==null&&i.delete(n),n=ve(),e.pingedLanes|=e.suspendedLanes&t,le===e&&(ue&t)===t&&(oe===4||oe===3&&(ue&130023424)===ue&&500>ne()-_l?Bn(e,0):Tl|=t),we(e,n)}function Sf(e,n){n===0&&(e.mode&1?(n=qi,qi<<=1,!(qi&130023424)&&(qi=4194304)):n=1);var t=ve();e=an(e,n),e!==null&&(Ii(e,n,t),we(e,t))}function vh(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),Sf(e,t)}function xh(e,n){var t=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(t=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(w(314))}i!==null&&i.delete(n),Sf(e,t)}var Ef;Ef=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||Se.current)_e=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return _e=!1,sh(e,n,t);_e=!!(e.flags&131072)}else _e=!1,K&&n.flags&1048576&&Ad(n,wo,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;so(e,n),e=n.pendingProps;var o=_t(n,ge.current);gt(n,t),o=hl(null,n,i,e,o,t);var r=gl();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ee(i)?(r=!0,So(n)):r=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,cl(n),o.updater=Ko,n.stateNode=o,o._reactInternals=n,ps(n,i,e,t),n=gs(null,n,i,!0,r,t)):(n.tag=0,K&&r&&il(n),ye(null,n,o,t),n=n.child),n;case 16:i=n.elementType;e:{switch(so(e,n),e=n.pendingProps,o=i._init,i=o(i._payload),n.type=i,o=n.tag=Th(i),e=ze(i,e),o){case 0:n=hs(null,n,i,e,t);break e;case 1:n=Da(null,n,i,e,t);break e;case 11:n=Ra(null,n,i,e,t);break e;case 14:n=Ma(null,n,i,ze(i.type,e),t);break e}throw Error(w(306,i,""))}return n;case 0:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ze(i,o),hs(e,n,i,o,t);case 1:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ze(i,o),Da(e,n,i,o,t);case 3:e:{if(lf(n),e===null)throw Error(w(387));i=n.pendingProps,r=n.memoizedState,o=r.element,Dd(e,n),No(n,i,null,t);var l=n.memoizedState;if(i=l.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=r,n.memoizedState=r,n.flags&256){o=It(Error(w(423)),n),n=La(e,n,i,t,o);break e}else if(i!==o){o=It(Error(w(424)),n),n=La(e,n,i,t,o);break e}else for(Pe=_n(n.stateNode.containerInfo.firstChild),ke=n,K=!0,Je=null,t=Rd(n,null,i,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(St(),i===o){n=un(e,n,t);break e}ye(e,n,i,t)}n=n.child}return n;case 5:return Ld(n),e===null&&cs(n),i=n.type,o=n.pendingProps,r=e!==null?e.memoizedProps:null,l=o.children,rs(i,o)?l=null:r!==null&&rs(i,r)&&(n.flags|=32),sf(e,n),ye(e,n,l,t),n.child;case 6:return e===null&&cs(n),null;case 13:return af(e,n,t);case 4:return dl(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=Et(n,null,i,t):ye(e,n,i,t),n.child;case 11:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ze(i,o),Ra(e,n,i,o,t);case 7:return ye(e,n,n.pendingProps,t),n.child;case 8:return ye(e,n,n.pendingProps.children,t),n.child;case 12:return ye(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(i=n.type._context,o=n.pendingProps,r=n.memoizedProps,l=o.value,$(Io,i._currentValue),i._currentValue=l,r!==null)if(Oe(r.value,l)){if(r.children===o.children&&!Se.current){n=un(e,n,t);break e}}else for(r=n.child,r!==null&&(r.return=n);r!==null;){var u=r.dependencies;if(u!==null){l=r.child;for(var d=u.firstContext;d!==null;){if(d.context===i){if(r.tag===1){d=rn(-1,t&-t),d.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}r.lanes|=t,d=r.alternate,d!==null&&(d.lanes|=t),ds(r.return,t,n),u.lanes|=t;break}d=d.next}}else if(r.tag===10)l=r.type===n.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(w(341));l.lanes|=t,u=l.alternate,u!==null&&(u.lanes|=t),ds(l,t,n),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===n){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}ye(e,n,o.children,t),n=n.child}return n;case 9:return o=n.type,i=n.pendingProps.children,gt(n,t),o=qe(o),i=i(o),n.flags|=1,ye(e,n,i,t),n.child;case 14:return i=n.type,o=ze(i,n.pendingProps),o=ze(i.type,o),Ma(e,n,i,o,t);case 15:return of(e,n,n.type,n.pendingProps,t);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ze(i,o),so(e,n),n.tag=1,Ee(i)?(e=!0,So(n)):e=!1,gt(n,t),ef(n,i,o),ps(n,i,o,t),gs(null,n,i,!0,e,t);case 19:return uf(e,n,t);case 22:return rf(e,n,t)}throw Error(w(156,n.tag))};function wf(e,n){return Xc(e,n)}function Ch(e,n,t,i){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,n,t,i){return new Ch(e,n,t,i)}function Il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Th(e){if(typeof e=="function")return Il(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$s)return 11;if(e===Ws)return 14}return 2}function In(e,n){var t=e.alternate;return t===null?(t=Fe(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function uo(e,n,t,i,o,r){var l=2;if(i=e,typeof e=="function")Il(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case et:return zn(t.children,o,r,n);case Js:l=8,o|=8;break;case Vr:return e=Fe(12,t,n,o|2),e.elementType=Vr,e.lanes=r,e;case Gr:return e=Fe(13,t,n,o),e.elementType=Gr,e.lanes=r,e;case qr:return e=Fe(19,t,n,o),e.elementType=qr,e.lanes=r,e;case Lc:return Zo(t,o,r,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mc:l=10;break e;case Dc:l=9;break e;case $s:l=11;break e;case Ws:l=14;break e;case pn:l=16,i=null;break e}throw Error(w(130,e==null?e:typeof e,""))}return n=Fe(l,t,n,o),n.elementType=e,n.type=i,n.lanes=r,n}function zn(e,n,t,i){return e=Fe(7,e,i,n),e.lanes=t,e}function Zo(e,n,t,i){return e=Fe(22,e,i,n),e.elementType=Lc,e.lanes=t,e.stateNode={isHidden:!1},e}function Mr(e,n,t){return e=Fe(6,e,null,n),e.lanes=t,e}function Dr(e,n,t){return n=Fe(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function _h(e,n,t,i,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Al(e,n,t,i,o,r,l,u,d){return e=new _h(e,n,t,u,d),n===1?(n=1,r===!0&&(n|=8)):n=0,r=Fe(3,null,null,n),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},cl(r),e}function Sh(e,n,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:i==null?null:""+i,children:e,containerInfo:n,implementation:t}}function If(e){if(!e)return Nn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(w(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ee(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(w(171))}if(e.tag===1){var t=e.type;if(Ee(t))return wd(e,t,n)}return n}function Af(e,n,t,i,o,r,l,u,d){return e=Al(t,i,!0,e,o,r,l,u,d),e.context=If(null),t=e.current,i=ve(),o=wn(t),r=rn(i,o),r.callback=n??null,Sn(t,r,o),e.current.lanes=o,Ii(e,o,i),we(e,i),e}function jo(e,n,t,i){var o=n.current,r=ve(),l=wn(o);return t=If(t),n.context===null?n.context=t:n.pendingContext=t,n=rn(r,l),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Sn(o,n,l),e!==null&&(We(e,o,l,r),io(e,o,l)),l}function Fo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ja(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function Nl(e,n){Ja(e,n),(e=e.alternate)&&Ja(e,n)}function Eh(){return null}var Nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pl(e){this._internalRoot=e}er.prototype.render=Pl.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(w(409));jo(e,n,null,null)};er.prototype.unmount=Pl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;On(function(){jo(null,e,null,null)}),n[ln]=null}};function er(e){this._internalRoot=e}er.prototype.unstable_scheduleHydration=function(e){if(e){var n=od();e={blockedOn:null,target:e,priority:n};for(var t=0;t<hn.length&&n!==0&&n<hn[t].priority;t++);hn.splice(t,0,e),t===0&&sd(e)}};function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nr(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $a(){}function wh(e,n,t,i,o){if(o){if(typeof i=="function"){var r=i;i=function(){var c=Fo(l);r.call(c)}}var l=Af(n,i,e,0,null,!1,!1,"",$a);return e._reactRootContainer=l,e[ln]=l.current,hi(e.nodeType===8?e.parentNode:e),On(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var u=i;i=function(){var c=Fo(d);u.call(c)}}var d=Al(e,0,!1,null,null,!1,!1,"",$a);return e._reactRootContainer=d,e[ln]=d.current,hi(e.nodeType===8?e.parentNode:e),On(function(){jo(n,d,t,i)}),d}function tr(e,n,t,i,o){var r=t._reactRootContainer;if(r){var l=r;if(typeof o=="function"){var u=o;o=function(){var d=Fo(l);u.call(d)}}jo(n,l,e,o)}else l=wh(t,n,e,o,i);return Fo(l)}td=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=Yt(n.pendingLanes);t!==0&&(Ks(n,t|1),we(n,ne()),!(V&6)&&(At=ne()+500,Rn()))}break;case 13:On(function(){var i=an(e,1);if(i!==null){var o=ve();We(i,e,1,o)}}),Nl(e,1)}};Qs=function(e){if(e.tag===13){var n=an(e,134217728);if(n!==null){var t=ve();We(n,e,134217728,t)}Nl(e,134217728)}};id=function(e){if(e.tag===13){var n=wn(e),t=an(e,n);if(t!==null){var i=ve();We(t,e,n,i)}Nl(e,n)}};od=function(){return B};rd=function(e,n){var t=B;try{return B=e,n()}finally{B=t}};Kr=function(e,n,t){switch(n){case"input":if(zr(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var i=t[n];if(i!==e&&i.form===e.form){var o=Wo(i);if(!o)throw Error(w(90));Fc(i),zr(i,o)}}}break;case"textarea":Gc(e,t);break;case"select":n=t.value,n!=null&&ft(e,!!t.multiple,n,!1)}};$c=Sl;Wc=On;var Ih={usingClientEntryPoint:!1,Events:[Ni,ot,Wo,bc,Jc,Sl]},bt={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ah={bundleType:bt.bundleType,version:bt.version,rendererPackageName:bt.rendererPackageName,rendererConfig:bt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kc(e),e===null?null:e.stateNode},findFiberByHostInstance:bt.findFiberByHostInstance||Eh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{zo=Qi.inject(Ah),Ze=Qi}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih;Me.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kl(n))throw Error(w(200));return Sh(e,n,null,t)};Me.createRoot=function(e,n){if(!kl(e))throw Error(w(299));var t=!1,i="",o=Nf;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),n=Al(e,1,!1,null,null,t,!1,i,o),e[ln]=n.current,hi(e.nodeType===8?e.parentNode:e),new Pl(n)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=Kc(n),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return On(e)};Me.hydrate=function(e,n,t){if(!nr(n))throw Error(w(200));return tr(null,e,n,!0,t)};Me.hydrateRoot=function(e,n,t){if(!kl(e))throw Error(w(405));var i=t!=null&&t.hydratedSources||null,o=!1,r="",l=Nf;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),n=Af(n,null,e,1,t??null,o,!1,r,l),e[ln]=n.current,hi(e),i)for(e=0;e<i.length;e++)t=i[e],o=t._getVersion,o=o(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o);return new er(n)};Me.render=function(e,n,t){if(!nr(n))throw Error(w(200));return tr(null,e,n,!1,t)};Me.unmountComponentAtNode=function(e){if(!nr(e))throw Error(w(40));return e._reactRootContainer?(On(function(){tr(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1};Me.unstable_batchedUpdates=Sl;Me.unstable_renderSubtreeIntoContainer=function(e,n,t,i){if(!nr(t))throw Error(w(200));if(e==null||e._reactInternals===void 0)throw Error(w(38));return tr(e,n,t,!1,i)};Me.version="18.3.1-next-f1338f8080-20240426";function Pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pf)}catch(e){console.error(e)}}Pf(),Nc.exports=Me;var Nh=Nc.exports,Wa=Nh;Ur.createRoot=Wa.createRoot,Ur.hydrateRoot=Wa.hydrateRoot;var G=(e=>(e.HOME="Welcome",e.JOB_AID="Comparative Table",e.CASE_STUDY="Interactive Case Study",e.VISUAL_CHALLENGE="Visual Challenge",e.DIAGNOSTIC_PATHWAY="Diagnostic Pathway",e.AI_CASE_GENERATOR="AI Case Generator",e.ANALYSIS="ADDIE: Analysis",e.DESIGN="ADDIE: Design",e.DEVELOPMENT="ADDIE: Development",e.EVALUATION="ADDIE: Evaluation",e))(G||{});const Rl=({className:e})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 10l-3 3"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 3.5v3m0 9.5V19m-3.5-6H4m12 0h-2.5"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l2.5 2.5"})]}),Ei=({className:e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Nt=({className:e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Vo=({className:e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),Ph=({className:e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 15a5.975 5.975 0 012.454-4.638M15 21a6 6 0 00-9-5.197"})}),kh=({className:e})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Rh=({className:e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Mh=({className:e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Dh=({className:e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),Lh=[G.HOME,G.JOB_AID,G.CASE_STUDY,G.VISUAL_CHALLENGE,G.DIAGNOSTIC_PATHWAY,G.AI_CASE_GENERATOR],Uh=[G.ANALYSIS,G.DESIGN,G.DEVELOPMENT,G.EVALUATION],Oa=({section:e,currentSection:n,onClick:t})=>p.jsx("button",{onClick:()=>t(e),className:`w-full text-left flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 ${n===e?"bg-blue-100 text-blue-700":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"}`,children:e},e),Ya=({title:e})=>p.jsx("h3",{className:"px-4 pt-4 pb-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:e}),Fh=({currentSection:e,onSectionChange:n,onLogout:t,currentUser:i,isOpen:o,onClose:r})=>{const l=u=>{n(u),r()};return p.jsxs(p.Fragment,{children:[p.jsx("div",{onClick:r,className:`fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden transition-opacity duration-300 ${o?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 w-64 bg-white shadow-md flex flex-col z-40 transform transition-transform duration-300 ease-in-out md:relative md:translate-x-0 md:shadow-md ${o?"translate-x-0":"-translate-x-full"}`,children:[p.jsxs("div",{className:"h-16 flex items-center justify-center border-b border-slate-200 px-4 flex-shrink-0",children:[p.jsx(Rl,{className:"h-8 w-8 text-blue-600"}),p.jsx("h1",{className:"ml-2 text-lg font-bold text-slate-800",children:"Pathology Module"})]}),p.jsxs("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:[p.jsx(Ya,{title:"The Learning Module"}),Lh.map(u=>p.jsx(Oa,{section:u,currentSection:e,onClick:l},u)),p.jsx(Ya,{title:"Instructional Design (ADDIE)"}),Uh.map(u=>p.jsx(Oa,{section:u,currentSection:e,onClick:l},u))]}),p.jsxs("div",{className:"px-4 py-4 border-t border-slate-200 flex-shrink-0",children:[i&&p.jsxs("div",{className:"flex items-center px-4 py-2.5 mb-2",children:[p.jsx(Mh,{className:"h-6 w-6 mr-3 text-slate-500"}),p.jsx("span",{className:"text-sm font-medium text-slate-600 truncate",children:i})]}),p.jsxs("button",{onClick:t,className:"w-full text-left flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-colors duration-200 text-slate-600 hover:bg-slate-100 hover:text-slate-900",children:[p.jsx(Rh,{className:"h-5 w-5 mr-3"}),"Logout"]}),p.jsx("div",{className:"mt-4 text-xs text-slate-500 text-center",children:p.jsx("p",{children:" 2024 Pathology Education"})})]})]})]})},H=Ic.forwardRef(({children:e,className:n=""},t)=>p.jsx("div",{ref:t,className:`bg-white rounded-xl shadow-sm border border-slate-200/80 p-6 mb-6 ${n}`,children:e}));H.displayName="Card";const Ka=()=>p.jsxs("div",{className:"space-y-8 animate-fade-in",children:[p.jsxs("header",{className:"text-center",children:[p.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-900 tracking-tight",children:"Granulomatous Diseases of the Lung"}),p.jsx("p",{className:"mt-4 text-lg text-slate-600",children:"An Interactive Learning Module for Pathology Residents"})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:"Welcome, Resident!"}),p.jsx("p",{className:"text-slate-600 leading-relaxed",children:"This module is designed to elevate your diagnostic skills in evaluating granulomatous diseases of the lung. The primary challenge in this area is not just identifying a granuloma, but navigating the significant morphologic overlap between different etiologies. Our goal is to move you from simple identification to integrated diagnostic reasoninga crucial skill for both daily sign-out and board examinations."}),p.jsx("p",{className:"mt-4 text-slate-600 leading-relaxed",children:"Use the sidebar to navigate through the learning experience. Heres a guide to the sections:"})]}),p.jsxs(H,{children:[p.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"The Learning Module"}),p.jsxs("ul",{className:"space-y-4 text-slate-600",children:[p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:G.JOB_AID}),p.jsx("p",{className:"text-sm",children:"A quick-reference table comparing high-yield features of Sarcoidosis and Tuberculosis."})]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:G.CASE_STUDY}),p.jsx("p",{className:"text-sm",children:"Work through a classic case of Hypersensitivity Pneumonitis with an interactive whole-slide image viewer."})]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:G.VISUAL_CHALLENGE}),p.jsx("p",{className:"text-sm",children:"Sharpen your morphologic eye by comparing Sarcoidosis and HP side-by-side on digital slides."})]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:G.DIAGNOSTIC_PATHWAY}),p.jsx("p",{className:"text-sm",children:"A comprehensive, multi-step quiz that guides you through the differential diagnosis of a wide range of granulomatous diseases."})]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:G.AI_CASE_GENERATOR}),p.jsx("p",{className:"text-sm",children:"Leverage the Gemini AI to generate unique, board-style cases on less common entities and receive instant feedback on your diagnostic skills."})]})]})]}),p.jsxs(H,{children:[p.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"About This Project (Instructional Design)"}),p.jsx("p",{className:"text-slate-600 mb-4",children:"This module was built using the ADDIE model of instructional design. The sections below provide a meta-narrative on how this learning experience was constructed, from initial analysis to final evaluation."}),p.jsxs("ul",{className:"space-y-2 text-slate-600 list-disc list-inside",children:[p.jsx("li",{children:G.ANALYSIS}),p.jsx("li",{children:G.DESIGN}),p.jsx("li",{children:G.DEVELOPMENT}),p.jsx("li",{children:G.EVALUATION})]})]})]}),Qt=({dziUrl:e})=>{const n=b.useRef(null);return b.useEffect(()=>{let t=null;return n.current&&e&&(t=OpenSeadragon({element:n.current,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.1.1/images/",tileSources:e,animationTime:.5,blendTime:.1,constrainDuringPan:!0,maxZoomPixelRatio:2,minZoomLevel:1,visibilityRatio:1,zoomPerScroll:2,showNavigator:!0,navigatorPosition:"BOTTOM_RIGHT",navigatorHeight:120,navigatorWidth:150})),()=>{t&&t.destroy()}},[e]),p.jsx("div",{ref:n,className:"w-full h-64 sm:h-96 bg-black rounded-lg shadow-md openseadragon-container","aria-label":"Interactive whole slide image viewer"})},Vh=()=>{const[e,n]=b.useState(null),[t,i]=b.useState(null),o=f=>!e&&n(f),r=f=>!t&&i(f),l="https://openslide.cs.cmu.edu/download/openslide-testdata/Aperio/CMU-1.svs.dzi",u="https://openseadragon.github.io/example-images/aperio/aperio.dzi",d="https://openslide.cs.cmu.edu/download/openslide-testdata/Aperio/CMU-1.svs.dzi",c="https://openseadragon.github.io/example-images/aperio/aperio.dzi";return p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Visual Discrimination Challenge"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Sharpening your eye for Sarcoidosis vs. Hypersensitivity Pneumonitis."})]}),p.jsxs(H,{children:[p.jsx("p",{className:"text-slate-600 mb-6",children:"This activity forces a direct, side-by-side comparison of key visual features. Pan and zoom on each digital slide to find the key features, then make your choice."}),p.jsxs("div",{className:"mb-10 pb-8 border-b border-slate-200",children:[p.jsx("h3",{className:"font-semibold text-lg text-slate-700 mb-3",children:"Challenge 1: Granuloma Quality"}),p.jsxs("p",{className:"mb-4",children:["Which slide shows the ",p.jsx("strong",{children:"'tightly-formed, well-circumscribed'"})," granuloma typical of Sarcoidosis?"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-center mb-2 text-slate-700",children:"Slide A"}),p.jsx(Qt,{dziUrl:l})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-center mb-2 text-slate-700",children:"Slide B"}),p.jsx(Qt,{dziUrl:u})]})]}),p.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-center gap-4",children:[p.jsx("button",{onClick:()=>o("A"),disabled:!!e,className:"px-6 py-2 bg-white border border-slate-300 rounded-md font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Select Slide A"}),p.jsx("button",{onClick:()=>o("B"),disabled:!!e,className:"px-6 py-2 bg-white border border-slate-300 rounded-md font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Select Slide B"})]}),e&&p.jsxs("div",{className:"mt-4",children:[e==="A"&&p.jsxs("div",{className:"p-3 rounded text-red-800 bg-red-50 border border-red-200 flex items-start",children:[p.jsx(Nt,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Slide A (Incorrect):"})," This slide represents a 'poorly-formed' granuloma typical of HP. Notice how the cells are loosely aggregated and blend into the surrounding inflammation."]})]}),e==="B"&&p.jsxs("div",{className:"p-3 rounded text-green-800 bg-green-50 border border-green-200 flex items-start",children:[p.jsx(Ei,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Slide B (Correct):"})," Notice the sharp borders and how the epithelioid histiocytes are tightly packed together. This is a classic 'sarcoidal' granuloma."]})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-lg text-slate-700 mb-3",children:"Challenge 2: Architectural Distribution"}),p.jsxs("p",{className:"mb-4",children:["Which slide shows the ",p.jsx("strong",{children:"'lymphangitic distribution'"})," typical of Sarcoidosis?"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-center mb-2 text-slate-700",children:"Slide A"}),p.jsx(Qt,{dziUrl:d})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-center mb-2 text-slate-700",children:"Slide B"}),p.jsx(Qt,{dziUrl:c})]})]}),p.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row justify-center gap-4",children:[p.jsx("button",{onClick:()=>r("A"),disabled:!!t,className:"px-6 py-2 bg-white border border-slate-300 rounded-md font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Select Slide A"}),p.jsx("button",{onClick:()=>r("B"),disabled:!!t,className:"px-6 py-2 bg-white border border-slate-300 rounded-md font-semibold text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Select Slide B"})]}),t&&p.jsxs("div",{className:"mt-4",children:[t==="A"&&p.jsxs("div",{className:"p-3 rounded text-red-800 bg-red-50 border border-red-200 flex items-start",children:[p.jsx(Nt,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Slide A (Incorrect):"})," This represents a 'bronchiolocentric' pattern, a key feature of HP. The inflammation is centered on the small airways."]})]}),t==="B"&&p.jsxs("div",{className:"p-3 rounded text-green-800 bg-green-50 border border-green-200 flex items-start",children:[p.jsx(Ei,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),p.jsxs("p",{children:[p.jsx("strong",{children:"Slide B (Correct):"})," This represents a lymphangitic distribution. The granulomas are following the lung's lymphatic drainage routes along the bronchovascular bundles and septa."]})]})]})]})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:"High-Yield Summary"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-slate-500",children:[p.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 rounded-l-lg",children:"Feature"}),p.jsx("th",{scope:"col",className:"px-6 py-3",children:"Sarcoidosis"}),p.jsx("th",{scope:"col",className:"px-6 py-3 rounded-r-lg",children:"Hypersensitivity Pneumonitis"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:"bg-white border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Quality"}),p.jsx("td",{className:"px-6 py-4",children:'Tight, Well-Formed, "Naked"'}),p.jsx("td",{className:"px-6 py-4",children:"Loose, Poorly-Formed, Cellular"})]}),p.jsxs("tr",{className:"bg-slate-50",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Location"}),p.jsx("td",{className:"px-6 py-4",children:"Lymphangitic (along bundles)"}),p.jsx("td",{className:"px-6 py-4",children:"Bronchiolocentric (around airways)"})]})]})]})})]})]})},Gh=()=>p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Comparative Table"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Distinguishing Sarcoidosis vs. Tuberculosis"})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:"High-Yield Distinctions"}),p.jsx("p",{className:"text-slate-600 mb-6",children:"This table highlights key distinguishing features between two common entities. Use it as a quick reference at the microscope."}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-slate-500",children:[p.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 rounded-l-lg",children:"Feature"}),p.jsx("th",{scope:"col",className:"px-6 py-3",children:"Classic Finding in Sarcoidosis"}),p.jsx("th",{scope:"col",className:"px-6 py-3 rounded-r-lg",children:"Classic Finding in Tuberculosis"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:"bg-white border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Granuloma Type"}),p.jsx("td",{className:"px-6 py-4",children:'Tightly formed, well-circumscribed, "naked" (scant lymphocytes).'}),p.jsx("td",{className:"px-6 py-4",children:"Can be well-formed or poorly-formed, often confluent, prominent rim of lymphocytes."})]}),p.jsxs("tr",{className:"bg-slate-50 border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Necrosis"}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Non-necrotizing"}),' ("non-caseating").']}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Caseating necrosis"})," (eosinophilic, granular, acellular debris)."]})]}),p.jsxs("tr",{className:"bg-white border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Distribution"}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Lymphangitic"})," (along bronchovascular bundles, septa, pleura)."]}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Apical and cavitary"})," (typically upper lobes)."]})]}),p.jsxs("tr",{className:"bg-slate-50 border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Associated Findings"}),p.jsx("td",{className:"px-6 py-4",children:"Schaumann bodies, Asteroid bodies."}),p.jsx("td",{className:"px-6 py-4",children:"Acid-fast bacilli (AFB) visible with special stain."})]})]})]})})]})]}),qh=()=>{const[e,n]=b.useState(!1),t="https://openseadragon.github.io/example-images/aperio/aperio.dzi";return p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Interactive Case Study"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Applying knowledge to a clinical scenario."})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:`Case: "The Bird Fancier's Cough"`}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Part 1: Clinical & Radiologic Data"}),p.jsx("p",{className:"text-slate-600",children:"You receive a lung wedge biopsy from a 55-year-old man with a 6-month history of progressive shortness of breath and a dry cough. He is a non-smoker but has kept pigeons in his attic for over 20 years. A chest CT shows diffuse, bilateral ground-glass opacities with centrilobular nodules."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Part 2: Histologic Findings"}),p.jsxs("div",{className:"space-y-3",children:[p.jsx(Qt,{dziUrl:t}),p.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-200 text-sm text-blue-800",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"How to Add Your Own Slides:"})," To display a slide, the viewer needs a direct link to the image's tile source, not a link to a webpage that contains a viewer."]}),p.jsxs("ul",{className:"list-disc list-inside mt-2 pl-2",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Correct Format:"})," A URL ending in ",p.jsx("strong",{children:"`.dzi`"})," (like the example used here) or a link to an IIIF manifest."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Incorrect Format:"})," A webpage URL like `https://pathpresenter.net/display/...`."]})]}),p.jsx("p",{className:"mt-2",children:"To use slides from a service like PathPresenter, you must check if they provide an API or an export option that gives you a direct tile source URL."})]}),p.jsx("p",{className:"text-slate-600 flex-1 pt-2",children:"The biopsy shows a cellular interstitial pneumonia. There are numerous small, poorly-formed granulomas centered on the bronchioles (bronchiolocentric). The granulomas are composed of loose collections of epithelioid histiocytes and multinucleated giant cells. There is no necrosis. The surrounding interstitium is expanded by a dense lymphoplasmacytic infiltrate, and scattered eosinophils are present. You also note foci of organizing pneumonia."})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Part 3: The Diagnostic Task"}),p.jsx("p",{className:"text-slate-600 mb-4",children:"Given the integrated clinical, radiologic, and histologic findings, construct a ranked differential diagnosis. Justify your top two choices."}),p.jsx("button",{onClick:()=>n(!e),className:"bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:e?"Hide Expert Answer":"Reveal Expert Answer"}),e&&p.jsxs("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg animate-fade-in",children:[p.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Expert's Answer:"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-green-700",children:"1. Hypersensitivity Pneumonitis (Subacute/Chronic)"}),p.jsxs("p",{className:"text-slate-600 text-sm",children:[p.jsx("strong",{children:"Justification:"})," This is the leading diagnosis. The clinical history (pigeon keeping), radiology (ground-glass, centrilobular nodules), and histology (cellular interstitial pneumonia, bronchiolocentric distribution, poorly-formed non-necrotizing granulomas) align perfectly."]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-orange-700",children:"2. Sarcoidosis"}),p.jsxs("p",{className:"text-slate-600 text-sm",children:[p.jsx("strong",{children:"Justification:"})," This is on the differential but less likely. In sarcoidosis, granulomas are typically well-formed and tight with a lymphangitic distribution, which is discordant with this case."]})]})]})]})]})]})]})]})},Hh={q1_sarc_dist:{id:"q1_sarc_dist",title:"Question 1: Sarcoidosis Distribution",question:"The distribution of well-formed, non-necrotizing granulomas in classic pulmonary sarcoidosis is typically described as following the lymphatic routes of the lung parenchyma, a pattern referred to as:",options:[{id:"a",text:"Bronchiolocentric",nextStep:"q2_hp_features",isCorrect:!1,feedback:"Incorrect. A bronchiolocentric pattern is centered on small airways and is a key feature of Hypersensitivity Pneumonitis, not Sarcoidosis."},{id:"b",text:"Air-space centered",nextStep:"q2_hp_features",isCorrect:!1,feedback:'Incorrect. An "air-space centered" distribution describes pathology filling the alveolar air spaces, like in bronchopneumonia. Sarcoidosis is an interstitial disease.'},{id:"c",text:"Lymphangitic",nextStep:"q2_hp_features",isCorrect:!0,feedback:'Correct. Sarcoidosis is a disease where the granulomas are confined to the interstitium. The granulomas follow the lymphatic routes along the visceral pleura, interlobular septa, and bronchovascular bundles, which is defined as a "lymphangitic distribution".'},{id:"d",text:"Panacinar",nextStep:"q2_hp_features",isCorrect:!1,feedback:"Incorrect. Panacinar describes a pattern of emphysema affecting the entire acinus, not a distribution pattern for granulomas."}]},q2_hp_features:{id:"q2_hp_features",title:"Question 2: Hypersensitivity Pneumonitis Features",question:"Histologic confirmation of classic, chronic hypersensitivity pneumonia (HP) relies on identifying which combination of features?",options:[{id:"a",text:"Well-formed, tightly clustered, non-necrotizing granulomas in a lymphangitic distribution.",nextStep:"q3_necrotizing_infections",isCorrect:!1,feedback:"Incorrect. This describes the classic findings of Sarcoidosis."},{id:"b",text:"Necrotizing granulomas with central bland necrosis and scarce organisms.",nextStep:"q3_necrotizing_infections",isCorrect:!1,feedback:"Incorrect. This pattern is characteristic of infectious granulomas, like Tuberculosis or Histoplasmosis."},{id:"c",text:"Loose, poorly formed non-necrotizing granulomas centered on the peribronchiolar interstitium.",nextStep:"q3_necrotizing_infections",isCorrect:!0,feedback:"Correct. HP is characterized by a lymphocyte-rich interstitial infiltrate in a distinctly bronchiolocentric fashion, with associated loosely formed granulomas."},{id:"d",text:"Granulomas predominantly situated within the lumens of distal airways.",nextStep:"q3_necrotizing_infections",isCorrect:!1,feedback:'Incorrect. This unusual air-space centered granuloma location is a key feature of the MAC infection variant known as "hot-tub lung".'}]},q3_necrotizing_infections:{id:"q3_necrotizing_infections",title:"Question 3: Necrotizing Granulomas",question:"Necrotizing granulomatous inflammation involving central bland (caseating) necrosis is characteristic of which major group of infectious diseases?",options:[{id:"a",text:"Tuberculosis and Endemic Fungal Infections (e.g., Histoplasmosis).",nextStep:"q4_blastomycosis",isCorrect:!0,feedback:"Correct. Tuberculosis is the classic example of caseating necrosis. Many endemic fungi, like Histoplasmosis, also produce necrotizing granulomas with central bland necrosis."},{id:"b",text:"Classic Granulomatosis with Polyangiitis (GPA).",nextStep:"q4_blastomycosis",isCorrect:!1,feedback:'Incorrect. The necrosis in GPA is typically "dirty" or suppurative, with neutrophilic debris, not bland.'},{id:"c",text:"MAC infection (hot-tub lung variant).",nextStep:"q4_blastomycosis",isCorrect:!1,feedback:"Incorrect. Hot-tub lung typically features non-necrotizing granulomas within the airways."},{id:"d",text:"Foreign body reaction (Aspiration pneumonia).",nextStep:"q4_blastomycosis",isCorrect:!1,feedback:"Incorrect. Aspiration can cause granulomas, but caseating necrosis is not a feature."}]},q4_blastomycosis:{id:"q4_blastomycosis",title:"Question 4: Suppurative Granulomas",question:"A lung biopsy reveals necrotizing granulomatous inflammation with a prominent component of necrotic neutrophils (suppuration). Which endemic fungal organism is classically associated with this histological pattern?",options:[{id:"a",text:"Histoplasma capsulatum",nextStep:"q5_crypto_op",isCorrect:!1,feedback:"Incorrect. Histoplasmosis typically causes bland, caseous-type necrosis, not suppurative inflammation."},{id:"b",text:"Blastomyces dermatitidis",nextStep:"q5_crypto_op",isCorrect:!0,feedback:"Correct. Blastomycosis is frequently characterized by suppurative granulomatous inflammation, where the central necrosis is rich in neutrophils."},{id:"c",text:"Coccidioides immitis",nextStep:"q5_crypto_op",isCorrect:!1,feedback:"Incorrect. Coccidioidomycosis causes necrotizing granulomas, but prominent suppuration is the classic feature of Blastomycosis."},{id:"d",text:"Cryptococcus neoformans",nextStep:"q5_crypto_op",isCorrect:!1,feedback:"Incorrect. Cryptococcus typically forms poorly-formed granulomas and is not associated with a prominent suppurative response."}]},q5_crypto_op:{id:"q5_crypto_op",title:"Question 5: Cryptococcus & Organizing Pneumonia",question:"A common manifestation of pulmonary cryptococcosis is organizing pneumonia (OP). This secondary OP is histologically distinguished from cryptogenic organizing pneumonia (COP) by the presence of:",options:[{id:"a",text:"Prominent foamy macrophages.",nextStep:"q6_ntm_hot_tub",isCorrect:!1,feedback:"Incorrect. Foamy macrophages are more characteristic of Pneumocystis Pneumonia."},{id:"b",text:"Diffuse alveolar damage (DAD).",nextStep:"q6_ntm_hot_tub",isCorrect:!1,feedback:"Incorrect. DAD is a pattern of acute lung injury, not typically seen with OP."},{id:"c",text:"Fibrin thrombi in small arteries.",nextStep:"q6_ntm_hot_tub",isCorrect:!1,feedback:"Incorrect. This would suggest a vasculitic or thrombotic process."},{id:"d",text:"Associated granulomatous inflammation including loose clusters of epithelioid cells and giant cells.",nextStep:"q6_ntm_hot_tub",isCorrect:!0,feedback:"Correct. Organizing pneumonia caused by Cryptococcus is distinguished by the presence of associated granulomatous inflammation. The yeast forms can often be found within the inflammatory infiltrate."}]},q6_ntm_hot_tub:{id:"q6_ntm_hot_tub",title:'Question 6: NTM "Hot-Tub Lung"',question:'The MAC infection variant known as "hot-tub lung" is notable because the non-necrotizing and focally necrotizing granulomas are situated predominantly within which location?',options:[{id:"a",text:"Bronchial wall interstitium (like middle lobe syndrome).",nextStep:"q7_gpa_microabscess",isCorrect:!1,feedback:"Incorrect. This describes a different pattern of NTM infection."},{id:"b",text:"Visceral pleura (lymphangitic pattern).",nextStep:"q7_gpa_microabscess",isCorrect:!1,feedback:"Incorrect. This is the pattern for Sarcoidosis."},{id:"c",text:"Lumens of distal airways.",nextStep:"q7_gpa_microabscess",isCorrect:!0,feedback:'Correct. In "hot-tub lung", the granulomas are uniquely situated within the lumens of distal airways, an unusual air-space centered location distinct from the interstitial location seen in Sarcoidosis or classic HP.'},{id:"d",text:"Alveolar septa (interstitial pneumonia).",nextStep:"q7_gpa_microabscess",isCorrect:!1,feedback:"Incorrect. While there is interstitial inflammation, the defining feature is the intraluminal location of the granulomas."}]},q7_gpa_microabscess:{id:"q7_gpa_microabscess",title:"Question 7: Granulomatosis with Polyangiitis (GPA)",question:"Which microscopic feature, characterized by a small focus of necrotic neutrophils surrounded by epithelioid histiocytes and giant cells, is considered an extremely helpful finding in the histologic diagnosis of classic GPA?",options:[{id:"a",text:"Central coagulative necrosis surrounded by palisading histiocytes.",nextStep:"q8_berylliosis_mimic",isCorrect:!1,feedback:"Incorrect. This describes a Rheumatoid Nodule."},{id:"b",text:"Geographic zones of bland necrosis.",nextStep:"q8_berylliosis_mimic",isCorrect:!1,feedback:"Incorrect. This is more typical for infectious granulomas like TB or Fungi."},{id:"c",text:"Granulomatous microabscess.",nextStep:"q8_berylliosis_mimic",isCorrect:!0,feedback:"Correct. The granulomatous microabscess is a highly characteristic, though not always present, finding in GPA that helps distinguish it from other necrotizing granulomatous diseases."},{id:"d",text:"Lymphoid aggregates with germinal centers.",nextStep:"q8_berylliosis_mimic",isCorrect:!1,feedback:"Incorrect. This is a non-specific finding of chronic inflammation."}]},q8_berylliosis_mimic:{id:"q8_berylliosis_mimic",title:"Question 8: Berylliosis Mimicry",question:"Chronic beryllium exposure can lead to pulmonary interstitial fibrosis and non-necrotizing granulomas. Histologically, this pneumoconiosis is indistinguishable from which noninfectious diffuse granulomatous lung disease?",options:[{id:"a",text:"Hypersensitivity Pneumonitis",nextStep:"q9_rheumatoid_nodule",isCorrect:!1,feedback:"Incorrect. HP granulomas are typically loose and poorly-formed, unlike the well-formed granulomas of Berylliosis."},{id:"b",text:"Hard Metal Pneumoconiosis",nextStep:"q9_rheumatoid_nodule",isCorrect:!1,feedback:"Incorrect. Hard metal disease (giant cell interstitial pneumonia) has a different histologic appearance."},{id:"c",text:"Pulmonary Sarcoidosis",nextStep:"q9_rheumatoid_nodule",isCorrect:!0,feedback:"Correct. Chronic Berylliosis causes well-formed, non-necrotizing granulomas that are histologically identical to those of Sarcoidosis. The distinction depends on clinical history of exposure and specialized testing."},{id:"d",text:"Silicosis",nextStep:"q9_rheumatoid_nodule",isCorrect:!1,feedback:"Incorrect. Silicotic nodules have a characteristic whorled, hyalinized collagen appearance."}]},q9_rheumatoid_nodule:{id:"q9_rheumatoid_nodule",title:"Question 9: Rheumatoid Nodule",question:"In lung pathology, the irregularly shaped granuloma known as the Rheumatoid Nodule is defined by a large geographic area of central coagulative necrosis surrounded by a peripheral layer of:",options:[{id:"a",text:"Prominent plasma cells.",nextStep:"q10_pjp_granuloma",isCorrect:!1,feedback:"Incorrect. While plasma cells may be in the surrounding inflammation, they do not define the border of the necrosis."},{id:"b",text:"Polymorphic lymphocytes.",nextStep:"q10_pjp_granuloma",isCorrect:!1,feedback:"Incorrect. This is non-specific."},{id:"c",text:"Palisading histiocytes.",nextStep:"q10_pjp_granuloma",isCorrect:!0,feedback:"Correct. The Rheumatoid Nodule is characterized by central coagulative necrosis surrounded by a distinctive fence-like arrangement of elongated histiocytes, known as palisading."},{id:"d",text:"Eosinophil-rich infiltrate.",nextStep:"q10_pjp_granuloma",isCorrect:!1,feedback:"Incorrect. A prominent eosinophilic infiltrate would suggest a different diagnosis, such as EGPA."}]},q10_pjp_granuloma:{id:"q10_pjp_granuloma",title:"Question 10: Pneumocystis Pneumonia (PJP) Granulomas",question:"While typically presenting with frothy intra-alveolar exudate, Pneumocystis pneumonia may rarely present with granulomatous inflammation. When granulomas are present in PJP, their characteristic location is:",options:[{id:"a",text:"Confined to the interlobular septa.",nextStep:"compendium",isCorrect:!1,feedback:"Incorrect. This describes a lymphangitic pattern."},{id:"b",text:"Centered around the vessel walls (vasculitis).",nextStep:"compendium",isCorrect:!1,feedback:"Incorrect. This would suggest a primary vasculitis."},{id:"c",text:"In the peribronchiolar interstitium.",nextStep:"compendium",isCorrect:!1,feedback:"Incorrect. This is the location for HP."},{id:"d",text:"Within the air space.",nextStep:"compendium",isCorrect:!0,feedback:"Correct. Granulomatous inflammation in PJP, when it occurs, involves poorly formed granulomas located within the air space, accompanying the characteristic frothy exudates."}]},compendium:{id:"compendium",title:"Diagnostic Compendium: Granulomatous Diseases",question:"",conclusion:"You have completed the diagnostic pathway. Below is a comprehensive summary table of key granulomatous diseases for your reference. This table integrates clinical, radiologic, and histopathologic features to aid in differential diagnosis."}},Qa={headers:["Disease Entity","Clinical/Radiology (HRCT)","Histopathology (Granuloma Characteristics)","Distribution Pattern","Serology/Special Tests","Differential Diagnosis Key Features"],rows:[["Sarcoidosis","Young/middle-aged adults. Exquisitely lymphangitic distribution (nodular/linear bands).","Well-formed, tightly clustered, non-necrotizing granulomas. Often dense collagen fibrosis. Non-necrotizing granulomatous vasculitis common.","Lymphangitic: Interstitium (septa, bronchovascular bundles, pleura).","Nonspecific inclusions (Schaumann bodies). Diagnosis of exclusion.","Must exclude granulomatous infections. Berylliosis is histologically indistinguishable."],["Hypersensitivity Pneumonia (HP)","Reaction to inhaled antigens. Ground-glass opacities, centrilobular nodules (early); honeycomb (late).","Loosely formed granulomas. Associated chronic bronchiolitis and lymphoplasmacytic infiltrate.","Bronchiolocentric: Centered on the peribronchiolar interstitium.","Identification of causative antigen is key.",'Fibrotic HP can mimic UIP. Classic HP differs from "hot-tub lung" (MAC).'],["Tuberculosis (TB)","Reactivation disease. Solitary nodule or miliary lesions.","Necrotizing (caseating) granuloma with central bland necrosis. Organisms are scarce.","N/A","Acid-fast stain shows scarce organisms. Culture or molecular required.","Histology shared with NTM; molecular testing required. Exclude endemic fungi."],["NTM / MAC Infections","Resembles TB. May involve localized bronchiectasis or hot-tub lung syndrome.","Varies: Necrotizing granulomas (like TB); Loose, non-necrotizing (airway wall); Non-necrotizing in distal airway lumens (Hot-tub lung).","N/A","Culture and molecular techniques.","Hot-tub lung variant has unique luminal granuloma location."],["Histoplasmosis","Endemic in Mississippi/Ohio River valleys. Persistent lung nodule.","Necrotizing granulomatous inflammation; central necrosis may be concentric/calcified. Acute form may resemble GPA.","N/A","GMS stain reveals small, uniform, oval-shaped yeasts.","Acute form may mimic Lymphomatoid Granulomatosis or GPA."],["Blastomycosis","Endemic in south/central US.","Necrotizing and non-necrotizing granulomas. Characteristically suppurative granulomatous inflammation.","N/A","Large, rounded yeasts with thick, doubly refractile cell walls and broad-based budding.","Distinguished from Cryptococcus (smaller) and Coccidioides."],["Cryptococcosis","Worldwide distribution. Isolated lung nodules.","Poorly formed, loose non-necrotizing and often coexisting necrotizing granulomas. Yeast in giant cells.","N/A","Yeast has clear halo (capsule). Mucicarmine stain is positive.","May present as secondary organizing pneumonia."],["Coccidioidomycosis","Endemic in southwestern US. Localized lung nodules. Tissue eosinophilia common.","Necrotizing granulomatous inflammation is most common.","N/A","Key feature: Large spherules containing multiple small endospores.","N/A"],["GPA (Classic Type)","Systemic vasculitis (upper respiratory, lung, kidney).","Necrotizing granulomatous inflammation (geographic dirty necrosis). Granulomatous microabscesses. Necrotizing vasculitis.","N/A","C-ANCA/PR3 positive (highly specific).","Histology may overlap with necrotizing infections. Requires clinical context."],["EGPA","Occurs in patients with asthma and blood eosinophilia.","Necrotizing granulomatous inflammation, eosinophilic pneumonia, and necrotizing vasculitis. Eosinophil-rich.","N/A","P-ANCA/MPO positive in a minority.","Distinguished from GPA by overwhelming eosinophilia."],["Rheumatoid Nodule","Associated with Rheumatoid Arthritis.","Irregularly shaped granuloma with large central coagulative necrosis. Surrounded by peripheral palisading histiocytes.","N/A","Diagnosis hinges on underlying CTD.","Distinguish from infections (no organisms) and vasculitides."],["Berylliosis","Requires history of beryllium exposure.","Interstitial fibrosis with non-necrotizing granulomas. May contain Schaumann bodies.","N/A","Beryllium Lymphocyte Proliferation Test.","Histologically indistinguishable from sarcoidosis."],["Langerhans Cell Histiocytosis (LCH)","Almost exclusively in smokers. Cysts and nodules, upper lobe predominant.","Bronchiolocentric nodules of Langerhans cells, eosinophils, and macrophages; vaguely granulomatous.","Bronchiolocentric","CD1a+, S-100+. Birbeck granules on EM.","N/A"],["Aspiration Pneumonia","Chronic presentation may mimic infection or tumor.","Chronic/necrotizing granulomatous inflammation (foreign body reaction) surrounding aspirated material.","Bronchiolocentric","Identification of foreign material (e.g., vegetable matter).","Must find foreign material to distinguish from infection."]]},Bh=()=>{const[e,n]=b.useState("q1_sarc_dist"),[t,i]=b.useState([]),o=b.useRef(null),r=Hh[e];b.useEffect(()=>{o.current&&o.current.scrollIntoView({behavior:"smooth",block:"end"})},[e]);const l=c=>{i([...t,{step:r,answerId:c.id}]),n(c.nextStep)},u=()=>{n("q1_sarc_dist"),i([])},d=(c,f)=>{var C;const m=t.some(T=>T.step.id===f.id),h=m&&((C=t.find(T=>T.step.id===f.id))==null?void 0:C.answerId)===c.id;let x="bg-white border-slate-300 hover:bg-slate-50";return h?x=c.isCorrect?"bg-green-50 border-green-500":"bg-red-50 border-red-500":m&&(x="bg-slate-50 border-slate-300 text-slate-500"),p.jsxs("div",{children:[p.jsxs("button",{disabled:m,onClick:()=>l(c),className:`w-full text-left p-4 border rounded-lg transition-all duration-200 flex items-center justify-between ${x} ${m?"cursor-default":"cursor-pointer"}`,children:[p.jsx("span",{className:"flex-1",children:c.text}),h&&c.isCorrect&&p.jsx(Ei,{className:"h-6 w-6 text-green-600"}),h&&!c.isCorrect&&p.jsx(Nt,{className:"h-6 w-6 text-red-600"})]}),h&&p.jsx("div",{className:`mt-2 text-sm p-3 rounded-lg ${c.isCorrect?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:c.feedback})]},c.id)};return p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Comprehensive Diagnostic Pathway"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Simulating a multi-stage diagnostic workflow for granulomatous diseases."})]}),t.map(({step:c,answerId:f},m)=>{var h;return p.jsxs(H,{className:"opacity-70 !shadow-none border-slate-200/60",children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-2",children:c.title}),c.information&&p.jsx("p",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 text-slate-600 mb-4",children:c.information}),p.jsx("p",{className:"font-semibold text-slate-600 mb-3",children:c.question}),p.jsx("div",{className:"space-y-3",children:(h=c.options)==null?void 0:h.map(x=>d(x,c))})]},m)}),p.jsxs(H,{ref:o,children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:r.title}),r.information&&p.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500 text-blue-800 space-y-3 mb-6",children:p.jsx("p",{children:r.information})}),r.question&&p.jsx("p",{className:"font-semibold text-slate-700 mb-4",children:r.question}),r.options&&p.jsx("div",{className:"space-y-3",children:r.options.map(c=>d(c,r))}),r.id==="compendium"&&p.jsxs("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg animate-fade-in",children:[p.jsxs("div",{className:"flex items-center text-lg font-semibold text-slate-800 mb-3",children:[p.jsx(Vo,{className:"h-6 w-6 text-blue-600 mr-2"}),r.conclusion]}),p.jsx("div",{className:"overflow-x-auto mt-4",children:p.jsxs("table",{className:"w-full text-sm text-left text-slate-500 border-collapse",children:[p.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100",children:p.jsx("tr",{children:Qa.headers.map(c=>p.jsx("th",{scope:"col",className:"px-4 py-3 border border-slate-200",children:c},c))})}),p.jsx("tbody",{children:Qa.rows.map((c,f)=>p.jsx("tr",{className:"bg-white even:bg-slate-50 border-b",children:c.map((m,h)=>p.jsx("td",{className:"px-4 py-3 border border-slate-200",children:m},h))},f))})]})}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:u,className:"bg-blue-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors",children:"Restart Pathway"})})]})]})]})},zh=({onStart:e})=>{const[n,t]=b.useState(""),[i,o]=b.useState(!1),r=l=>{l.preventDefault(),n.trim()!==""&&(o(!0),setTimeout(()=>{o(!1),e(n.trim())},500))};return p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-100",children:p.jsxs("div",{className:"w-full max-w-md px-4",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(Rl,{className:"h-12 w-12 text-blue-600 mx-auto"}),p.jsx("h1",{className:"mt-4 text-3xl font-bold text-slate-900 tracking-tight",children:"Pathology Learning Module"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"An educational experience for pathology residents."})]}),p.jsx(H,{className:"!p-8",children:p.jsxs("form",{onSubmit:r,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700",children:"Please enter your name to begin"}),p.jsx("div",{className:"mt-1",children:p.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"name",required:!0,value:n,onChange:l=>t(l.target.value),disabled:i,placeholder:"e.g., Dr. Smith",className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm bg-white text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-slate-100 disabled:text-slate-500 disabled:cursor-not-allowed"})})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:i||n.trim()==="",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400 disabled:cursor-not-allowed",children:i?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Starting..."]}):"Start Learning"})})]})})]})})},Jt=({icon:e,title:n})=>p.jsxs("div",{className:"flex items-center mb-4",children:[e,p.jsx("h2",{className:"ml-3 text-2xl font-semibold text-slate-800",children:n})]}),bh=[{question:"Based on the learner profile, what is the primary motivation for a pathology resident using this module?",options:[{id:"a",text:"General interest in lung diseases."},{id:"b",text:"A requirement for their academic curriculum."},{id:"c",text:"Achieving diagnostic competence for daily work and board exams."},{id:"d",text:"Learning basic histology from scratch."}],correctAnswer:"c",feedback:{a:"While interest is a factor, their primary driver is more practical and goal-oriented.",b:"This might be true, but their personal motivation is tied to professional competence.",c:"Correct. Residents are goal-oriented and focused on practical skills for their job and high-stakes exams.",d:"Incorrect. The analysis shows they already have a strong foundation in basic histology."}},{question:"What is the core diagnostic challenge this module aims to address?",options:[{id:"a",text:"The inability to identify a granuloma on a slide."},{id:"b",text:"The significant morphologic overlap between different causes of granulomas."},{id:"c",text:"A lack of knowledge about special stains."},{id:"d",text:"Difficulty in using a microscope."}],correctAnswer:"b",feedback:{a:"Incorrect. The analysis specifies that residents can already identify a granuloma; the problem is differentiating them.",b:"Correct. The key difficulty is that many different diseases can produce very similar-looking granulomas, requiring integrated reasoning.",c:"While important, knowing which stain to order is secondary to first understanding the differential diagnosis based on morphology.",d:"This is a basic skill assumed to be competent in pathology residents."}}],Jh=()=>{const[e,n]=b.useState([null,null]),t=(i,o)=>{if(e[i]===null){const r=[...e];r[i]=o,n(r)}};return p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Phase 1: Analysis"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Defining the learner, their knowledge gaps, and the context for learning."})]}),p.jsxs(H,{children:[p.jsx(Jt,{icon:p.jsx(Ph,{className:"h-7 w-7 text-blue-600"}),title:"1. Identify the Learner"}),p.jsxs("ul",{className:"space-y-4 text-slate-600 list-disc list-inside",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Who are they?"})," Pathology residents (PGY 1-3) with foundational medical knowledge."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Background Knowledge:"})," Strong understanding of general medicine, basic pathophysiology, and histology. They can define and identify a granuloma."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Experience Level:"})," Novice-to-Intermediate diagnosticians transitioning from theory to practice."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Motivations:"})," Goal-oriented, seeking diagnostic competence for daily work and board certification. They are practical, time-constrained, and highly visual learners."]})]})]}),p.jsxs(H,{children:[p.jsx(Jt,{icon:p.jsx(Rl,{className:"h-7 w-7 text-blue-600"}),title:"2. Analyze the Topic"}),p.jsxs("p",{className:"text-slate-600 mb-4",children:["The core difficulty is not identifying a granuloma, but differentiating between causes due to ",p.jsx("strong",{children:"significant morphologic overlap"}),"."]}),p.jsxs("ul",{className:"space-y-4 text-slate-600 list-disc list-inside",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Vast Differential Diagnosis:"})," Spans infectious, autoimmune, environmental, and drug-induced categories."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Non-Specific Histology:"})," Histologic patterns alone are often insufficient for a definitive diagnosis."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Necessity of Clinical Correlation:"})," Diagnosis requires skillful integration of clinical history, radiology, and microbiology with histology."]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Use of Ancillary Studies:"})," A critical skill is knowing which special stains to order and how to interpret them."]})]})]}),p.jsxs(H,{children:[p.jsx(Jt,{icon:p.jsx(kh,{className:"h-7 w-7 text-blue-600"}),title:"3. Define the Knowledge Gap"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Current State (What they can do)"}),p.jsxs("ul",{className:"space-y-2 text-slate-600 list-disc list-inside",children:[p.jsx("li",{children:"Define a granuloma."}),p.jsx("li",{children:"Identify a granuloma on a slide."}),p.jsx("li",{children:'Broadly classify as "necrotizing" or "non-necrotizing."'}),p.jsx("li",{children:"List a few classic causes."})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-slate-700 mb-2",children:"Desired State (What they need to do)"}),p.jsxs("ul",{className:"space-y-2 text-slate-600 list-disc list-inside",children:[p.jsx("li",{children:"Systematically evaluate morphology (quality, distribution)."}),p.jsx("li",{children:"Formulate a pattern-based differential diagnosis."}),p.jsx("li",{children:"Integrate multi-modal data (clinical, radiologic)."}),p.jsx("li",{children:"Guide the clinical workup with appropriate recommendations."})]})]})]}),p.jsx("div",{className:"mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg",children:p.jsxs("p",{className:"text-blue-800 font-medium",children:["The fundamental gap is the transition from ",p.jsx("span",{className:"font-bold",children:"simple identification"})," to ",p.jsx("span",{className:"font-bold",children:"integrated diagnostic reasoning"}),"."]})})]}),p.jsxs(H,{children:[p.jsx(Jt,{icon:p.jsx(Vo,{className:"h-7 w-7 text-blue-600"}),title:"Output of this Phase: The Recipe"}),p.jsxs("ul",{className:"space-y-3 text-slate-600",children:[p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:"Instructional Goal:"})," Advance from simple identification to clinically-integrated differential diagnosis."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:"Core Problem to Solve:"})," The vast and histologically overlapping differential diagnosis."]}),p.jsxs("li",{children:[p.jsx("strong",{className:"text-slate-700",children:"Instructional Approach:"})," Must be case-based and highly visual, structured by histologic pattern to mimic the actual diagnostic process."]})]})]}),p.jsxs(H,{children:[p.jsx(Jt,{icon:p.jsx(Vo,{className:"h-7 w-7 text-blue-600"}),title:"Knowledge Check"}),p.jsx("div",{className:"space-y-8",children:bh.map((i,o)=>p.jsxs("div",{children:[p.jsxs("p",{className:"font-semibold text-slate-700 mb-4",children:[o+1,". ",i.question]}),p.jsx("div",{className:"space-y-3",children:i.options.map(r=>{const l=e[o]!==null,u=e[o]===r.id,d=r.id===i.correctAnswer;let c="bg-white border-slate-300 hover:bg-slate-50";return l&&(d?c="bg-green-50 border-green-500 text-green-900":u?c="bg-red-50 border-red-500 text-red-900":c="bg-slate-50 border-slate-300 text-slate-500"),p.jsxs("button",{onClick:()=>t(o,r.id),disabled:l,className:`w-full text-left p-3 border rounded-lg transition-all duration-200 flex items-center justify-between ${c} ${l?"cursor-default":"cursor-pointer"}`,children:[p.jsx("span",{children:r.text}),l&&d&&p.jsx(Ei,{className:"h-5 w-5 text-green-600"}),l&&u&&!d&&p.jsx(Nt,{className:"h-5 w-5 text-red-600"})]},r.id)})}),e[o]&&p.jsx("div",{className:`mt-3 text-sm p-3 rounded-lg ${e[o]===i.correctAnswer?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:i.feedback[e[o]]})]},o))})]})]})},$h=()=>p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Phase 2: Design"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Creating specific, measurable learning objectives based on the analysis."})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:"Selecting Bloom's Taxonomy Levels"}),p.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:"The analysis revealed that the core problem is not a lack of foundational knowledge, but the inability to apply and synthesize it. Therefore, this module targets higher-order thinking skills."}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx("span",{className:"bg-slate-100 text-slate-700 text-sm font-medium px-3 py-1 rounded-full",children:"Remember"}),p.jsx("span",{className:"bg-slate-100 text-slate-700 text-sm font-medium px-3 py-1 rounded-full",children:"Understand"}),p.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-bold px-3 py-1 rounded-full",children:"Apply"}),p.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-bold px-3 py-1 rounded-full",children:"Analyze"}),p.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-bold px-3 py-1 rounded-full",children:"Evaluate"}),p.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-bold px-3 py-1 rounded-full",children:"Create"})]}),p.jsxs("p",{className:"mt-4 text-slate-600 leading-relaxed",children:["Instruction will operate primarily at the ",p.jsx("strong",{children:"Apply, Analyze, and Evaluate"})," levels, culminating in a ",p.jsx("strong",{children:"Create"})," task (formulating a diagnostic report)."]})]}),p.jsxs("div",{className:"mt-8",children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:"Learning Objectives"}),p.jsx("p",{className:"text-slate-600 leading-relaxed mb-6",children:"Upon completion of this module, the learner will be able to:"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(H,{className:"!mb-0 border-l-4 border-blue-500",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Objective 1: Analyze"}),p.jsxs("p",{className:"text-slate-600",children:["Given a high-resolution digital image of a lung biopsy containing granulomas, the pathology resident will ",p.jsx("strong",{className:"text-slate-700",children:"differentiate"})," the key morphologic features by correctly identifying the type of granuloma, its architectural distribution, and any associated findings."]})]}),p.jsxs(H,{className:"!mb-0 border-l-4 border-green-500",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Objective 2: Evaluate & Create"}),p.jsxs("p",{className:"text-slate-600",children:["Given a case study that includes a histologic pattern, a brief clinical history, and radiologic findings, the resident will ",p.jsx("strong",{className:"text-slate-700",children:"synthesize"})," the information to construct a clinically relevant, ranked differential diagnosis, justifying the top two diagnoses with specific evidence."]})]}),p.jsxs(H,{className:"!mb-0 border-l-4 border-purple-500",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Objective 3: Apply & Evaluate"}),p.jsxs("p",{className:"text-slate-600",children:["Based on a formulated differential diagnosis for a case, the resident will ",p.jsx("strong",{className:"text-slate-700",children:"propose"})," the most appropriate ancillary studies and correctly interpret the diagnostic implications of both a positive and a negative result, including limitations."]})]})]})]})]}),Wh=()=>{const[e,n]=b.useState(!1);return p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Phase 3: Development"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Creating the instructional content, media, and activities."})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:"Comparative Job Aid: Sarcoidosis vs. Tuberculosis"}),p.jsx("p",{className:"text-slate-600 mb-6",children:"This table highlights key distinguishing features between two common entities. Use it as a quick reference at the microscope."}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm text-left text-slate-500",children:[p.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 rounded-l-lg",children:"Feature"}),p.jsx("th",{scope:"col",className:"px-6 py-3",children:"Classic Finding in Sarcoidosis"}),p.jsx("th",{scope:"col",className:"px-6 py-3 rounded-r-lg",children:"Classic Finding in Tuberculosis"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:"bg-white border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Granuloma Type"}),p.jsx("td",{className:"px-6 py-4",children:'Tightly formed, well-circumscribed, "naked" (scant lymphocytes).'}),p.jsx("td",{className:"px-6 py-4",children:"Can be well-formed or poorly-formed, often confluent, prominent rim of lymphocytes."})]}),p.jsxs("tr",{className:"bg-slate-50 border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Necrosis"}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Non-necrotizing"}),' ("non-caseating").']}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Caseating necrosis"})," (eosinophilic, granular, acellular debris)."]})]}),p.jsxs("tr",{className:"bg-white border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Distribution"}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Lymphangitic"})," (along bronchovascular bundles, septa, pleura)."]}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsx("strong",{children:"Apical and cavitary"})," (typically upper lobes)."]})]}),p.jsxs("tr",{className:"bg-slate-50 border-b",children:[p.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-slate-900 whitespace-nowrap",children:"Associated Findings"}),p.jsx("td",{className:"px-6 py-4",children:"Schaumann bodies, Asteroid bodies."}),p.jsx("td",{className:"px-6 py-4",children:"Acid-fast bacilli (AFB) visible with special stain."})]})]})]})})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-4",children:`Interactive Case Study: "The Bird Fancier's Cough"`}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Part 1: Clinical & Radiologic Data"}),p.jsx("p",{className:"text-slate-600",children:"You receive a lung wedge biopsy from a 55-year-old man with a 6-month history of progressive shortness of breath and a dry cough. He is a non-smoker but has kept pigeons in his attic for over 20 years. A chest CT shows diffuse, bilateral ground-glass opacities with centrilobular nodules."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Part 2: Histologic Findings"}),p.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[p.jsx("img",{src:"https://picsum.photos/seed/pathology1/200/150",alt:"Histology slide",className:"rounded-lg shadow-md mt-1 w-full sm:w-48"}),p.jsx("p",{className:"text-slate-600 flex-1",children:"The biopsy shows a cellular interstitial pneumonia. There are numerous small, poorly-formed granulomas centered on the bronchioles (bronchiolocentric). The granulomas are composed of loose collections of epithelioid histiocytes and multinucleated giant cells. There is no necrosis. The surrounding interstitium is expanded by a dense lymphoplasmacytic infiltrate, and scattered eosinophils are present. You also note foci of organizing pneumonia."})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-2",children:"Part 3: The Diagnostic Task"}),p.jsx("p",{className:"text-slate-600 mb-4",children:"Given the integrated clinical, radiologic, and histologic findings, construct a ranked differential diagnosis. Justify your top two choices."}),p.jsx("button",{onClick:()=>n(!e),className:"bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:e?"Hide Expert Answer":"Reveal Expert Answer"}),e&&p.jsxs("div",{className:"mt-4 p-4 bg-slate-50 border border-slate-200 rounded-lg animate-fade-in",children:[p.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Expert's Answer:"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-green-700",children:"1. Hypersensitivity Pneumonitis (Subacute/Chronic)"}),p.jsxs("p",{className:"text-slate-600 text-sm",children:[p.jsx("strong",{children:"Justification:"})," This is the leading diagnosis. The clinical history (pigeon keeping), radiology (ground-glass, centrilobular nodules), and histology (cellular interstitial pneumonia, bronchiolocentric distribution, poorly-formed non-necrotizing granulomas) align perfectly."]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-orange-700",children:"2. Sarcoidosis"}),p.jsxs("p",{className:"text-slate-600 text-sm",children:[p.jsx("strong",{children:"Justification:"})," This is on the differential but less likely. In sarcoidosis, granulomas are typically well-formed and tight with a lymphangitic distribution, which is discordant with this case."]})]})]})]})]})]})]})]})},Oh=[{id:"A",text:"Sarcoidosis"},{id:"B",text:"Hypersensitivity Pneumonitis"},{id:"C",text:"Tuberculosis"},{id:"D",text:"Berylliosis"}],Xi="A",Yh={A:{title:"Sarcoidosis",rationale:"This is the classic presentation. The combination of bilateral hilar lymphadenopathy in an asymptomatic young adult with well-formed, non-necrotizing granulomas in a lymphangitic distribution is pathognomonic.",isCorrect:!0},B:{title:"Hypersensitivity Pneumonitis",rationale:"Incorrect. The granulomas in HP are typically poorly-formed and bronchiolocentric, not well-formed and lymphangitic. The clinical picture is also not typical for HP.",isCorrect:!1},C:{title:"Tuberculosis",rationale:'Incorrect. The stem explicitly states the granulomas are "non-necrotizing." Classic post-primary tuberculosis is characterized by caseating necrotizing granulomas.',isCorrect:!1},D:{title:"Berylliosis",rationale:"Incorrect. While histologically indistinguishable from sarcoidosis, berylliosis requires a specific clinical history of exposure to beryllium, which is absent here. Sarcoidosis is far more common.",isCorrect:!1}},Kh=()=>{const[e,n]=b.useState(null),[t,i]=b.useState(!1),o=u=>{t||n(u)},r=()=>{e&&i(!0)},l=u=>t?u===Xi?"bg-green-50 border-green-500 text-green-900":u===e?"bg-red-50 border-red-500 text-red-900":"bg-slate-50 border-slate-300 text-slate-500":e===u?"bg-blue-100 border-blue-500 ring-2 ring-blue-300":"bg-white border-slate-300 hover:bg-slate-50";return p.jsxs("div",{className:"animate-fade-in",children:[p.jsxs("header",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Board-Style Question"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Measuring your ability to integrate findings and form a diagnosis."})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Question: Integrate and Diagnose"}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 text-slate-600 space-y-3 mb-6",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Stem:"})," A 35-year-old woman presents for a pre-employment physical. She is asymptomatic. A routine chest X-ray reveals an abnormality, prompting a CT scan and subsequent transbronchial biopsy. The chest CT demonstrates bilateral hilar lymphadenopathy and subtle perilymphatic nodularity."]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Microscopic Findings:"})," Examination shows numerous, discrete, and well-formed non-necrotizing granulomas. They are composed of tight clusters of epithelioid histiocytes with scattered multinucleated giant cells and a minimal lymphocytic cuff. They are observed in the submucosa of a bronchiole and expanding the interstitium of adjacent alveolar septa, consistent with a lymphangitic distribution."]})]}),p.jsx("p",{className:"font-semibold text-slate-700 mb-4",children:"Based on the integration of all findings, what is the most likely diagnosis?"}),p.jsx("div",{className:"space-y-3",children:Oh.map(u=>p.jsxs("button",{onClick:()=>o(u.id),disabled:t,className:`w-full text-left p-4 border rounded-lg transition-all duration-200 flex items-center ${l(u.id)}`,children:[p.jsxs("span",{className:"font-bold mr-4",children:[u.id,"."]}),p.jsx("span",{className:"flex-1",children:u.text}),t&&u.id===Xi&&p.jsx(Ei,{className:"h-6 w-6 text-green-600"}),t&&u.id===e&&u.id!==Xi&&p.jsx(Nt,{className:"h-6 w-6 text-red-600"})]},u.id))}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:r,disabled:!e||t,className:"bg-blue-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed",children:"Submit Answer"})}),t&&p.jsx("div",{className:"mt-6 space-y-4 animate-fade-in",children:Object.entries(Yh).map(([u,d])=>e===u||u===Xi?p.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${d.isCorrect?"bg-green-50 border-green-500":"bg-red-50 border-red-500"}`,children:[p.jsxs("h4",{className:"font-bold",children:[d.isCorrect?"Correct:":"Incorrect:"," ",d.title]}),p.jsx("p",{className:"text-sm mt-1",children:d.rationale})]},u):null)})]})]})},Qh=({onMenuClick:e,currentSection:n})=>p.jsxs("header",{className:"md:hidden bg-white shadow-sm sticky top-0 z-20 flex items-center justify-between p-4 border-b border-slate-200",children:[p.jsx("button",{onClick:e,className:"text-slate-600 hover:text-slate-900 p-2 -ml-2","aria-label":"Open navigation menu",children:p.jsx(Dh,{className:"h-6 w-6"})}),p.jsx("h1",{className:"text-lg font-semibold text-slate-800 truncate",children:n}),p.jsx("div",{className:"w-6"})," "]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Xh,Zh;function jh(){return{geminiUrl:Xh,vertexUrl:Zh}}function eg(e,n,t,i){var o,r;if(!(e!=null&&e.baseUrl)){const l=jh();return n?(o=l.vertexUrl)!==null&&o!==void 0?o:t:(r=l.geminiUrl)!==null&&r!==void 0?r:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xn{}function D(e,n){const t=/\{([^}]+)\}/g;return e.replace(t,(i,o)=>{if(Object.prototype.hasOwnProperty.call(n,o)){const r=n[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(e,n,t){for(let r=0;r<n.length-1;r++){const l=n[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(t))e[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(t))for(let c=0;c<d.length;c++){const f=d[c];a(f,n.slice(r+1),t[c])}else for(const c of d)a(c,n.slice(r+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];a(d[0],n.slice(r+1),t);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const i=n[n.length-1],o=e[i];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(e,t):e[i]=t}function s(e,n,t=void 0){try{if(n.length===1&&n[0]==="_self")return e;for(let i=0;i<n.length;i++){if(typeof e!="object"||e===null)return t;const o=n[i];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in e){const l=e[r];return Array.isArray(l)?l.map(u=>s(u,n.slice(i+1),t)):t}else return t}else e=e[o]}return e}catch(i){if(i instanceof TypeError)return t;throw i}}function ng(e,n){for(const[t,i]of Object.entries(n)){const o=t.split("."),r=i.split("."),l=new Set;let u=-1;for(let d=0;d<o.length;d++)if(o[d]==="*"){u=d;break}if(u!==-1&&r.length>u)for(let d=u;d<r.length;d++){const c=r[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}Ns(e,o,r,0,l)}}function Ns(e,n,t,i,o){if(i>=n.length||typeof e!="object"||e===null)return;const r=n[i];if(r.endsWith("[]")){const l=r.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Ns(d,n,t,i+1,o)}else if(r==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!o.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const m=[];for(const h of t.slice(i))h==="*"?m.push(c):m.push(h);a(l,m,f)}for(const c of u)delete l[c]}}else{const l=e;r in l&&Ns(l[r],n,t,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ml(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tg(e){const n={},t=s(e,["operationName"]);t!=null&&a(n,["operationName"],t);const i=s(e,["resourceName"]);return i!=null&&a(n,["_url","resourceName"],i),n}function ig(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=s(e,["done"]);o!=null&&a(n,["done"],o);const r=s(e,["error"]);r!=null&&a(n,["error"],r);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(n,["response"],rg(l)),n}function og(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=s(e,["done"]);o!=null&&a(n,["done"],o);const r=s(e,["error"]);r!=null&&a(n,["error"],r);const l=s(e,["response"]);return l!=null&&a(n,["response"],sg(l)),n}function rg(e){const n={},t=s(e,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>lg(l))),a(n,["generatedVideos"],r)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function sg(e){const n={},t=s(e,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>ag(l))),a(n,["generatedVideos"],r)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function lg(e){const n={},t=s(e,["video"]);return t!=null&&a(n,["video"],dg(t)),n}function ag(e){const n={},t=s(e,["_self"]);return t!=null&&a(n,["video"],fg(t)),n}function ug(e){const n={},t=s(e,["operationName"]);return t!=null&&a(n,["_url","operationName"],t),n}function cg(e){const n={},t=s(e,["operationName"]);return t!=null&&a(n,["_url","operationName"],t),n}function dg(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["uri"],t);const i=s(e,["encodedVideo"]);i!=null&&a(n,["videoBytes"],Ml(i));const o=s(e,["encoding"]);return o!=null&&a(n,["mimeType"],o),n}function fg(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["uri"],t);const i=s(e,["bytesBase64Encoded"]);i!=null&&a(n,["videoBytes"],Ml(i));const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xa;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xa||(Xa={}));var Za;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Za||(Za={}));var ja;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(ja||(ja={}));var Ne;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ne||(Ne={}));var eu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(eu||(eu={}));var nu;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(nu||(nu={}));var tu;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(tu||(tu={}));var iu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(iu||(iu={}));var ou;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ou||(ou={}));var ru;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ru||(ru={}));var su;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(su||(su={}));var lu;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(lu||(lu={}));var au;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(au||(au={}));var uu;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uu||(uu={}));var cu;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(cu||(cu={}));var du;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(du||(du={}));var Go;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Go||(Go={}));var fu;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fu||(fu={}));var Ps;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ps||(Ps={}));var pu;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pu||(pu={}));var mu;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mu||(mu={}));var hu;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(hu||(hu={}));var gu;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(gu||(gu={}));var yu;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(yu||(yu={}));var vu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(vu||(vu={}));var xu;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xu||(xu={}));var Cu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Cu||(Cu={}));var Tu;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Tu||(Tu={}));var _u;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(_u||(_u={}));var Su;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Su||(Su={}));var Eu;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Eu||(Eu={}));var wu;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wu||(wu={}));var Iu;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Iu||(Iu={}));var Au;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Au||(Au={}));var Nu;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Nu||(Nu={}));var Pu;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Pu||(Pu={}));var ku;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(ku||(ku={}));var Ru;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Ru||(Ru={}));var Mu;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Mu||(Mu={}));var Du;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Du||(Du={}));var Lu;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Lu||(Lu={}));var Uu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Uu||(Uu={}));var Fu;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Fu||(Fu={}));var Vu;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Vu||(Vu={}));var Gu;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Gu||(Gu={}));var qu;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qu||(qu={}));var Hu;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hu||(Hu={}));var Bu;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Bu||(Bu={}));var dt;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(dt||(dt={}));class ks{constructor(n){const t={};for(const i of n.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=n}json(){return this.responseInternal.json()}}class $t{get text(){var n,t,i,o,r,l,u,d;if(((o=(i=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const m=[];for(const h of(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[x,C]of Object.entries(h))x!=="text"&&x!=="thought"&&(C!==null||C!==void 0)&&m.push(x);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var n,t,i,o,r,l,u,d;if(((o=(i=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const m of(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,x]of Object.entries(m))h!=="inlineData"&&(x!==null||x!==void 0)&&f.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var n,t,i,o,r,l,u,d;if(((o=(i=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var n,t,i,o,r,l,u,d,c;if(((o=(i=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var n,t,i,o,r,l,u,d,c;if(((o=(i=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class zu{}class bu{}class pg{}class mg{}class hg{}class gg{}class Ju{}class $u{}class Wu{}class yg{}class qo{_fromAPIResponse({apiResponse:n,isVertexAI:t}){const i=new qo;let o;const r=n;return t?o=og(r):o=ig(r),Object.assign(i,o),i}}class Ou{}class Yu{}class Ku{}class vg{}class xg{}class Cg{}class Qu{}class Tg{get text(){var n,t,i;let o="",r=!1;const l=[];for(const u of(i=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var n,t,i;let o="";const r=[];for(const l of(i=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class _g{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q(e,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const t=n.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function kf(e,n){const t=q(e,n);return t?t.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:t.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${t}`:t:""}function Rf(e){return Array.isArray(e)?e.map(n=>Ho(n)):[Ho(e)]}function Ho(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Mf(e){const n=Ho(e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Df(e){const n=Ho(e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Xu(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Lf(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Xu(n)):[Xu(e)]}function Rs(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Zu(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function ju(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function he(e){if(e==null)throw new Error("ContentUnion is required");return Rs(e)?e:{role:"user",parts:Lf(e)}}function Dl(e,n){if(!n)return[];if(e.isVertexAI()&&Array.isArray(n))return n.flatMap(t=>{const i=he(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const t=he(n);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(n)?n.map(t=>he(t)):[he(n)]}function Ge(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Zu(e)||ju(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[he(e)]}const n=[],t=[],i=Rs(e[0]);for(const o of e){const r=Rs(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)n.push(o);else{if(Zu(o)||ju(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(o)}}return i||n.push({role:"user",parts:Lf(t)}),n}function Sg(e,n){e.includes("null")&&(n.nullable=!0);const t=e.filter(i=>i!=="null");if(t.length===1)n.type=Object.values(Ne).includes(t[0].toUpperCase())?t[0].toUpperCase():Ne.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const i of t)n.anyOf.push({type:Object.values(Ne).includes(i.toUpperCase())?i.toUpperCase():Ne.TYPE_UNSPECIFIED})}}function vt(e){const n={},t=["items"],i=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=e.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(n.nullable=!0,e=r[1]):r[1].type==="null"&&(n.nullable=!0,e=r[0])),e.type instanceof Array&&Sg(e.type,n);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;n.type=Object.values(Ne).includes(u.toUpperCase())?u.toUpperCase():Ne.TYPE_UNSPECIFIED}else if(t.includes(l))n[l]=vt(u);else if(i.includes(l)){const d=[];for(const c of u){if(c.type=="null"){n.nullable=!0;continue}d.push(vt(c))}n[l]=d}else if(o.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=vt(f);n[l]=d}else{if(l==="additionalProperties")continue;n[l]=u}return n}function Ll(e){return vt(e)}function Ul(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fl(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Mt(e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=vt(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=vt(n.response));return e}function Dt(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const t of e)n.push(t);return n}function Eg(e,n,t,i=1){const o=!n.startsWith(`${t}/`)&&n.split("/").length===i;return e.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${e.getProject()}/${n}`:n.startsWith(`${t}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}/${n}`:n:o?`${t}/${n}`:n}function dn(e,n){if(typeof n!="string")throw new Error("name must be a string");return Eg(e,n,"cachedContents")}function Uf(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Mn(e){return Ml(e)}function wg(e){return e!=null&&typeof e=="object"&&"name"in e}function Ig(e){return e!=null&&typeof e=="object"&&"video"in e}function Ag(e){return e!=null&&typeof e=="object"&&"uri"in e}function Ff(e){var n;let t;if(wg(e)&&(t=e.name),!(Ag(e)&&(t=e.uri,t===void 0))&&!(Ig(e)&&(t=(n=e.video)===null||n===void 0?void 0:n.uri,t===void 0))){if(typeof e=="string"&&(t=e),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const o=t.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${t}`);t=o[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function Vf(e,n){let t;return e.isVertexAI()?t=n?"publishers/google/models":"models":t=n?"models":"tunedModels",t}function Gf(e){for(const n of["models","tunedModels","publisherModels"])if(Ng(e,n))return e[n];return[]}function Ng(e,n){return e!==null&&typeof e=="object"&&n in e}function Pg(e,n={}){const t=e,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),n.behavior&&(i.behavior=n.behavior),{functionDeclarations:[i]}}function kg(e,n={}){const t=[],i=new Set;for(const o of e){const r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);const l=Pg(o,n);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function qf(e,n){let t;if(typeof n=="string")if(e.isVertexAI())if(n.startsWith("gs://"))t={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))t={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))t={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:n}}else t=n;const i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,o=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Rg(e){if(typeof e!="string")return e;const n=e;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Hf(e){if(typeof e!="object"||e===null)return{};const n=e,t=n.inlinedResponses;if(typeof t!="object"||t===null)return e;const o=t.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let r=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){r=!0;break}}return r&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),e}function Lt(e,n){const t=n;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function Bf(e){const n=e;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mg(e){const n={},t=s(e,["responsesFile"]);t!=null&&a(n,["fileName"],t);const i=s(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>uy(l))),a(n,["inlinedResponses"],r)}const o=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(n,["inlinedEmbedContentResponses"],r)}return n}function Dg(e){const n={},t=s(e,["predictionsFormat"]);t!=null&&a(n,["format"],t);const i=s(e,["gcsDestination","outputUriPrefix"]);i!=null&&a(n,["gcsUri"],i);const o=s(e,["bigqueryDestination","outputUri"]);return o!=null&&a(n,["bigqueryUri"],o),n}function Lg(e){const n={},t=s(e,["format"]);t!=null&&a(n,["predictionsFormat"],t);const i=s(e,["gcsUri"]);i!=null&&a(n,["gcsDestination","outputUriPrefix"],i);const o=s(e,["bigqueryUri"]);if(o!=null&&a(n,["bigqueryDestination","outputUri"],o),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function co(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["metadata","displayName"]);i!=null&&a(n,["displayName"],i);const o=s(e,["metadata","state"]);o!=null&&a(n,["state"],Bf(o));const r=s(e,["metadata","createTime"]);r!=null&&a(n,["createTime"],r);const l=s(e,["metadata","endTime"]);l!=null&&a(n,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(n,["updateTime"],u);const d=s(e,["metadata","model"]);d!=null&&a(n,["model"],d);const c=s(e,["metadata","output"]);return c!=null&&a(n,["dest"],Mg(Hf(c))),n}function Ms(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=s(e,["state"]);o!=null&&a(n,["state"],Bf(o));const r=s(e,["error"]);r!=null&&a(n,["error"],r);const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(e,["model"]);f!=null&&a(n,["model"],f);const m=s(e,["inputConfig"]);m!=null&&a(n,["src"],Ug(m));const h=s(e,["outputConfig"]);return h!=null&&a(n,["dest"],Dg(Hf(h))),n}function Ug(e){const n={},t=s(e,["instancesFormat"]);t!=null&&a(n,["format"],t);const i=s(e,["gcsSource","uris"]);i!=null&&a(n,["gcsUri"],i);const o=s(e,["bigquerySource","inputUri"]);return o!=null&&a(n,["bigqueryUri"],o),n}function Fg(e,n){const t={};if(s(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(n,["fileName"]);i!=null&&a(t,["fileName"],i);const o=s(n,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>ay(e,l))),a(t,["requests","requests"],r)}return t}function Vg(e){const n={},t=s(e,["format"]);t!=null&&a(n,["instancesFormat"],t);const i=s(e,["gcsUri"]);i!=null&&a(n,["gcsSource","uris"],i);const o=s(e,["bigqueryUri"]);if(o!=null&&a(n,["bigquerySource","inputUri"],o),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Gg(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["data"]);t!=null&&a(n,["data"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function qg(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],Lt(e,i)),t}function Hg(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],Lt(e,i)),t}function Bg(e){const n={},t=s(e,["content"]);t!=null&&a(n,["content"],t);const i=s(e,["citationMetadata"]);i!=null&&a(n,["citationMetadata"],zg(i));const o=s(e,["tokenCount"]);o!=null&&a(n,["tokenCount"],o);const r=s(e,["finishReason"]);r!=null&&a(n,["finishReason"],r);const l=s(e,["urlContextMetadata"]);l!=null&&a(n,["urlContextMetadata"],l);const u=s(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const d=s(e,["groundingMetadata"]);d!=null&&a(n,["groundingMetadata"],d);const c=s(e,["index"]);c!=null&&a(n,["index"],c);const f=s(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const m=s(e,["safetyRatings"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(x=>x)),a(n,["safetyRatings"],h)}return n}function zg(e){const n={},t=s(e,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),a(n,["citations"],i)}return n}function zf(e){const n={},t=s(e,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>gy(r))),a(n,["parts"],o)}const i=s(e,["role"]);return i!=null&&a(n,["role"],i),n}function bg(e,n){const t={},i=s(e,["displayName"]);if(n!==void 0&&i!=null&&a(n,["batch","displayName"],i),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Jg(e,n){const t={},i=s(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const o=s(e,["dest"]);return n!==void 0&&o!=null&&a(n,["outputConfig"],Lg(Rg(o))),t}function ec(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["src"]);o!=null&&a(t,["batch","inputConfig"],Fg(e,qf(e,o)));const r=s(n,["config"]);return r!=null&&bg(r,t),t}function $g(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["model"],q(e,i));const o=s(n,["src"]);o!=null&&a(t,["inputConfig"],Vg(qf(e,o)));const r=s(n,["config"]);return r!=null&&Jg(r,t),t}function Wg(e,n){const t={},i=s(e,["displayName"]);return n!==void 0&&i!=null&&a(n,["batch","displayName"],i),t}function Og(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["src"]);o!=null&&a(t,["batch","inputConfig"],ey(e,o));const r=s(n,["config"]);return r!=null&&Wg(r,t),t}function Yg(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],Lt(e,i)),t}function Kg(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],Lt(e,i)),t}function Qg(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["name"]);i!=null&&a(n,["name"],i);const o=s(e,["done"]);o!=null&&a(n,["done"],o);const r=s(e,["error"]);return r!=null&&a(n,["error"],r),n}function Xg(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["name"]);i!=null&&a(n,["name"],i);const o=s(e,["done"]);o!=null&&a(n,["done"],o);const r=s(e,["error"]);return r!=null&&a(n,["error"],r),n}function Zg(e,n){const t={},i=s(n,["contents"]);if(i!=null){let r=Dl(e,i);Array.isArray(r)&&(r=r.map(l=>l)),a(t,["requests[]","request","content"],r)}const o=s(n,["config"]);return o!=null&&(a(t,["_self"],jg(o,t)),ng(t,{"requests[].*":"requests[].request.*"})),t}function jg(e,n){const t={},i=s(e,["taskType"]);n!==void 0&&i!=null&&a(n,["requests[]","taskType"],i);const o=s(e,["title"]);n!==void 0&&o!=null&&a(n,["requests[]","title"],o);const r=s(e,["outputDimensionality"]);if(n!==void 0&&r!=null&&a(n,["requests[]","outputDimensionality"],r),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function ey(e,n){const t={},i=s(n,["fileName"]);i!=null&&a(t,["file_name"],i);const o=s(n,["inlinedRequests"]);return o!=null&&a(t,["requests"],Zg(e,o)),t}function ny(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function ty(e,n,t){const i={},o=s(n,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],zf(he(o)));const r=s(n,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(n,["topP"]);l!=null&&a(i,["topP"],l);const u=s(n,["topK"]);u!=null&&a(i,["topK"],u);const d=s(n,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(n,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const m=s(n,["responseLogprobs"]);m!=null&&a(i,["responseLogprobs"],m);const h=s(n,["logprobs"]);h!=null&&a(i,["logprobs"],h);const x=s(n,["presencePenalty"]);x!=null&&a(i,["presencePenalty"],x);const C=s(n,["frequencyPenalty"]);C!=null&&a(i,["frequencyPenalty"],C);const T=s(n,["seed"]);T!=null&&a(i,["seed"],T);const A=s(n,["responseMimeType"]);A!=null&&a(i,["responseMimeType"],A);const y=s(n,["responseSchema"]);y!=null&&a(i,["responseSchema"],Ll(y));const g=s(n,["responseJsonSchema"]);if(g!=null&&a(i,["responseJsonSchema"],g),s(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(n,["safetySettings"]);if(t!==void 0&&v!=null){let z=v;Array.isArray(z)&&(z=z.map(de=>yy(de))),a(t,["safetySettings"],z)}const _=s(n,["tools"]);if(t!==void 0&&_!=null){let z=Dt(_);Array.isArray(z)&&(z=z.map(de=>vy(Mt(de)))),a(t,["tools"],z)}const S=s(n,["toolConfig"]);if(t!==void 0&&S!=null&&a(t,["toolConfig"],S),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=s(n,["cachedContent"]);t!==void 0&&E!=null&&a(t,["cachedContent"],dn(e,E));const I=s(n,["responseModalities"]);I!=null&&a(i,["responseModalities"],I);const N=s(n,["mediaResolution"]);N!=null&&a(i,["mediaResolution"],N);const k=s(n,["speechConfig"]);if(k!=null&&a(i,["speechConfig"],Ul(k)),s(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=s(n,["thinkingConfig"]);R!=null&&a(i,["thinkingConfig"],R);const J=s(n,["imageConfig"]);return J!=null&&a(i,["imageConfig"],J),i}function iy(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(c=>Bg(c))),a(n,["candidates"],d)}const o=s(e,["modelVersion"]);o!=null&&a(n,["modelVersion"],o);const r=s(e,["promptFeedback"]);r!=null&&a(n,["promptFeedback"],r);const l=s(e,["responseId"]);l!=null&&a(n,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(n,["usageMetadata"],u),n}function oy(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],Lt(e,i)),t}function ry(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],Lt(e,i)),t}function sy(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function ly(e){const n={},t=s(e,["timeRangeFilter"]);if(t!=null&&a(n,["timeRangeFilter"],t),s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function ay(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["request","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let u=Ge(o);Array.isArray(u)&&(u=u.map(d=>zf(d))),a(t,["request","contents"],u)}const r=s(n,["metadata"]);r!=null&&a(t,["metadata"],r);const l=s(n,["config"]);return l!=null&&a(t,["request","generationConfig"],ty(e,l,s(t,["request"],{}))),t}function uy(e){const n={},t=s(e,["response"]);t!=null&&a(n,["response"],iy(t));const i=s(e,["error"]);return i!=null&&a(n,["error"],i),n}function cy(e,n){const t={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=s(e,["pageToken"]);if(n!==void 0&&o!=null&&a(n,["_query","pageToken"],o),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function dy(e,n){const t={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=s(e,["pageToken"]);n!==void 0&&o!=null&&a(n,["_query","pageToken"],o);const r=s(e,["filter"]);return n!==void 0&&r!=null&&a(n,["_query","filter"],r),t}function fy(e){const n={},t=s(e,["config"]);return t!=null&&cy(t,n),n}function py(e){const n={},t=s(e,["config"]);return t!=null&&dy(t,n),n}function my(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const o=s(e,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>co(l))),a(n,["batchJobs"],r)}return n}function hy(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const o=s(e,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ms(l))),a(n,["batchJobs"],r)}return n}function gy(e){const n={},t=s(e,["videoMetadata"]);t!=null&&a(n,["videoMetadata"],t);const i=s(e,["thought"]);i!=null&&a(n,["thought"],i);const o=s(e,["inlineData"]);o!=null&&a(n,["inlineData"],Gg(o));const r=s(e,["fileData"]);r!=null&&a(n,["fileData"],ny(r));const l=s(e,["thoughtSignature"]);l!=null&&a(n,["thoughtSignature"],l);const u=s(e,["functionCall"]);u!=null&&a(n,["functionCall"],u);const d=s(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const c=s(e,["executableCode"]);c!=null&&a(n,["executableCode"],c);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function yy(e){const n={};if(s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=s(e,["category"]);t!=null&&a(n,["category"],t);const i=s(e,["threshold"]);return i!=null&&a(n,["threshold"],i),n}function vy(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),a(n,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],ly(i));const o=s(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],o),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&a(n,["googleMaps"],sy(r));const l=s(e,["urlContext"]);l!=null&&a(n,["urlContext"],l);const u=s(e,["computerUse"]);u!=null&&a(n,["computerUse"],u);const d=s(e,["codeExecution"]);return d!=null&&a(n,["codeExecution"],d),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Yn||(Yn={}));class ki{constructor(n,t,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(n,i,o)}init(n,t,i){var o,r;this.nameInternal=n,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xy extends Xn{constructor(n){super(),this.apiClient=n,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new ki(Yn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(t),t)}createInlinedGenerateContentRequest(n){const t=ec(this.apiClient,n),i=t._url,o=D("{model}:batchGenerateContent",i),u=t.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const m=Object.assign({},f);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const x=m.request;x.systemInstruction=h,m.request=x}c.push(m)}return u.requests=c,delete t.config,delete t._url,delete t._query,{path:o,body:t}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,t){const i=t?Object.assign({},t):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const r=this.getGcsUri(n),l=this.getBigqueryUri(n);if(r)r.endsWith(".jsonl")?i.dest=`${r.slice(0,-6)}/dest`:i.dest=`${r}_dest_${o}`;else if(l)i.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=$g(this.apiClient,n);return u=D("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ms(f))}else{const c=ec(this.apiClient,n);return u=D("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>co(f))}}async createEmbeddingsInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Og(this.apiClient,n);return r=D("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>co(d))}}async get(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ry(this.apiClient,n);return u=D("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ms(f))}else{const c=oy(this.apiClient,n);return u=D("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>co(f))}}async cancel(n){var t,i,o,r;let l="",u={};if(this.apiClient.isVertexAI()){const d=Hg(this.apiClient,n);l=D("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=qg(this.apiClient,n);l=D("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=py(n);return u=D("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=hy(f),h=new Qu;return Object.assign(h,m),h})}else{const c=fy(n);return u=D("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=my(f),h=new Qu;return Object.assign(h,m),h})}}async delete(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Kg(this.apiClient,n);return u=D("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Xg(f))}else{const c=Yg(this.apiClient,n);return u=D("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Qg(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cy(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["data"]);t!=null&&a(n,["data"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function nc(e){const n={},t=s(e,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>By(r))),a(n,["parts"],o)}const i=s(e,["role"]);return i!=null&&a(n,["role"],i),n}function Ty(e,n){const t={},i=s(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=s(e,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const r=s(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const l=s(e,["contents"]);if(n!==void 0&&l!=null){let f=Ge(l);Array.isArray(f)&&(f=f.map(m=>nc(m))),a(n,["contents"],f)}const u=s(e,["systemInstruction"]);n!==void 0&&u!=null&&a(n,["systemInstruction"],nc(he(u)));const d=s(e,["tools"]);if(n!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>zy(m))),a(n,["tools"],f)}const c=s(e,["toolConfig"]);if(n!==void 0&&c!=null&&a(n,["toolConfig"],c),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function _y(e,n){const t={},i=s(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=s(e,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const r=s(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const l=s(e,["contents"]);if(n!==void 0&&l!=null){let m=Ge(l);Array.isArray(m)&&(m=m.map(h=>h)),a(n,["contents"],m)}const u=s(e,["systemInstruction"]);n!==void 0&&u!=null&&a(n,["systemInstruction"],he(u));const d=s(e,["tools"]);if(n!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>by(h))),a(n,["tools"],m)}const c=s(e,["toolConfig"]);n!==void 0&&c!=null&&a(n,["toolConfig"],c);const f=s(e,["kmsKeyName"]);return n!==void 0&&f!=null&&a(n,["encryption_spec","kmsKeyName"],f),t}function Sy(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["model"],kf(e,i));const o=s(n,["config"]);return o!=null&&Ty(o,t),t}function Ey(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["model"],kf(e,i));const o=s(n,["config"]);return o!=null&&_y(o,t),t}function wy(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],dn(e,i)),t}function Iy(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],dn(e,i)),t}function Ay(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function Ny(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function Py(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function ky(e){const n={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(e,["description"]);t!=null&&a(n,["description"],t);const i=s(e,["name"]);i!=null&&a(n,["name"],i);const o=s(e,["parameters"]);o!=null&&a(n,["parameters"],o);const r=s(e,["parametersJsonSchema"]);r!=null&&a(n,["parametersJsonSchema"],r);const l=s(e,["response"]);l!=null&&a(n,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(n,["responseJsonSchema"],u),n}function Ry(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],dn(e,i)),t}function My(e,n){const t={},i=s(n,["name"]);return i!=null&&a(t,["_url","name"],dn(e,i)),t}function Dy(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function Ly(e){const n={},t=s(e,["timeRangeFilter"]);if(t!=null&&a(n,["timeRangeFilter"],t),s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Uy(e,n){const t={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=s(e,["pageToken"]);return n!==void 0&&o!=null&&a(n,["_query","pageToken"],o),t}function Fy(e,n){const t={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=s(e,["pageToken"]);return n!==void 0&&o!=null&&a(n,["_query","pageToken"],o),t}function Vy(e){const n={},t=s(e,["config"]);return t!=null&&Uy(t,n),n}function Gy(e){const n={},t=s(e,["config"]);return t!=null&&Fy(t,n),n}function qy(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const o=s(e,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(n,["cachedContents"],r)}return n}function Hy(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const o=s(e,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(n,["cachedContents"],r)}return n}function By(e){const n={},t=s(e,["videoMetadata"]);t!=null&&a(n,["videoMetadata"],t);const i=s(e,["thought"]);i!=null&&a(n,["thought"],i);const o=s(e,["inlineData"]);o!=null&&a(n,["inlineData"],Cy(o));const r=s(e,["fileData"]);r!=null&&a(n,["fileData"],Py(r));const l=s(e,["thoughtSignature"]);l!=null&&a(n,["thoughtSignature"],l);const u=s(e,["functionCall"]);u!=null&&a(n,["functionCall"],u);const d=s(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const c=s(e,["executableCode"]);c!=null&&a(n,["executableCode"],c);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function zy(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),a(n,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],Ly(i));const o=s(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],o),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&a(n,["googleMaps"],Dy(r));const l=s(e,["urlContext"]);l!=null&&a(n,["urlContext"],l);const u=s(e,["computerUse"]);u!=null&&a(n,["computerUse"],u);const d=s(e,["codeExecution"]);return d!=null&&a(n,["codeExecution"],d),n}function by(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(h=>ky(h))),a(n,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&a(n,["retrieval"],i);const o=s(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const l=s(e,["enterpriseWebSearch"]);l!=null&&a(n,["enterpriseWebSearch"],l);const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],u);const d=s(e,["urlContext"]);d!=null&&a(n,["urlContext"],d);const c=s(e,["computerUse"]);c!=null&&a(n,["computerUse"],c);const f=s(e,["codeExecution"]);return f!=null&&a(n,["codeExecution"],f),n}function Jy(e,n){const t={},i=s(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=s(e,["expireTime"]);return n!==void 0&&o!=null&&a(n,["expireTime"],o),t}function $y(e,n){const t={},i=s(e,["ttl"]);n!==void 0&&i!=null&&a(n,["ttl"],i);const o=s(e,["expireTime"]);return n!==void 0&&o!=null&&a(n,["expireTime"],o),t}function Wy(e,n){const t={},i=s(n,["name"]);i!=null&&a(t,["_url","name"],dn(e,i));const o=s(n,["config"]);return o!=null&&Jy(o,t),t}function Oy(e,n){const t={},i=s(n,["name"]);i!=null&&a(t,["_url","name"],dn(e,i));const o=s(n,["config"]);return o!=null&&$y(o,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yy extends Xn{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new ki(Yn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(t),t)}async create(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ey(this.apiClient,n);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Sy(this.apiClient,n);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=My(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Ry(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Iy(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Ny(f),h=new Yu;return Object.assign(h,m),h})}else{const c=wy(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Ay(f),h=new Yu;return Object.assign(h,m),h})}}async update(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Oy(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Wy(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Gy(n);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Hy(f),h=new Ku;return Object.assign(h,m),h})}else{const c=Vy(n);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=qy(f),h=new Ku;return Object.assign(h,m),h})}}}function tc(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e){return this instanceof O?(this.v=e,this):new O(e)}function xt(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(x){return function(C){return Promise.resolve(C).then(x,m)}}function u(x,C){i[x]&&(o[x]=function(T){return new Promise(function(A,y){r.push([x,T,A,y])>1||d(x,T)})},C&&(o[x]=C(o[x])))}function d(x,C){try{c(i[x](C))}catch(T){h(r[0][3],T)}}function c(x){x.value instanceof O?Promise.resolve(x.value.v).then(f,m):h(r[0][2],x)}function f(x){d("next",x)}function m(x){d("throw",x)}function h(x,C){x(C),r.shift(),r.length&&d(r[0][0],r[0][1])}}function si(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof tc=="function"?tc(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(l){return new Promise(function(u,d){l=e[r](l),o(u,d,l.done,l.value)})}}function o(r,l,u,d){Promise.resolve(d).then(function(c){r({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ky(e){var n;if(e.candidates==null||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;return t===void 0?!1:bf(t)}function bf(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const n of e.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function Qy(e){if(e.length!==0){for(const n of e)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function ic(e){if(e===void 0||e.length===0)return[];const n=[],t=e.length;let i=0;for(;i<t;)if(e[i].role==="user")n.push(e[i]),i++;else{const o=[];let r=!0;for(;i<t&&e[i].role==="model";)o.push(e[i]),r&&!bf(e[i])&&(r=!1),i++;r?n.push(...o):n.pop()}return n}class Xy{constructor(n,t){this.modelsModule=n,this.apiClient=t}create(n){return new Zy(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class Zy{constructor(n,t,i,o={},r=[]){this.apiClient=n,this.modelsModule=t,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),Qy(r)}async sendMessage(n){var t;await this.sendPromise;const i=he(n.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=n.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,l,u;const d=await o,c=(l=(r=d.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(m))!==null&&u!==void 0?u:[]);const x=c?[c]:[];this.recordHistory(i,x,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(n){var t;await this.sendPromise;const i=he(n.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=n.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,i)}getHistory(n=!1){const t=n?ic(this.history):this.history;return structuredClone(t)}processStreamResponse(n,t){var i,o;return xt(this,arguments,function*(){var l,u,d,c;const f=[];try{for(var m=!0,h=si(n),x;x=yield O(h.next()),l=x.done,!l;m=!0){c=x.value,m=!1;const C=c;if(Ky(C)){const T=(o=(i=C.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;T!==void 0&&f.push(T)}yield yield O(C)}}catch(C){u={error:C}}finally{try{!m&&!l&&(d=h.return)&&(yield O(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(n,t,i){let o=[];t.length>0&&t.every(r=>r.role!==void 0)?o=t:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...ic(i)):this.history.push(n),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ir extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,ir.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jy(e){const n={},t=s(e,["file"]);return t!=null&&a(n,["file"],t),n}function e0(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function n0(e){const n={},t=s(e,["name"]);return t!=null&&a(n,["_url","file"],Ff(t)),n}function t0(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function i0(e){const n={},t=s(e,["name"]);return t!=null&&a(n,["_url","file"],Ff(t)),n}function o0(e,n){const t={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const o=s(e,["pageToken"]);return n!==void 0&&o!=null&&a(n,["_query","pageToken"],o),t}function r0(e){const n={},t=s(e,["config"]);return t!=null&&o0(t,n),n}function s0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const o=s(e,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(n,["files"],r)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l0 extends Xn{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new ki(Yn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(t),t)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(t=>t)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=r0(n);return r=D("files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=s0(d),f=new vg;return Object.assign(f,c),f})}}async createInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jy(n);return r=D("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=e0(d),f=new xg;return Object.assign(f,c),f})}}async get(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=i0(n);return r=D("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n0(n);return r=D("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=t0(d),f=new Cg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fo(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["data"]);t!=null&&a(n,["data"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function a0(e){const n={},t=s(e,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>S0(r))),a(n,["parts"],o)}const i=s(e,["role"]);return i!=null&&a(n,["role"],i),n}function u0(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function c0(e){const n={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(e,["description"]);t!=null&&a(n,["description"],t);const i=s(e,["name"]);i!=null&&a(n,["name"],i);const o=s(e,["parameters"]);o!=null&&a(n,["parameters"],o);const r=s(e,["parametersJsonSchema"]);r!=null&&a(n,["parametersJsonSchema"],r);const l=s(e,["response"]);l!=null&&a(n,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(n,["responseJsonSchema"],u),n}function d0(e){const n={},t=s(e,["modelSelectionConfig"]);t!=null&&a(n,["modelConfig"],t);const i=s(e,["audioTimestamp"]);i!=null&&a(n,["audioTimestamp"],i);const o=s(e,["candidateCount"]);o!=null&&a(n,["candidateCount"],o);const r=s(e,["enableAffectiveDialog"]);r!=null&&a(n,["enableAffectiveDialog"],r);const l=s(e,["frequencyPenalty"]);l!=null&&a(n,["frequencyPenalty"],l);const u=s(e,["logprobs"]);u!=null&&a(n,["logprobs"],u);const d=s(e,["maxOutputTokens"]);d!=null&&a(n,["maxOutputTokens"],d);const c=s(e,["mediaResolution"]);c!=null&&a(n,["mediaResolution"],c);const f=s(e,["presencePenalty"]);f!=null&&a(n,["presencePenalty"],f);const m=s(e,["responseJsonSchema"]);m!=null&&a(n,["responseJsonSchema"],m);const h=s(e,["responseLogprobs"]);h!=null&&a(n,["responseLogprobs"],h);const x=s(e,["responseMimeType"]);x!=null&&a(n,["responseMimeType"],x);const C=s(e,["responseModalities"]);C!=null&&a(n,["responseModalities"],C);const T=s(e,["responseSchema"]);T!=null&&a(n,["responseSchema"],T);const A=s(e,["routingConfig"]);A!=null&&a(n,["routingConfig"],A);const y=s(e,["seed"]);y!=null&&a(n,["seed"],y);const g=s(e,["speechConfig"]);g!=null&&a(n,["speechConfig"],Jf(g));const v=s(e,["stopSequences"]);v!=null&&a(n,["stopSequences"],v);const _=s(e,["temperature"]);_!=null&&a(n,["temperature"],_);const S=s(e,["thinkingConfig"]);S!=null&&a(n,["thinkingConfig"],S);const E=s(e,["topK"]);E!=null&&a(n,["topK"],E);const I=s(e,["topP"]);if(I!=null&&a(n,["topP"],I),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function f0(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function p0(e){const n={},t=s(e,["timeRangeFilter"]);if(t!=null&&a(n,["timeRangeFilter"],t),s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function m0(e,n){const t={},i=s(e,["generationConfig"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig"],i);const o=s(e,["responseModalities"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","responseModalities"],o);const r=s(e,["temperature"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig","temperature"],r);const l=s(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","speechConfig"],Fl(m));const h=s(e,["thinkingConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","thinkingConfig"],h);const x=s(e,["enableAffectiveDialog"]);n!==void 0&&x!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],x);const C=s(e,["systemInstruction"]);n!==void 0&&C!=null&&a(n,["setup","systemInstruction"],a0(he(C)));const T=s(e,["tools"]);if(n!==void 0&&T!=null){let E=Dt(T);Array.isArray(E)&&(E=E.map(I=>w0(Mt(I)))),a(n,["setup","tools"],E)}const A=s(e,["sessionResumption"]);n!==void 0&&A!=null&&a(n,["setup","sessionResumption"],E0(A));const y=s(e,["inputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","inputAudioTranscription"],y);const g=s(e,["outputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],v);const _=s(e,["contextWindowCompression"]);n!==void 0&&_!=null&&a(n,["setup","contextWindowCompression"],_);const S=s(e,["proactivity"]);return n!==void 0&&S!=null&&a(n,["setup","proactivity"],S),t}function h0(e,n){const t={},i=s(e,["generationConfig"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig"],d0(i));const o=s(e,["responseModalities"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","responseModalities"],o);const r=s(e,["temperature"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig","temperature"],r);const l=s(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","speechConfig"],Jf(Fl(m)));const h=s(e,["thinkingConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","thinkingConfig"],h);const x=s(e,["enableAffectiveDialog"]);n!==void 0&&x!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],x);const C=s(e,["systemInstruction"]);n!==void 0&&C!=null&&a(n,["setup","systemInstruction"],he(C));const T=s(e,["tools"]);if(n!==void 0&&T!=null){let E=Dt(T);Array.isArray(E)&&(E=E.map(I=>I0(Mt(I)))),a(n,["setup","tools"],E)}const A=s(e,["sessionResumption"]);n!==void 0&&A!=null&&a(n,["setup","sessionResumption"],A);const y=s(e,["inputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","inputAudioTranscription"],y);const g=s(e,["outputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],v);const _=s(e,["contextWindowCompression"]);n!==void 0&&_!=null&&a(n,["setup","contextWindowCompression"],_);const S=s(e,["proactivity"]);return n!==void 0&&S!=null&&a(n,["setup","proactivity"],S),t}function g0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["setup","model"],q(e,i));const o=s(n,["config"]);return o!=null&&a(t,["config"],m0(o,t)),t}function y0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["setup","model"],q(e,i));const o=s(n,["config"]);return o!=null&&a(t,["config"],h0(o,t)),t}function v0(e){const n={},t=s(e,["musicGenerationConfig"]);return t!=null&&a(n,["musicGenerationConfig"],t),n}function x0(e){const n={},t=s(e,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),a(n,["weightedPrompts"],i)}return n}function C0(e){const n={},t=s(e,["media"]);if(t!=null){let c=Rf(t);Array.isArray(c)&&(c=c.map(f=>fo(f))),a(n,["mediaChunks"],c)}const i=s(e,["audio"]);i!=null&&a(n,["audio"],fo(Df(i)));const o=s(e,["audioStreamEnd"]);o!=null&&a(n,["audioStreamEnd"],o);const r=s(e,["video"]);r!=null&&a(n,["video"],fo(Mf(r)));const l=s(e,["text"]);l!=null&&a(n,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(n,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(n,["activityEnd"],d),n}function T0(e){const n={},t=s(e,["media"]);if(t!=null){let c=Rf(t);Array.isArray(c)&&(c=c.map(f=>f)),a(n,["mediaChunks"],c)}const i=s(e,["audio"]);i!=null&&a(n,["audio"],Df(i));const o=s(e,["audioStreamEnd"]);o!=null&&a(n,["audioStreamEnd"],o);const r=s(e,["video"]);r!=null&&a(n,["video"],Mf(r));const l=s(e,["text"]);l!=null&&a(n,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(n,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(n,["activityEnd"],d),n}function _0(e){const n={},t=s(e,["setupComplete"]);t!=null&&a(n,["setupComplete"],t);const i=s(e,["serverContent"]);i!=null&&a(n,["serverContent"],i);const o=s(e,["toolCall"]);o!=null&&a(n,["toolCall"],o);const r=s(e,["toolCallCancellation"]);r!=null&&a(n,["toolCallCancellation"],r);const l=s(e,["usageMetadata"]);l!=null&&a(n,["usageMetadata"],A0(l));const u=s(e,["goAway"]);u!=null&&a(n,["goAway"],u);const d=s(e,["sessionResumptionUpdate"]);return d!=null&&a(n,["sessionResumptionUpdate"],d),n}function S0(e){const n={},t=s(e,["videoMetadata"]);t!=null&&a(n,["videoMetadata"],t);const i=s(e,["thought"]);i!=null&&a(n,["thought"],i);const o=s(e,["inlineData"]);o!=null&&a(n,["inlineData"],fo(o));const r=s(e,["fileData"]);r!=null&&a(n,["fileData"],u0(r));const l=s(e,["thoughtSignature"]);l!=null&&a(n,["thoughtSignature"],l);const u=s(e,["functionCall"]);u!=null&&a(n,["functionCall"],u);const d=s(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const c=s(e,["executableCode"]);c!=null&&a(n,["executableCode"],c);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function E0(e){const n={},t=s(e,["handle"]);if(t!=null&&a(n,["handle"],t),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Jf(e){const n={},t=s(e,["voiceConfig"]);if(t!=null&&a(n,["voiceConfig"],t),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function w0(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),a(n,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],p0(i));const o=s(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],o),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&a(n,["googleMaps"],f0(r));const l=s(e,["urlContext"]);l!=null&&a(n,["urlContext"],l);const u=s(e,["computerUse"]);u!=null&&a(n,["computerUse"],u);const d=s(e,["codeExecution"]);return d!=null&&a(n,["codeExecution"],d),n}function I0(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(h=>c0(h))),a(n,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&a(n,["retrieval"],i);const o=s(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const l=s(e,["enterpriseWebSearch"]);l!=null&&a(n,["enterpriseWebSearch"],l);const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],u);const d=s(e,["urlContext"]);d!=null&&a(n,["urlContext"],d);const c=s(e,["computerUse"]);c!=null&&a(n,["computerUse"],c);const f=s(e,["codeExecution"]);return f!=null&&a(n,["codeExecution"],f),n}function A0(e){const n={},t=s(e,["promptTokenCount"]);t!=null&&a(n,["promptTokenCount"],t);const i=s(e,["cachedContentTokenCount"]);i!=null&&a(n,["cachedContentTokenCount"],i);const o=s(e,["candidatesTokenCount"]);o!=null&&a(n,["responseTokenCount"],o);const r=s(e,["toolUsePromptTokenCount"]);r!=null&&a(n,["toolUsePromptTokenCount"],r);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(n,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(n,["totalTokenCount"],u);const d=s(e,["promptTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(C=>C)),a(n,["promptTokensDetails"],x)}const c=s(e,["cacheTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(C=>C)),a(n,["cacheTokensDetails"],x)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(C=>C)),a(n,["responseTokensDetails"],x)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(C=>C)),a(n,["toolUsePromptTokensDetails"],x)}const h=s(e,["trafficType"]);return h!=null&&a(n,["trafficType"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N0(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["data"]);t!=null&&a(n,["data"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function P0(e){const n={},t=s(e,["content"]);t!=null&&a(n,["content"],t);const i=s(e,["citationMetadata"]);i!=null&&a(n,["citationMetadata"],k0(i));const o=s(e,["tokenCount"]);o!=null&&a(n,["tokenCount"],o);const r=s(e,["finishReason"]);r!=null&&a(n,["finishReason"],r);const l=s(e,["urlContextMetadata"]);l!=null&&a(n,["urlContextMetadata"],l);const u=s(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const d=s(e,["groundingMetadata"]);d!=null&&a(n,["groundingMetadata"],d);const c=s(e,["index"]);c!=null&&a(n,["index"],c);const f=s(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const m=s(e,["safetyRatings"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(x=>x)),a(n,["safetyRatings"],h)}return n}function k0(e){const n={},t=s(e,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),a(n,["citations"],i)}return n}function R0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let r=Ge(o);Array.isArray(r)&&(r=r.map(l=>l)),a(t,["contents"],r)}return t}function M0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(n,["tokensInfo"],o)}return n}function D0(e){const n={},t=s(e,["values"]);t!=null&&a(n,["values"],t);const i=s(e,["statistics"]);return i!=null&&a(n,["statistics"],L0(i)),n}function L0(e){const n={},t=s(e,["truncated"]);t!=null&&a(n,["truncated"],t);const i=s(e,["token_count"]);return i!=null&&a(n,["tokenCount"],i),n}function or(e){const n={},t=s(e,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>qv(r))),a(n,["parts"],o)}const i=s(e,["role"]);return i!=null&&a(n,["role"],i),n}function U0(e){const n={},t=s(e,["controlType"]);t!=null&&a(n,["controlType"],t);const i=s(e,["enableControlImageComputation"]);return i!=null&&a(n,["computeControl"],i),n}function F0(e){const n={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function V0(e,n){const t={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],he(i));const o=s(e,["tools"]);if(n!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Kf(u))),a(n,["tools"],l)}const r=s(e,["generationConfig"]);return n!==void 0&&r!=null&&a(n,["generationConfig"],Iv(r)),t}function G0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let l=Ge(o);Array.isArray(l)&&(l=l.map(u=>or(u))),a(t,["contents"],l)}const r=s(n,["config"]);return r!=null&&F0(r),t}function q0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let l=Ge(o);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const r=s(n,["config"]);return r!=null&&V0(r,t),t}function H0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["totalTokens"]);i!=null&&a(n,["totalTokens"],i);const o=s(e,["cachedContentTokenCount"]);return o!=null&&a(n,["cachedContentTokenCount"],o),n}function B0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["totalTokens"]);return i!=null&&a(n,["totalTokens"],i),n}function z0(e,n){const t={},i=s(n,["model"]);return i!=null&&a(t,["_url","name"],q(e,i)),t}function b0(e,n){const t={},i=s(n,["model"]);return i!=null&&a(t,["_url","name"],q(e,i)),t}function J0(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function $0(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function W0(e,n){const t={},i=s(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const o=s(e,["negativePrompt"]);n!==void 0&&o!=null&&a(n,["parameters","negativePrompt"],o);const r=s(e,["numberOfImages"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const l=s(e,["aspectRatio"]);n!==void 0&&l!=null&&a(n,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);n!==void 0&&u!=null&&a(n,["parameters","guidanceScale"],u);const d=s(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);n!==void 0&&c!=null&&a(n,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);n!==void 0&&f!=null&&a(n,["parameters","personGeneration"],f);const m=s(e,["includeSafetyAttributes"]);n!==void 0&&m!=null&&a(n,["parameters","includeSafetyAttributes"],m);const h=s(e,["includeRaiReason"]);n!==void 0&&h!=null&&a(n,["parameters","includeRaiReason"],h);const x=s(e,["language"]);n!==void 0&&x!=null&&a(n,["parameters","language"],x);const C=s(e,["outputMimeType"]);n!==void 0&&C!=null&&a(n,["parameters","outputOptions","mimeType"],C);const T=s(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&a(n,["parameters","outputOptions","compressionQuality"],T);const A=s(e,["addWatermark"]);n!==void 0&&A!=null&&a(n,["parameters","addWatermark"],A);const y=s(e,["labels"]);n!==void 0&&y!=null&&a(n,["labels"],y);const g=s(e,["editMode"]);n!==void 0&&g!=null&&a(n,["parameters","editMode"],g);const v=s(e,["baseSteps"]);return n!==void 0&&v!=null&&a(n,["parameters","editConfig","baseSteps"],v),t}function O0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(n,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>$v(d))),a(t,["instances[0]","referenceImages"],u)}const l=s(n,["config"]);return l!=null&&W0(l,t),t}function Y0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>rr(r))),a(n,["generatedImages"],o)}return n}function K0(e,n){const t={},i=s(e,["taskType"]);n!==void 0&&i!=null&&a(n,["requests[]","taskType"],i);const o=s(e,["title"]);n!==void 0&&o!=null&&a(n,["requests[]","title"],o);const r=s(e,["outputDimensionality"]);if(n!==void 0&&r!=null&&a(n,["requests[]","outputDimensionality"],r),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Q0(e,n){const t={},i=s(e,["taskType"]);n!==void 0&&i!=null&&a(n,["instances[]","task_type"],i);const o=s(e,["title"]);n!==void 0&&o!=null&&a(n,["instances[]","title"],o);const r=s(e,["outputDimensionality"]);n!==void 0&&r!=null&&a(n,["parameters","outputDimensionality"],r);const l=s(e,["mimeType"]);n!==void 0&&l!=null&&a(n,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return n!==void 0&&u!=null&&a(n,["parameters","autoTruncate"],u),t}function X0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let u=Dl(e,o);Array.isArray(u)&&(u=u.map(d=>d)),a(t,["requests[]","content"],u)}const r=s(n,["config"]);r!=null&&K0(r,t);const l=s(n,["model"]);return l!==void 0&&a(t,["requests[]","model"],q(e,l)),t}function Z0(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let l=Dl(e,o);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["instances[]","content"],l)}const r=s(n,["config"]);return r!=null&&Q0(r,t),t}function j0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(n,["embeddings"],r)}const o=s(e,["metadata"]);return o!=null&&a(n,["metadata"],o),n}function ev(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>D0(l))),a(n,["embeddings"],r)}const o=s(e,["metadata"]);return o!=null&&a(n,["metadata"],o),n}function nv(e){const n={},t=s(e,["endpoint"]);t!=null&&a(n,["name"],t);const i=s(e,["deployedModelId"]);return i!=null&&a(n,["deployedModelId"],i),n}function tv(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function iv(e){const n={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(e,["description"]);t!=null&&a(n,["description"],t);const i=s(e,["name"]);i!=null&&a(n,["name"],i);const o=s(e,["parameters"]);o!=null&&a(n,["parameters"],o);const r=s(e,["parametersJsonSchema"]);r!=null&&a(n,["parametersJsonSchema"],r);const l=s(e,["response"]);l!=null&&a(n,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(n,["responseJsonSchema"],u),n}function ov(e,n,t){const i={},o=s(n,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],or(he(o)));const r=s(n,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(n,["topP"]);l!=null&&a(i,["topP"],l);const u=s(n,["topK"]);u!=null&&a(i,["topK"],u);const d=s(n,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(n,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const m=s(n,["responseLogprobs"]);m!=null&&a(i,["responseLogprobs"],m);const h=s(n,["logprobs"]);h!=null&&a(i,["logprobs"],h);const x=s(n,["presencePenalty"]);x!=null&&a(i,["presencePenalty"],x);const C=s(n,["frequencyPenalty"]);C!=null&&a(i,["frequencyPenalty"],C);const T=s(n,["seed"]);T!=null&&a(i,["seed"],T);const A=s(n,["responseMimeType"]);A!=null&&a(i,["responseMimeType"],A);const y=s(n,["responseSchema"]);y!=null&&a(i,["responseSchema"],Ll(y));const g=s(n,["responseJsonSchema"]);if(g!=null&&a(i,["responseJsonSchema"],g),s(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(n,["safetySettings"]);if(t!==void 0&&v!=null){let z=v;Array.isArray(z)&&(z=z.map(de=>Wv(de))),a(t,["safetySettings"],z)}const _=s(n,["tools"]);if(t!==void 0&&_!=null){let z=Dt(_);Array.isArray(z)&&(z=z.map(de=>Zv(Mt(de)))),a(t,["tools"],z)}const S=s(n,["toolConfig"]);if(t!==void 0&&S!=null&&a(t,["toolConfig"],S),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=s(n,["cachedContent"]);t!==void 0&&E!=null&&a(t,["cachedContent"],dn(e,E));const I=s(n,["responseModalities"]);I!=null&&a(i,["responseModalities"],I);const N=s(n,["mediaResolution"]);N!=null&&a(i,["mediaResolution"],N);const k=s(n,["speechConfig"]);if(k!=null&&a(i,["speechConfig"],Ul(k)),s(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=s(n,["thinkingConfig"]);R!=null&&a(i,["thinkingConfig"],R);const J=s(n,["imageConfig"]);return J!=null&&a(i,["imageConfig"],J),i}function rv(e,n,t){const i={},o=s(n,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],he(o));const r=s(n,["temperature"]);r!=null&&a(i,["temperature"],r);const l=s(n,["topP"]);l!=null&&a(i,["topP"],l);const u=s(n,["topK"]);u!=null&&a(i,["topK"],u);const d=s(n,["candidateCount"]);d!=null&&a(i,["candidateCount"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(i,["maxOutputTokens"],c);const f=s(n,["stopSequences"]);f!=null&&a(i,["stopSequences"],f);const m=s(n,["responseLogprobs"]);m!=null&&a(i,["responseLogprobs"],m);const h=s(n,["logprobs"]);h!=null&&a(i,["logprobs"],h);const x=s(n,["presencePenalty"]);x!=null&&a(i,["presencePenalty"],x);const C=s(n,["frequencyPenalty"]);C!=null&&a(i,["frequencyPenalty"],C);const T=s(n,["seed"]);T!=null&&a(i,["seed"],T);const A=s(n,["responseMimeType"]);A!=null&&a(i,["responseMimeType"],A);const y=s(n,["responseSchema"]);y!=null&&a(i,["responseSchema"],Ll(y));const g=s(n,["responseJsonSchema"]);g!=null&&a(i,["responseJsonSchema"],g);const v=s(n,["routingConfig"]);v!=null&&a(i,["routingConfig"],v);const _=s(n,["modelSelectionConfig"]);_!=null&&a(i,["modelConfig"],_);const S=s(n,["safetySettings"]);if(t!==void 0&&S!=null){let Ie=S;Array.isArray(Ie)&&(Ie=Ie.map(Dn=>Dn)),a(t,["safetySettings"],Ie)}const E=s(n,["tools"]);if(t!==void 0&&E!=null){let Ie=Dt(E);Array.isArray(Ie)&&(Ie=Ie.map(Dn=>Kf(Mt(Dn)))),a(t,["tools"],Ie)}const I=s(n,["toolConfig"]);t!==void 0&&I!=null&&a(t,["toolConfig"],I);const N=s(n,["labels"]);t!==void 0&&N!=null&&a(t,["labels"],N);const k=s(n,["cachedContent"]);t!==void 0&&k!=null&&a(t,["cachedContent"],dn(e,k));const R=s(n,["responseModalities"]);R!=null&&a(i,["responseModalities"],R);const J=s(n,["mediaResolution"]);J!=null&&a(i,["mediaResolution"],J);const z=s(n,["speechConfig"]);z!=null&&a(i,["speechConfig"],Yf(Ul(z)));const de=s(n,["audioTimestamp"]);de!=null&&a(i,["audioTimestamp"],de);const Ut=s(n,["thinkingConfig"]);Ut!=null&&a(i,["thinkingConfig"],Ut);const Ri=s(n,["imageConfig"]);return Ri!=null&&a(i,["imageConfig"],Ri),i}function oc(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let l=Ge(o);Array.isArray(l)&&(l=l.map(u=>or(u))),a(t,["contents"],l)}const r=s(n,["config"]);return r!=null&&a(t,["generationConfig"],ov(e,r,t)),t}function rc(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["contents"]);if(o!=null){let l=Ge(o);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const r=s(n,["config"]);return r!=null&&a(t,["generationConfig"],rv(e,r,t)),t}function sc(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(c=>P0(c))),a(n,["candidates"],d)}const o=s(e,["modelVersion"]);o!=null&&a(n,["modelVersion"],o);const r=s(e,["promptFeedback"]);r!=null&&a(n,["promptFeedback"],r);const l=s(e,["responseId"]);l!=null&&a(n,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(n,["usageMetadata"],u),n}function lc(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),a(n,["candidates"],c)}const o=s(e,["createTime"]);o!=null&&a(n,["createTime"],o);const r=s(e,["modelVersion"]);r!=null&&a(n,["modelVersion"],r);const l=s(e,["promptFeedback"]);l!=null&&a(n,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(n,["responseId"],u);const d=s(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function sv(e,n){const t={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(e,["numberOfImages"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const o=s(e,["aspectRatio"]);n!==void 0&&o!=null&&a(n,["parameters","aspectRatio"],o);const r=s(e,["guidanceScale"]);if(n!==void 0&&r!=null&&a(n,["parameters","guidanceScale"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);n!==void 0&&l!=null&&a(n,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u);const d=s(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&a(n,["parameters","includeSafetyAttributes"],d);const c=s(e,["includeRaiReason"]);n!==void 0&&c!=null&&a(n,["parameters","includeRaiReason"],c);const f=s(e,["language"]);n!==void 0&&f!=null&&a(n,["parameters","language"],f);const m=s(e,["outputMimeType"]);n!==void 0&&m!=null&&a(n,["parameters","outputOptions","mimeType"],m);const h=s(e,["outputCompressionQuality"]);if(n!==void 0&&h!=null&&a(n,["parameters","outputOptions","compressionQuality"],h),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=s(e,["imageSize"]);if(n!==void 0&&x!=null&&a(n,["parameters","sampleImageSize"],x),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function lv(e,n){const t={},i=s(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const o=s(e,["negativePrompt"]);n!==void 0&&o!=null&&a(n,["parameters","negativePrompt"],o);const r=s(e,["numberOfImages"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const l=s(e,["aspectRatio"]);n!==void 0&&l!=null&&a(n,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);n!==void 0&&u!=null&&a(n,["parameters","guidanceScale"],u);const d=s(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);n!==void 0&&c!=null&&a(n,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);n!==void 0&&f!=null&&a(n,["parameters","personGeneration"],f);const m=s(e,["includeSafetyAttributes"]);n!==void 0&&m!=null&&a(n,["parameters","includeSafetyAttributes"],m);const h=s(e,["includeRaiReason"]);n!==void 0&&h!=null&&a(n,["parameters","includeRaiReason"],h);const x=s(e,["language"]);n!==void 0&&x!=null&&a(n,["parameters","language"],x);const C=s(e,["outputMimeType"]);n!==void 0&&C!=null&&a(n,["parameters","outputOptions","mimeType"],C);const T=s(e,["outputCompressionQuality"]);n!==void 0&&T!=null&&a(n,["parameters","outputOptions","compressionQuality"],T);const A=s(e,["addWatermark"]);n!==void 0&&A!=null&&a(n,["parameters","addWatermark"],A);const y=s(e,["labels"]);n!==void 0&&y!=null&&a(n,["labels"],y);const g=s(e,["imageSize"]);n!==void 0&&g!=null&&a(n,["parameters","sampleImageSize"],g);const v=s(e,["enhancePrompt"]);return n!==void 0&&v!=null&&a(n,["parameters","enhancePrompt"],v),t}function av(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(n,["config"]);return r!=null&&sv(r,t),t}function uv(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(n,["config"]);return r!=null&&lv(r,t),t}function cv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>_v(l))),a(n,["generatedImages"],r)}const o=s(e,["positivePromptSafetyAttributes"]);return o!=null&&a(n,["positivePromptSafetyAttributes"],Wf(o)),n}function dv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>rr(l))),a(n,["generatedImages"],r)}const o=s(e,["positivePromptSafetyAttributes"]);return o!=null&&a(n,["positivePromptSafetyAttributes"],Of(o)),n}function fv(e,n){const t={},i=s(e,["numberOfVideos"]);if(n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(e,["durationSeconds"]);if(n!==void 0&&o!=null&&a(n,["parameters","durationSeconds"],o),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(e,["aspectRatio"]);n!==void 0&&r!=null&&a(n,["parameters","aspectRatio"],r);const l=s(e,["resolution"]);n!==void 0&&l!=null&&a(n,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(e,["negativePrompt"]);n!==void 0&&d!=null&&a(n,["parameters","negativePrompt"],d);const c=s(e,["enhancePrompt"]);if(n!==void 0&&c!=null&&a(n,["parameters","enhancePrompt"],c),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);n!==void 0&&f!=null&&a(n,["instances[0]","lastFrame"],sr(f));const m=s(e,["referenceImages"]);if(n!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(x=>dx(x))),a(n,["instances[0]","referenceImages"],h)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function pv(e,n){const t={},i=s(e,["numberOfVideos"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const o=s(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const r=s(e,["fps"]);n!==void 0&&r!=null&&a(n,["parameters","fps"],r);const l=s(e,["durationSeconds"]);n!==void 0&&l!=null&&a(n,["parameters","durationSeconds"],l);const u=s(e,["seed"]);n!==void 0&&u!=null&&a(n,["parameters","seed"],u);const d=s(e,["aspectRatio"]);n!==void 0&&d!=null&&a(n,["parameters","aspectRatio"],d);const c=s(e,["resolution"]);n!==void 0&&c!=null&&a(n,["parameters","resolution"],c);const f=s(e,["personGeneration"]);n!==void 0&&f!=null&&a(n,["parameters","personGeneration"],f);const m=s(e,["pubsubTopic"]);n!==void 0&&m!=null&&a(n,["parameters","pubsubTopic"],m);const h=s(e,["negativePrompt"]);n!==void 0&&h!=null&&a(n,["parameters","negativePrompt"],h);const x=s(e,["enhancePrompt"]);n!==void 0&&x!=null&&a(n,["parameters","enhancePrompt"],x);const C=s(e,["generateAudio"]);n!==void 0&&C!=null&&a(n,["parameters","generateAudio"],C);const T=s(e,["lastFrame"]);n!==void 0&&T!=null&&a(n,["instances[0]","lastFrame"],Ye(T));const A=s(e,["referenceImages"]);if(n!==void 0&&A!=null){let v=A;Array.isArray(v)&&(v=v.map(_=>fx(_))),a(n,["instances[0]","referenceImages"],v)}const y=s(e,["mask"]);n!==void 0&&y!=null&&a(n,["instances[0]","mask"],cx(y));const g=s(e,["compressionQuality"]);return n!==void 0&&g!=null&&a(n,["parameters","compressionQuality"],g),t}function mv(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=s(e,["done"]);o!=null&&a(n,["done"],o);const r=s(e,["error"]);r!=null&&a(n,["error"],r);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(n,["response"],vv(l)),n}function hv(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const o=s(e,["done"]);o!=null&&a(n,["done"],o);const r=s(e,["error"]);r!=null&&a(n,["error"],r);const l=s(e,["response"]);return l!=null&&a(n,["response"],xv(l)),n}function gv(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(n,["image"]);r!=null&&a(t,["instances[0]","image"],sr(r));const l=s(n,["video"]);l!=null&&a(t,["instances[0]","video"],Qf(l));const u=s(n,["source"]);u!=null&&Cv(u,t);const d=s(n,["config"]);return d!=null&&fv(d,t),t}function yv(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["prompt"]);o!=null&&a(t,["instances[0]","prompt"],o);const r=s(n,["image"]);r!=null&&a(t,["instances[0]","image"],Ye(r));const l=s(n,["video"]);l!=null&&a(t,["instances[0]","video"],Xf(l));const u=s(n,["source"]);u!=null&&Tv(u,t);const d=s(n,["config"]);return d!=null&&pv(d,t),t}function vv(e){const n={},t=s(e,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>Ev(l))),a(n,["generatedVideos"],r)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function xv(e){const n={},t=s(e,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>wv(l))),a(n,["generatedVideos"],r)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&a(n,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&a(n,["raiMediaFilteredReasons"],o),n}function Cv(e,n){const t={},i=s(e,["prompt"]);n!==void 0&&i!=null&&a(n,["instances[0]","prompt"],i);const o=s(e,["image"]);n!==void 0&&o!=null&&a(n,["instances[0]","image"],sr(o));const r=s(e,["video"]);return n!==void 0&&r!=null&&a(n,["instances[0]","video"],Qf(r)),t}function Tv(e,n){const t={},i=s(e,["prompt"]);n!==void 0&&i!=null&&a(n,["instances[0]","prompt"],i);const o=s(e,["image"]);n!==void 0&&o!=null&&a(n,["instances[0]","image"],Ye(o));const r=s(e,["video"]);return n!==void 0&&r!=null&&a(n,["instances[0]","video"],Xf(r)),t}function _v(e){const n={},t=s(e,["_self"]);t!=null&&a(n,["image"],Rv(t));const i=s(e,["raiFilteredReason"]);i!=null&&a(n,["raiFilteredReason"],i);const o=s(e,["_self"]);return o!=null&&a(n,["safetyAttributes"],Wf(o)),n}function rr(e){const n={},t=s(e,["_self"]);t!=null&&a(n,["image"],$f(t));const i=s(e,["raiFilteredReason"]);i!=null&&a(n,["raiFilteredReason"],i);const o=s(e,["_self"]);o!=null&&a(n,["safetyAttributes"],Of(o));const r=s(e,["prompt"]);return r!=null&&a(n,["enhancedPrompt"],r),n}function Sv(e){const n={},t=s(e,["_self"]);t!=null&&a(n,["mask"],$f(t));const i=s(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(n,["labels"],o)}return n}function Ev(e){const n={},t=s(e,["video"]);return t!=null&&a(n,["video"],ax(t)),n}function wv(e){const n={},t=s(e,["_self"]);return t!=null&&a(n,["video"],ux(t)),n}function Iv(e){const n={},t=s(e,["modelSelectionConfig"]);t!=null&&a(n,["modelConfig"],t);const i=s(e,["audioTimestamp"]);i!=null&&a(n,["audioTimestamp"],i);const o=s(e,["candidateCount"]);o!=null&&a(n,["candidateCount"],o);const r=s(e,["enableAffectiveDialog"]);r!=null&&a(n,["enableAffectiveDialog"],r);const l=s(e,["frequencyPenalty"]);l!=null&&a(n,["frequencyPenalty"],l);const u=s(e,["logprobs"]);u!=null&&a(n,["logprobs"],u);const d=s(e,["maxOutputTokens"]);d!=null&&a(n,["maxOutputTokens"],d);const c=s(e,["mediaResolution"]);c!=null&&a(n,["mediaResolution"],c);const f=s(e,["presencePenalty"]);f!=null&&a(n,["presencePenalty"],f);const m=s(e,["responseJsonSchema"]);m!=null&&a(n,["responseJsonSchema"],m);const h=s(e,["responseLogprobs"]);h!=null&&a(n,["responseLogprobs"],h);const x=s(e,["responseMimeType"]);x!=null&&a(n,["responseMimeType"],x);const C=s(e,["responseModalities"]);C!=null&&a(n,["responseModalities"],C);const T=s(e,["responseSchema"]);T!=null&&a(n,["responseSchema"],T);const A=s(e,["routingConfig"]);A!=null&&a(n,["routingConfig"],A);const y=s(e,["seed"]);y!=null&&a(n,["seed"],y);const g=s(e,["speechConfig"]);g!=null&&a(n,["speechConfig"],Yf(g));const v=s(e,["stopSequences"]);v!=null&&a(n,["stopSequences"],v);const _=s(e,["temperature"]);_!=null&&a(n,["temperature"],_);const S=s(e,["thinkingConfig"]);S!=null&&a(n,["thinkingConfig"],S);const E=s(e,["topK"]);E!=null&&a(n,["topK"],E);const I=s(e,["topP"]);if(I!=null&&a(n,["topP"],I),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function Av(e,n){const t={},i=s(n,["model"]);return i!=null&&a(t,["_url","name"],q(e,i)),t}function Nv(e,n){const t={},i=s(n,["model"]);return i!=null&&a(t,["_url","name"],q(e,i)),t}function Pv(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function kv(e){const n={},t=s(e,["timeRangeFilter"]);if(t!=null&&a(n,["timeRangeFilter"],t),s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Rv(e){const n={},t=s(e,["bytesBase64Encoded"]);t!=null&&a(n,["imageBytes"],Mn(t));const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function $f(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["gcsUri"],t);const i=s(e,["bytesBase64Encoded"]);i!=null&&a(n,["imageBytes"],Mn(i));const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function sr(e){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(e,["imageBytes"]);t!=null&&a(n,["bytesBase64Encoded"],Mn(t));const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Ye(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["gcsUri"],t);const i=s(e,["imageBytes"]);i!=null&&a(n,["bytesBase64Encoded"],Mn(i));const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function Mv(e,n,t){const i={},o=s(n,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(n,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(n,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(n,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],Vf(e,u)),i}function Dv(e,n,t){const i={},o=s(n,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(n,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(n,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(n,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],Vf(e,u)),i}function Lv(e,n){const t={},i=s(n,["config"]);return i!=null&&Mv(e,i,t),t}function Uv(e,n){const t={},i=s(n,["config"]);return i!=null&&Dv(e,i,t),t}function Fv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const o=s(e,["_self"]);if(o!=null){let r=Gf(o);Array.isArray(r)&&(r=r.map(l=>Ds(l))),a(n,["models"],r)}return n}function Vv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const o=s(e,["_self"]);if(o!=null){let r=Gf(o);Array.isArray(r)&&(r=r.map(l=>Ls(l))),a(n,["models"],r)}return n}function Gv(e){const n={},t=s(e,["maskMode"]);t!=null&&a(n,["maskMode"],t);const i=s(e,["segmentationClasses"]);i!=null&&a(n,["maskClasses"],i);const o=s(e,["maskDilation"]);return o!=null&&a(n,["dilation"],o),n}function Ds(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=s(e,["description"]);o!=null&&a(n,["description"],o);const r=s(e,["version"]);r!=null&&a(n,["version"],r);const l=s(e,["_self"]);l!=null&&a(n,["tunedModelInfo"],jv(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(n,["inputTokenLimit"],u);const d=s(e,["outputTokenLimit"]);d!=null&&a(n,["outputTokenLimit"],d);const c=s(e,["supportedGenerationMethods"]);return c!=null&&a(n,["supportedActions"],c),n}function Ls(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const i=s(e,["displayName"]);i!=null&&a(n,["displayName"],i);const o=s(e,["description"]);o!=null&&a(n,["description"],o);const r=s(e,["versionId"]);r!=null&&a(n,["version"],r);const l=s(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>nv(h))),a(n,["endpoints"],m)}const u=s(e,["labels"]);u!=null&&a(n,["labels"],u);const d=s(e,["_self"]);d!=null&&a(n,["tunedModelInfo"],ex(d));const c=s(e,["defaultCheckpointId"]);c!=null&&a(n,["defaultCheckpointId"],c);const f=s(e,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>h)),a(n,["checkpoints"],m)}return n}function qv(e){const n={},t=s(e,["videoMetadata"]);t!=null&&a(n,["videoMetadata"],t);const i=s(e,["thought"]);i!=null&&a(n,["thought"],i);const o=s(e,["inlineData"]);o!=null&&a(n,["inlineData"],N0(o));const r=s(e,["fileData"]);r!=null&&a(n,["fileData"],tv(r));const l=s(e,["thoughtSignature"]);l!=null&&a(n,["thoughtSignature"],l);const u=s(e,["functionCall"]);u!=null&&a(n,["functionCall"],u);const d=s(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const c=s(e,["executableCode"]);c!=null&&a(n,["executableCode"],c);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function Hv(e){const n={},t=s(e,["productImage"]);return t!=null&&a(n,["image"],Ye(t)),n}function Bv(e,n){const t={},i=s(e,["numberOfImages"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const o=s(e,["baseSteps"]);n!==void 0&&o!=null&&a(n,["parameters","editConfig","baseSteps"],o);const r=s(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const l=s(e,["seed"]);n!==void 0&&l!=null&&a(n,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&a(n,["parameters","safetySetting"],u);const d=s(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const c=s(e,["addWatermark"]);n!==void 0&&c!=null&&a(n,["parameters","addWatermark"],c);const f=s(e,["outputMimeType"]);n!==void 0&&f!=null&&a(n,["parameters","outputOptions","mimeType"],f);const m=s(e,["outputCompressionQuality"]);n!==void 0&&m!=null&&a(n,["parameters","outputOptions","compressionQuality"],m);const h=s(e,["enhancePrompt"]);n!==void 0&&h!=null&&a(n,["parameters","enhancePrompt"],h);const x=s(e,["labels"]);return n!==void 0&&x!=null&&a(n,["labels"],x),t}function zv(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["source"]);o!=null&&Jv(o,t);const r=s(n,["config"]);return r!=null&&Bv(r,t),t}function bv(e){const n={},t=s(e,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>rr(o))),a(n,["generatedImages"],i)}return n}function Jv(e,n){const t={},i=s(e,["prompt"]);n!==void 0&&i!=null&&a(n,["instances[0]","prompt"],i);const o=s(e,["personImage"]);n!==void 0&&o!=null&&a(n,["instances[0]","personImage","image"],Ye(o));const r=s(e,["productImages"]);if(n!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Hv(u))),a(n,["instances[0]","productImages"],l)}return t}function $v(e){const n={},t=s(e,["referenceImage"]);t!=null&&a(n,["referenceImage"],Ye(t));const i=s(e,["referenceId"]);i!=null&&a(n,["referenceId"],i);const o=s(e,["referenceType"]);o!=null&&a(n,["referenceType"],o);const r=s(e,["maskImageConfig"]);r!=null&&a(n,["maskImageConfig"],Gv(r));const l=s(e,["controlImageConfig"]);l!=null&&a(n,["controlImageConfig"],U0(l));const u=s(e,["styleImageConfig"]);u!=null&&a(n,["styleImageConfig"],u);const d=s(e,["subjectImageConfig"]);return d!=null&&a(n,["subjectImageConfig"],d),n}function Wf(e){const n={},t=s(e,["safetyAttributes","categories"]);t!=null&&a(n,["categories"],t);const i=s(e,["safetyAttributes","scores"]);i!=null&&a(n,["scores"],i);const o=s(e,["contentType"]);return o!=null&&a(n,["contentType"],o),n}function Of(e){const n={},t=s(e,["safetyAttributes","categories"]);t!=null&&a(n,["categories"],t);const i=s(e,["safetyAttributes","scores"]);i!=null&&a(n,["scores"],i);const o=s(e,["contentType"]);return o!=null&&a(n,["contentType"],o),n}function Wv(e){const n={};if(s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=s(e,["category"]);t!=null&&a(n,["category"],t);const i=s(e,["threshold"]);return i!=null&&a(n,["threshold"],i),n}function Ov(e){const n={},t=s(e,["image"]);return t!=null&&a(n,["image"],Ye(t)),n}function Yv(e,n){const t={},i=s(e,["mode"]);n!==void 0&&i!=null&&a(n,["parameters","mode"],i);const o=s(e,["maxPredictions"]);n!==void 0&&o!=null&&a(n,["parameters","maxPredictions"],o);const r=s(e,["confidenceThreshold"]);n!==void 0&&r!=null&&a(n,["parameters","confidenceThreshold"],r);const l=s(e,["maskDilation"]);n!==void 0&&l!=null&&a(n,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);n!==void 0&&u!=null&&a(n,["parameters","binaryColorThreshold"],u);const d=s(e,["labels"]);return n!==void 0&&d!=null&&a(n,["labels"],d),t}function Kv(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["source"]);o!=null&&Xv(o,t);const r=s(n,["config"]);return r!=null&&Yv(r,t),t}function Qv(e){const n={},t=s(e,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>Sv(o))),a(n,["generatedMasks"],i)}return n}function Xv(e,n){const t={},i=s(e,["prompt"]);n!==void 0&&i!=null&&a(n,["instances[0]","prompt"],i);const o=s(e,["image"]);n!==void 0&&o!=null&&a(n,["instances[0]","image"],Ye(o));const r=s(e,["scribbleImage"]);return n!==void 0&&r!=null&&a(n,["instances[0]","scribble"],Ov(r)),t}function Yf(e){const n={},t=s(e,["voiceConfig"]);if(t!=null&&a(n,["voiceConfig"],t),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function Zv(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),a(n,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],kv(i));const o=s(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],o),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&a(n,["googleMaps"],Pv(r));const l=s(e,["urlContext"]);l!=null&&a(n,["urlContext"],l);const u=s(e,["computerUse"]);u!=null&&a(n,["computerUse"],u);const d=s(e,["codeExecution"]);return d!=null&&a(n,["codeExecution"],d),n}function Kf(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let m=t;Array.isArray(m)&&(m=m.map(h=>iv(h))),a(n,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&a(n,["retrieval"],i);const o=s(e,["googleSearch"]);o!=null&&a(n,["googleSearch"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const l=s(e,["enterpriseWebSearch"]);l!=null&&a(n,["enterpriseWebSearch"],l);const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],u);const d=s(e,["urlContext"]);d!=null&&a(n,["urlContext"],d);const c=s(e,["computerUse"]);c!=null&&a(n,["computerUse"],c);const f=s(e,["codeExecution"]);return f!=null&&a(n,["codeExecution"],f),n}function jv(e){const n={},t=s(e,["baseModel"]);t!=null&&a(n,["baseModel"],t);const i=s(e,["createTime"]);i!=null&&a(n,["createTime"],i);const o=s(e,["updateTime"]);return o!=null&&a(n,["updateTime"],o),n}function ex(e){const n={},t=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(n,["baseModel"],t);const i=s(e,["createTime"]);i!=null&&a(n,["createTime"],i);const o=s(e,["updateTime"]);return o!=null&&a(n,["updateTime"],o),n}function nx(e,n){const t={},i=s(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const o=s(e,["description"]);n!==void 0&&o!=null&&a(n,["description"],o);const r=s(e,["defaultCheckpointId"]);return n!==void 0&&r!=null&&a(n,["defaultCheckpointId"],r),t}function tx(e,n){const t={},i=s(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const o=s(e,["description"]);n!==void 0&&o!=null&&a(n,["description"],o);const r=s(e,["defaultCheckpointId"]);return n!==void 0&&r!=null&&a(n,["defaultCheckpointId"],r),t}function ix(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","name"],q(e,i));const o=s(n,["config"]);return o!=null&&nx(o,t),t}function ox(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["config"]);return o!=null&&tx(o,t),t}function rx(e,n){const t={},i=s(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const o=s(e,["includeRaiReason"]);n!==void 0&&o!=null&&a(n,["parameters","includeRaiReason"],o);const r=s(e,["outputMimeType"]);n!==void 0&&r!=null&&a(n,["parameters","outputOptions","mimeType"],r);const l=s(e,["outputCompressionQuality"]);n!==void 0&&l!=null&&a(n,["parameters","outputOptions","compressionQuality"],l);const u=s(e,["enhanceInputImage"]);n!==void 0&&u!=null&&a(n,["parameters","upscaleConfig","enhanceInputImage"],u);const d=s(e,["imagePreservationFactor"]);n!==void 0&&d!=null&&a(n,["parameters","upscaleConfig","imagePreservationFactor"],d);const c=s(e,["labels"]);n!==void 0&&c!=null&&a(n,["labels"],c);const f=s(e,["numberOfImages"]);n!==void 0&&f!=null&&a(n,["parameters","sampleCount"],f);const m=s(e,["mode"]);return n!==void 0&&m!=null&&a(n,["parameters","mode"],m),t}function sx(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["_url","model"],q(e,i));const o=s(n,["image"]);o!=null&&a(t,["instances[0]","image"],Ye(o));const r=s(n,["upscaleFactor"]);r!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(n,["config"]);return l!=null&&rx(l,t),t}function lx(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const i=s(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>rr(r))),a(n,["generatedImages"],o)}return n}function ax(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["uri"],t);const i=s(e,["encodedVideo"]);i!=null&&a(n,["videoBytes"],Mn(i));const o=s(e,["encoding"]);return o!=null&&a(n,["mimeType"],o),n}function ux(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["uri"],t);const i=s(e,["bytesBase64Encoded"]);i!=null&&a(n,["videoBytes"],Mn(i));const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function cx(e){const n={},t=s(e,["image"]);t!=null&&a(n,["_self"],Ye(t));const i=s(e,["maskMode"]);return i!=null&&a(n,["maskMode"],i),n}function dx(e){const n={},t=s(e,["image"]);t!=null&&a(n,["image"],sr(t));const i=s(e,["referenceType"]);return i!=null&&a(n,["referenceType"],i),n}function fx(e){const n={},t=s(e,["image"]);t!=null&&a(n,["image"],Ye(t));const i=s(e,["referenceType"]);return i!=null&&a(n,["referenceType"],i),n}function Qf(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["uri"],t);const i=s(e,["videoBytes"]);i!=null&&a(n,["encodedVideo"],Mn(i));const o=s(e,["mimeType"]);return o!=null&&a(n,["encoding"],o),n}function Xf(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["gcsUri"],t);const i=s(e,["videoBytes"]);i!=null&&a(n,["bytesBase64Encoded"],Mn(i));const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const px="Content-Type",mx="X-Server-Timeout",hx="User-Agent",Us="x-goog-api-client",gx="1.27.0",yx=`google-genai-sdk/${gx}`,vx="v1beta1",xx="v1beta",ac=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Cx{constructor(n){var t,i;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:vx,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xx,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&i.push(n.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),t=new URL(n);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,t,i){const o=[this.getRequestUrlInternal(t)];return i&&o.push(this.getBaseResourcePath()),n!==""&&o.push(n),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const i=this.shouldPrependVertexProjectPath(n),o=this.constructUrl(n.path,t,i);if(n.queryParams)for(const[l,u]of Object.entries(n.queryParams))o.searchParams.append(l,String(u));let r={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=n.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),n.abortSignal),this.unaryApiCall(o,r,n.httpMethod)}patchHttpOptions(n,t){const i=JSON.parse(JSON.stringify(n));for(const[o,r]of Object.entries(t))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}async requestStream(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const i=this.shouldPrependVertexProjectPath(n),o=this.constructUrl(n.path,t,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=n.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),n.abortSignal),this.streamApiCall(o,r,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,t,i,o){if(t&&t.timeout||o){const r=new AbortController,l=r.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>r.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),n.signal=l}return t&&t.extraBody!==null&&Tx(n,t.extraBody),n.headers=await this.getHeadersInternal(t,i),n}async unaryApiCall(n,t,i){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await uc(o),new ks(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(n,t,i){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:i})).then(async o=>(await uc(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(n){var t;return xt(this,arguments,function*(){const o=(t=n==null?void 0:n.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield O(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=r.decode(d,{stream:!0});try{const m=JSON.parse(c);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),x=h.status,C=h.code,T=`got status: ${x}. ${JSON.stringify(m)}`;if(C>=400&&C<600)throw new ir({message:T,status:C})}}catch(m){if(m.name==="ApiError")throw m}l+=c;let f=l.match(ac);for(;f;){const m=f[1];try{const h=new Response(m,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield O(new ks(h)),l=l.slice(f[0].length),f=l.match(ac)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{o.releaseLock()}})}async apiCall(n,t){return fetch(n,t).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const n={},t=yx+" "+this.clientOptions.userAgentExtra;return n[hx]=t,n[Us]=t,n[px]="application/json",n}async getHeadersInternal(n,t){const i=new Headers;if(n&&n.headers){for(const[o,r]of Object.entries(n.headers))i.append(o,r);n.timeout&&n.timeout>0&&i.append(mx,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,t),i}async uploadFile(n,t){var i;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const r=this.clientOptions.uploader,l=await r.stat(n);o.sizeBytes=String(l.size);const u=(i=t==null?void 0:t.mimeType)!==null&&i!==void 0?i:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const d=await this.fetchUploadUrl(o,t);return r.upload(n,d,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,t){var i;let o={};t!=null&&t.httpOptions?o=t.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const r={file:n},l=await this.request({path:D("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function uc(e){var n;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const t=e.status;let i;!((n=e.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(i);throw t>=400&&t<600?new ir({message:o,status:t}):new Error(o)}}function Tx(e,n){if(!n||Object.keys(n).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof e.body=="string"&&e.body.length>0)try{const r=JSON.parse(e.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))t=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,l){const u=Object.assign({},r);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=i(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const o=i(t,n);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _x="mcp_used/unknown";let Sx=!1;function Zf(e){for(const n of e)if(Ex(n)||typeof n=="object"&&"inputSchema"in n)return!0;return Sx}function jf(e){var n;const t=(n=e[Us])!==null&&n!==void 0?n:"";e[Us]=(t+` ${_x}`).trimStart()}function Ex(e){return e!==null&&typeof e=="object"&&e instanceof Vl}function wx(e,n=100){return xt(this,arguments,function*(){let i,o=0;for(;o<n;){const r=yield O(e.listTools({cursor:i}));for(const l of r.tools)yield yield O(l),o++;if(!r.nextCursor)break;i=r.nextCursor}})}class Vl{constructor(n=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=t}static create(n,t){return new Vl(n,t)}async initialize(){var n,t,i,o;if(this.mcpTools.length>0)return;const r={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(t=void 0,si(wx(f))),c;c=await d.next(),n=c.done,!n;u=!0){o=c.value,u=!1;const m=o;l.push(m);const h=m.name;if(r[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);r[h]=f}}catch(m){t={error:m}}finally{try{!u&&!n&&(i=d.return)&&await i.call(d)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),kg(this.mcpTools,this.config)}async callTool(n){await this.initialize();const t=[];for(const i of n)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,r);t.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ix(e,n,t){const i=new _g;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),Object.assign(i,o),n(i)}class Ax{constructor(n,t,i){this.apiClient=n,this.auth=t,this.webSocketFactory=i}async connect(n){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=kx(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(v=>{c=v}),m=n.callbacks,h=function(){c({})},x=this.apiClient,C={onopen:h,onmessage:v=>{Ix(x,m.onmessage,v)},onerror:(t=m==null?void 0:m.onerror)!==null&&t!==void 0?t:function(v){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(v){}},T=this.webSocketFactory.create(d,Px(l),C);T.connect(),await f;const g={setup:{model:q(this.apiClient,n.model)}};return T.send(JSON.stringify(g)),new Nx(T,this.apiClient)}}class Nx{constructor(n,t){this.conn=n,this.apiClient=t}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=x0(n);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const t=v0(n);this.conn.send(JSON.stringify(t))}sendPlaybackControl(n){const t={playbackControl:n};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(dt.PLAY)}pause(){this.sendPlaybackControl(dt.PAUSE)}stop(){this.sendPlaybackControl(dt.STOP)}resetContext(){this.sendPlaybackControl(dt.RESET_CONTEXT)}close(){this.conn.close()}}function Px(e){const n={};return e.forEach((t,i)=>{n[i]=t}),n}function kx(e){const n=new Headers;for(const[t,i]of Object.entries(e))n.append(t,i);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Mx(e,n,t){const i=new Tg;let o;t.data instanceof Blob?o=await t.data.text():t.data instanceof ArrayBuffer?o=new TextDecoder().decode(t.data):o=t.data;const r=JSON.parse(o);if(e.isVertexAI()){const l=_0(r);Object.assign(i,l)}else Object.assign(i,r);n(i)}class Dx{constructor(n,t,i){this.apiClient=n,this.auth=t,this.webSocketFactory=i,this.music=new Ax(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var t,i,o,r,l,u;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();n.config&&n.config.tools&&Zf(n.config.tools)&&jf(m);const h=Vx(m);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const k=this.apiClient.getApiKey();let R="BidiGenerateContent",J="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",J="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${R}?${J}=${k}`}let x=()=>{};const C=new Promise(k=>{x=k}),T=n.callbacks,A=function(){var k;(k=T==null?void 0:T.onopen)===null||k===void 0||k.call(T),x({})},y=this.apiClient,g={onopen:A,onmessage:k=>{Mx(y,T.onmessage,k)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(k){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(k){}},v=this.webSocketFactory.create(f,Fx(h),g);v.connect(),await C;let _=q(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const k=this.apiClient.getProject(),R=this.apiClient.getLocation();_=`projects/${k}/locations/${R}/`+_}let S={};this.apiClient.isVertexAI()&&((o=n.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Go.AUDIO]}:n.config.responseModalities=[Go.AUDIO]),!((r=n.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],I=[];for(const k of E)if(this.isCallableTool(k)){const R=k;I.push(await R.tool())}else I.push(k);I.length>0&&(n.config.tools=I);const N={model:_,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?S=y0(this.apiClient,N):S=g0(this.apiClient,N),delete S.config,v.send(JSON.stringify(S)),new Ux(v,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const Lx={turnComplete:!0};class Ux{constructor(n,t){this.conn=n,this.apiClient=t}tLiveClientContent(n,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Ge(t.turns),n.isVertexAI()||(i=i.map(o=>or(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(n,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!n.isVertexAI()&&!("id"in r))throw new Error(Rx)}return{toolResponse:{functionResponses:i}}}sendClientContent(n){n=Object.assign(Object.assign({},Lx),n);const t=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(t))}sendRealtimeInput(n){let t={};this.apiClient.isVertexAI()?t={realtimeInput:T0(n)}:t={realtimeInput:C0(n)},this.conn.send(JSON.stringify(t))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Fx(e){const n={};return e.forEach((t,i)=>{n[i]=t}),n}function Vx(e){const n=new Headers;for(const[t,i]of Object.entries(e))n.append(t,i);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cc=10;function dc(e){var n,t,i;if(!((n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let o=!1;for(const l of(t=e==null?void 0:e.tools)!==null&&t!==void 0?t:[])if(Ct(l)){o=!0;break}if(!o)return!0;const r=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Ct(e){return"callTool"in e&&typeof e.callTool=="function"}function Gx(e){var n,t,i;return(i=(t=(n=e.config)===null||n===void 0?void 0:n.tools)===null||t===void 0?void 0:t.some(o=>Ct(o)))!==null&&i!==void 0?i:!1}function qx(e){var n,t,i;return(i=(t=(n=e.config)===null||n===void 0?void 0:n.tools)===null||t===void 0?void 0:t.some(o=>!Ct(o)))!==null&&i!==void 0?i:!1}function fc(e){var n;return!(!((n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hx extends Xn{constructor(n){super(),this.apiClient=n,this.generateContent=async t=>{var i,o,r,l,u;const d=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Gx(t)||dc(t.config))return await this.generateContentInternal(d);if(qx(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,f;const m=Ge(d.contents),h=(r=(o=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:cc;let x=0;for(;x<h&&(c=await this.generateContentInternal(d),!(!c.functionCalls||c.functionCalls.length===0));){const C=c.candidates[0].content,T=[];for(const A of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ct(A)){const g=await A.callTool(c.functionCalls);T.push(...g)}x++,f={role:"user",parts:T},d.contents=Ge(d.contents),d.contents.push(C),d.contents.push(f),fc(d.config)&&(m.push(C),m.push(f))}return fc(d.config)&&(c.automaticFunctionCallingHistory=m),c},this.generateContentStream=async t=>{if(this.maybeMoveToResponseJsonSchem(t),dc(t.config)){const i=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(i=>{var o;let r;const l=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=d==null?void 0:d.safetyAttributes:l.push(d);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async t=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ki(Yn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{const i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async t=>{let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async t=>{var i,o,r,l,u,d;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((o=t.video)===null||o===void 0)&&o.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(r=t.source)===null||r===void 0?void 0:r.video)===null||l===void 0)&&l.uri&&(!((d=(u=t.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var t,i,o;const r=(t=n.config)===null||t===void 0?void 0:t.tools;if(!r)return n;const l=await Promise.all(r.map(async d=>Ct(d)?await d.tool():d)),u={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:l})};if(u.config.tools=l,n.config&&n.config.tools&&Zf(n.config.tools)){const d=(o=(i=n.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),jf(c),u.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(n){var t,i,o;const r=new Map;for(const l of(i=(t=n.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(Ct(l)){const u=l,d=await u.tool();for(const c of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(r.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);r.set(c.name,u)}}return r}async processAfcStream(n){var t,i,o;const r=(o=(i=(t=n.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:cc;let l=!1,u=0;const d=await this.initAfcToolsMap(n);return function(c,f,m){var h,x;return xt(this,arguments,function*(){for(var C,T,A,y;u<r;){l&&(u++,l=!1);const S=yield O(c.processParamsMaybeAddMcpUsage(m)),E=yield O(c.generateContentStreamInternal(S)),I=[],N=[];try{for(var g=!0,v=(T=void 0,si(E)),_;_=yield O(v.next()),C=_.done,!C;g=!0){y=_.value,g=!1;const k=y;if(yield yield O(k),k.candidates&&(!((h=k.candidates[0])===null||h===void 0)&&h.content)){N.push(k.candidates[0].content);for(const R of(x=k.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<r&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(R.functionCall.name)){const J=yield O(f.get(R.functionCall.name).callTool([R.functionCall]));I.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(k){T={error:k}}finally{try{!g&&!C&&(A=v.return)&&(yield O(A.call(v)))}finally{if(T)throw T.error}}if(I.length>0){l=!0;const k=new $t;k.candidates=[{content:{role:"user",parts:I}}],yield yield O(k);const R=[];R.push(...N),R.push({role:"user",parts:I});const J=Ge(m.contents).concat(R);m.contents=J}else break}})}(this,d,n)}async generateContentInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=rc(this.apiClient,n);return u=D("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=lc(f),h=new $t;return Object.assign(h,m),h})}else{const c=oc(this.apiClient,n);return u=D("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=sc(f),h=new $t;return Object.assign(h,m),h})}}async generateContentStreamInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=rc(this.apiClient,n);return u=D("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return xt(this,arguments,function*(){var h,x,C,T;try{for(var A=!0,y=si(m),g;g=yield O(y.next()),h=g.done,!h;A=!0){T=g.value,A=!1;const v=T,_=lc(yield O(v.json()));_.sdkHttpResponse={headers:v.headers};const S=new $t;Object.assign(S,_),yield yield O(S)}}catch(v){x={error:v}}finally{try{!A&&!h&&(C=y.return)&&(yield O(C.call(y)))}finally{if(x)throw x.error}}})})}else{const c=oc(this.apiClient,n);return u=D("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return xt(this,arguments,function*(){var h,x,C,T;try{for(var A=!0,y=si(m),g;g=yield O(y.next()),h=g.done,!h;A=!0){T=g.value,A=!1;const v=T,_=sc(yield O(v.json()));_.sdkHttpResponse={headers:v.headers};const S=new $t;Object.assign(S,_),yield yield O(S)}}catch(v){x={error:v}}finally{try{!A&&!h&&(C=y.return)&&(yield O(C.call(y)))}finally{if(x)throw x.error}}})})}}async embedContent(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Z0(this.apiClient,n);return u=D("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=ev(f),h=new zu;return Object.assign(h,m),h})}else{const c=X0(this.apiClient,n);return u=D("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=j0(f),h=new zu;return Object.assign(h,m),h})}}async generateImagesInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=uv(this.apiClient,n);return u=D("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=dv(f),h=new bu;return Object.assign(h,m),h})}else{const c=av(this.apiClient,n);return u=D("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=cv(f),h=new bu;return Object.assign(h,m),h})}}async editImageInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=O0(this.apiClient,n);return r=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=Y0(d),f=new pg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=sx(this.apiClient,n);return r=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=lx(d),f=new mg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=zv(this.apiClient,n);return r=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=bv(d),f=new hg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=Kv(this.apiClient,n);return r=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Qv(d),f=new gg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Nv(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ls(f))}else{const c=Av(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Ds(f))}}async listInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Uv(this.apiClient,n);return u=D("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Vv(f),h=new Ju;return Object.assign(h,m),h})}else{const c=Lv(this.apiClient,n);return u=D("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Fv(f),h=new Ju;return Object.assign(h,m),h})}}async update(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ox(this.apiClient,n);return u=D("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Ls(f))}else{const c=ix(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Ds(f))}}async delete(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=b0(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=$0(f),h=new $u;return Object.assign(h,m),h})}else{const c=z0(this.apiClient,n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=J0(f),h=new $u;return Object.assign(h,m),h})}}async countTokens(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=q0(this.apiClient,n);return u=D("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=B0(f),h=new Wu;return Object.assign(h,m),h})}else{const c=G0(this.apiClient,n);return u=D("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=H0(f),h=new Wu;return Object.assign(h,m),h})}}async computeTokens(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=R0(this.apiClient,n);return r=D("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=M0(d),f=new yg;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=yv(this.apiClient,n);return u=D("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=hv(f),h=new qo;return Object.assign(h,m),h})}else{const c=gv(this.apiClient,n);return u=D("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const m=mv(f),h=new qo;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bx extends Xn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const t=n.operation,i=n.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async get(n){const t=n.operation,i=n.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let r;i&&"httpOptions"in i&&(r=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:o,isVertexAI:!1})}}async getVideosOperationInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=cg(n);return u=D("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}else{const c=ug(n);return u=D("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=tg(n);return r=D("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zx(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["data"]);t!=null&&a(n,["data"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function bx(e){const n={},t=s(e,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Xx(r))),a(n,["parts"],o)}const i=s(e,["role"]);return i!=null&&a(n,["role"],i),n}function Jx(e,n,t){const i={},o=s(n,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const r=s(n,["newSessionExpireTime"]);t!==void 0&&r!=null&&a(t,["newSessionExpireTime"],r);const l=s(n,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const u=s(n,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],Qx(e,u));const d=s(n,["lockAdditionalFields"]);return t!==void 0&&d!=null&&a(t,["fieldMask"],d),i}function $x(e,n){const t={},i=s(n,["config"]);return i!=null&&a(t,["config"],Jx(e,i,t)),t}function Wx(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const i=s(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Ox(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function Yx(e){const n={},t=s(e,["timeRangeFilter"]);if(t!=null&&a(n,["timeRangeFilter"],t),s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Kx(e,n){const t={},i=s(e,["generationConfig"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig"],i);const o=s(e,["responseModalities"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig","responseModalities"],o);const r=s(e,["temperature"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig","temperature"],r);const l=s(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","seed"],f);const m=s(e,["speechConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","speechConfig"],Fl(m));const h=s(e,["thinkingConfig"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","thinkingConfig"],h);const x=s(e,["enableAffectiveDialog"]);n!==void 0&&x!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],x);const C=s(e,["systemInstruction"]);n!==void 0&&C!=null&&a(n,["setup","systemInstruction"],bx(he(C)));const T=s(e,["tools"]);if(n!==void 0&&T!=null){let E=Dt(T);Array.isArray(E)&&(E=E.map(I=>jx(Mt(I)))),a(n,["setup","tools"],E)}const A=s(e,["sessionResumption"]);n!==void 0&&A!=null&&a(n,["setup","sessionResumption"],Zx(A));const y=s(e,["inputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","inputAudioTranscription"],y);const g=s(e,["outputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);n!==void 0&&v!=null&&a(n,["setup","realtimeInputConfig"],v);const _=s(e,["contextWindowCompression"]);n!==void 0&&_!=null&&a(n,["setup","contextWindowCompression"],_);const S=s(e,["proactivity"]);return n!==void 0&&S!=null&&a(n,["setup","proactivity"],S),t}function Qx(e,n){const t={},i=s(n,["model"]);i!=null&&a(t,["setup","model"],q(e,i));const o=s(n,["config"]);return o!=null&&a(t,["config"],Kx(o,t)),t}function Xx(e){const n={},t=s(e,["videoMetadata"]);t!=null&&a(n,["videoMetadata"],t);const i=s(e,["thought"]);i!=null&&a(n,["thought"],i);const o=s(e,["inlineData"]);o!=null&&a(n,["inlineData"],zx(o));const r=s(e,["fileData"]);r!=null&&a(n,["fileData"],Wx(r));const l=s(e,["thoughtSignature"]);l!=null&&a(n,["thoughtSignature"],l);const u=s(e,["functionCall"]);u!=null&&a(n,["functionCall"],u);const d=s(e,["codeExecutionResult"]);d!=null&&a(n,["codeExecutionResult"],d);const c=s(e,["executableCode"]);c!=null&&a(n,["executableCode"],c);const f=s(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const m=s(e,["text"]);return m!=null&&a(n,["text"],m),n}function Zx(e){const n={},t=s(e,["handle"]);if(t!=null&&a(n,["handle"],t),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function jx(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(f=>f)),a(n,["functionDeclarations"],c)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],Yx(i));const o=s(e,["googleSearchRetrieval"]);if(o!=null&&a(n,["googleSearchRetrieval"],o),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(e,["googleMaps"]);r!=null&&a(n,["googleMaps"],Ox(r));const l=s(e,["urlContext"]);l!=null&&a(n,["urlContext"],l);const u=s(e,["computerUse"]);u!=null&&a(n,["computerUse"],u);const d=s(e,["codeExecution"]);return d!=null&&a(n,["codeExecution"],d),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(e){const n=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const i=e[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(r=>`${t}.${r}`);n.push(...o)}else n.push(t)}return n.join(",")}function nC(e,n){let t=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const r=i.setup;typeof r=="object"&&r!==null?(e.bidiGenerateContentSetup=r,t=r):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(t){const r=eC(t);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)r?e.fieldMask=r:delete e.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];r&&d.push(r),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class tC extends Xn{constructor(n){super(),this.apiClient=n}async create(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=$x(this.apiClient,n);r=D("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=nC(u,n.config);return o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iC(e,n){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],i),t}function oC(e,n){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],i),t}function rC(e,n,t){const i={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(e,["tunedModelDisplayName"]);if(n!==void 0&&o!=null&&a(n,["displayName"],o),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(e,["epochCount"]);n!==void 0&&r!=null&&a(n,["tuningTask","hyperparameters","epochCount"],r);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);n!==void 0&&u!=null&&a(n,["tuningTask","hyperparameters","batchSize"],u);const d=s(e,["learningRate"]);if(n!==void 0&&d!=null&&a(n,["tuningTask","hyperparameters","learningRate"],d),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return i}function sC(e,n,t){const i={},o=s(e,["validationDataset"]);n!==void 0&&o!=null&&a(n,["supervisedTuningSpec"],TC(o));const r=s(e,["tunedModelDisplayName"]);n!==void 0&&r!=null&&a(n,["tunedModelDisplayName"],r);const l=s(e,["description"]);n!==void 0&&l!=null&&a(n,["description"],l);const u=s(e,["epochCount"]);n!==void 0&&u!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=s(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const c=s(e,["exportLastCheckpointOnly"]);n!==void 0&&c!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=s(e,["adapterSize"]);if(n!==void 0&&f!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(e,["labels"]);return n!==void 0&&m!=null&&a(n,["labels"],m),i}function lC(e,n){const t={},i=s(e,["baseModel"]);i!=null&&a(t,["baseModel"],i);const o=s(e,["preTunedModel"]);o!=null&&a(t,["preTunedModel"],o);const r=s(e,["trainingDataset"]);r!=null&&a(t,["tuningTask","trainingData"],vC(r));const l=s(e,["config"]);return l!=null&&rC(l,t),t}function aC(e,n){const t={},i=s(e,["baseModel"]);i!=null&&a(t,["baseModel"],i);const o=s(e,["preTunedModel"]);o!=null&&a(t,["preTunedModel"],o);const r=s(e,["trainingDataset"]);r!=null&&xC(r,t);const l=s(e,["config"]);return l!=null&&sC(l,t),t}function uC(e,n){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],i),t}function cC(e,n){const t={},i=s(e,["name"]);return i!=null&&a(t,["_url","name"],i),t}function dC(e,n,t){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);return n!==void 0&&l!=null&&a(n,["_query","filter"],l),i}function fC(e,n,t){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);return n!==void 0&&l!=null&&a(n,["_query","filter"],l),i}function pC(e,n){const t={},i=s(e,["config"]);return i!=null&&dC(i,t),t}function mC(e,n){const t={},i=s(e,["config"]);return i!=null&&fC(i,t),t}function hC(e,n){const t={},i=s(e,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ep(u))),a(t,["tuningJobs"],l)}return t}function gC(e,n){const t={},i=s(e,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Fs(u))),a(t,["tuningJobs"],l)}return t}function yC(e,n){const t={},i=s(e,["name"]);i!=null&&a(t,["model"],i);const o=s(e,["name"]);return o!=null&&a(t,["endpoint"],o),t}function vC(e,n){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["examples","examples"],o)}return t}function xC(e,n,t){const i={},o=s(e,["gcsUri"]);n!==void 0&&o!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],o);const r=s(e,["vertexDatasetResource"]);if(n!==void 0&&r!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],r),s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function ep(e,n){const t={},i=s(e,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["state"]);r!=null&&a(t,["state"],Uf(r));const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(t,["startTime"],u);const d=s(e,["tuningTask","completeTime"]);d!=null&&a(t,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(e,["description"]);f!=null&&a(t,["description"],f);const m=s(e,["baseModel"]);m!=null&&a(t,["baseModel"],m);const h=s(e,["_self"]);return h!=null&&a(t,["tunedModel"],yC(h)),t}function Fs(e,n){const t={},i=s(e,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["state"]);r!=null&&a(t,["state"],Uf(r));const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(t,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(e,["error"]);f!=null&&a(t,["error"],f);const m=s(e,["description"]);m!=null&&a(t,["description"],m);const h=s(e,["baseModel"]);h!=null&&a(t,["baseModel"],h);const x=s(e,["tunedModel"]);x!=null&&a(t,["tunedModel"],x);const C=s(e,["preTunedModel"]);C!=null&&a(t,["preTunedModel"],C);const T=s(e,["supervisedTuningSpec"]);T!=null&&a(t,["supervisedTuningSpec"],T);const A=s(e,["tuningDataStats"]);A!=null&&a(t,["tuningDataStats"],A);const y=s(e,["encryptionSpec"]);y!=null&&a(t,["encryptionSpec"],y);const g=s(e,["partnerModelTuningSpec"]);g!=null&&a(t,["partnerModelTuningSpec"],g);const v=s(e,["customBaseModel"]);v!=null&&a(t,["customBaseModel"],v);const _=s(e,["experiment"]);_!=null&&a(t,["experiment"],_);const S=s(e,["labels"]);S!=null&&a(t,["labels"],S);const E=s(e,["outputUri"]);E!=null&&a(t,["outputUri"],E);const I=s(e,["pipelineJob"]);I!=null&&a(t,["pipelineJob"],I);const N=s(e,["serviceAccount"]);N!=null&&a(t,["serviceAccount"],N);const k=s(e,["tunedModelDisplayName"]);k!=null&&a(t,["tunedModelDisplayName"],k);const R=s(e,["veoTuningSpec"]);return R!=null&&a(t,["veoTuningSpec"],R),t}function CC(e,n){const t={},i=s(e,["sdkHttpResponse"]);i!=null&&a(t,["sdkHttpResponse"],i);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const l=s(e,["done"]);l!=null&&a(t,["done"],l);const u=s(e,["error"]);return u!=null&&a(t,["error"],u),t}function TC(e,n){const t={},i=s(e,["gcsUri"]);i!=null&&a(t,["validationDatasetUri"],i);const o=s(e,["vertexDatasetResource"]);return o!=null&&a(t,["validationDatasetUri"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _C extends Xn{constructor(n){super(),this.apiClient=n,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new ki(Yn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(t),t),this.tune=async t=>{var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const o={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=t.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},t),{preTunedModel:o});return r.baseModel=void 0,await this.tuneInternal(r)}else{const o=Object.assign({},t);return await this.tuneInternal(o)}else{const o=Object.assign({},t),r=await this.tuneMldevInternal(o);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:Ps.JOB_STATE_QUEUED}}}}async getInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=cC(n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Fs(f))}else{const c=uC(n);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>ep(f))}}async listInternal(n){var t,i,o,r;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=mC(n);return u=D("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=gC(f),h=new Ou;return Object.assign(h,m),h})}else{const c=pC(n);return u=D("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=hC(f),h=new Ou;return Object.assign(h,m),h})}}async cancel(n){var t,i,o,r;let l="",u={};if(this.apiClient.isVertexAI()){const d=oC(n);l=D("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=iC(n);l=D("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=n.config)===null||r===void 0?void 0:r.abortSignal})}}async tuneInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI()){const u=aC(n);return r=D("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>Fs(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var t,i;let o,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lC(n);return r=D("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>CC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC{async download(n,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EC=1024*1024*8,wC=3,IC=1e3,AC=2,Lr="x-goog-upload-status";async function NC(e,n,t){var i,o,r;let l=0,u=0,d=new ks(new Response),c="upload";for(l=e.size;u<l;){const m=Math.min(EC,l-u),h=e.slice(u,u+m);u+m>=l&&(c+=", finalize");let x=0,C=IC;for(;x<wC&&(d=await t.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=d==null?void 0:d.headers)===null||i===void 0)&&i[Lr]));)x++,await kC(C),C=C*AC;if(u+=m,((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[Lr])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(d==null?void 0:d.json());if(((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[Lr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function PC(e){return{size:e.size,type:e.type}}function kC(e){return new Promise(n=>setTimeout(n,e))}class RC{async upload(n,t,i){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await NC(n,t,i)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await PC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MC{create(n,t,i){return new DC(n,t,i)}}class DC{constructor(n,t,i){this.url=n,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pc="x-goog-api-key";class LC{constructor(n){this.apiKey=n}async addAuthHeaders(n,t){if(n.get(pc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(pc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UC="gl-node/";class mc{constructor(n){var t;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=n.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=n.apiKey;const i=eg(n.httpOptions,n.vertexai,void 0,void 0);i&&(n.httpOptions?n.httpOptions.baseUrl=i:n.httpOptions={baseUrl:i}),this.apiVersion=n.apiVersion;const o=new LC(this.apiKey);this.apiClient=new Cx({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:UC+"web",uploader:new RC,downloader:new SC}),this.models=new Hx(this.apiClient),this.live=new Dx(this.apiClient,o,new MC),this.batches=new xy(this.apiClient),this.chats=new Xy(this.models,this.apiClient),this.caches=new Yy(this.apiClient),this.files=new l0(this.apiClient),this.operations=new Bx(this.apiClient),this.authTokens=new tC(this.apiClient),this.tunings=new _C(this.apiClient)}}const hc=()=>p.jsxs("div",{className:"flex items-center justify-center",children:[p.jsxs("svg",{className:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("span",{className:"ml-3 text-slate-600",children:"Generating..."})]}),FC=()=>{const[e,n]=b.useState(null),[t,i]=b.useState(""),[o,r]=b.useState(null),[l,u]=b.useState(!1),[d,c]=b.useState(!1),[f,m]=b.useState(null),h=async()=>{u(!0),m(null),n(null),r(null),i("");try{const T=new mc({apiKey:void 0}),A=`
                You are a pathology professor creating a board-style case study for a resident.
                Generate a unique, realistic case of a granulomatous disease of the lung.
                Do NOT use Sarcoidosis, Tuberculosis, or Hypersensitivity Pneumonitis as the final diagnosis. Pick a less common but important entity.
                Provide a clinical history, radiologic findings, and a detailed histologic description.
                Return the output as a single, minified JSON object with no markdown formatting.
            `,y=await T.models.generateContent({model:"gemini-2.5-pro",contents:A,config:{responseMimeType:"application/json",responseSchema:{type:Ne.OBJECT,properties:{clinicalHistory:{type:Ne.STRING},radiologicFindings:{type:Ne.STRING},histologicDescription:{type:Ne.STRING},diagnosis:{type:Ne.STRING}},required:["clinicalHistory","radiologicFindings","histologicDescription","diagnosis"]}}}),g=JSON.parse(y.text);n(g)}catch(T){console.error(T),m("Failed to generate a case. Please try again.")}finally{u(!1)}},x=async()=>{if(!(!e||!t)){c(!0),m(null),r(null);try{const T=new mc({apiKey:void 0}),A=`
                You are a senior pathology attending providing feedback to a resident.
                The case is as follows:
                - Clinical History: ${e.clinicalHistory}
                - Radiologic Findings: ${e.radiologicFindings}
                - Histologic Description: ${e.histologicDescription}
                The final diagnosis is: ${e.diagnosis}.

                The resident's submitted differential diagnosis and justification is: "${t}"

                Your task is to:
                1. First, clearly state the correct final diagnosis.
                2. Evaluate the resident's answer. If they were correct, praise them and highlight why their reasoning was good.
                3. If they were incorrect, gently correct them. Explain why their answer is less likely and what key features from the case they might have missed.
                4. Provide a brief, high-yield summary of the key diagnostic features of the correct entity.
                Keep your tone supportive and educational. Format the response using markdown for clarity.
            `,y=await T.models.generateContent({model:"gemini-2.5-flash",contents:A});r(y.text)}catch(T){console.error(T),m("Failed to get feedback. Please try again.")}finally{c(!1)}}},C=T=>{const A=T.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br />");return p.jsx("div",{dangerouslySetInnerHTML:{__html:A}})};return p.jsxs("div",{className:"animate-fade-in space-y-8",children:[p.jsxs("header",{children:[p.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"AI-Powered Case Generator"}),p.jsx("p",{className:"mt-2 text-md text-slate-600",children:"Generate unique cases and get instant feedback from a virtual attending."})]}),p.jsxs(H,{children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("button",{onClick:h,disabled:l,className:"bg-blue-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed",children:l?"Generating...":"Generate New Case Study"})}),l&&p.jsx("div",{className:"mt-4",children:p.jsx(hc,{})})]}),f&&p.jsx(H,{className:"bg-red-50 border-red-300",children:p.jsxs("div",{className:"flex items-center text-red-800",children:[p.jsx(Nt,{className:"h-5 w-5 mr-3"}),p.jsx("p",{className:"font-medium",children:f})]})}),e&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs(H,{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Clinical History"}),p.jsx("p",{className:"text-slate-600 leading-relaxed",children:e.clinicalHistory})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Radiologic Findings"}),p.jsx("p",{className:"text-slate-600 leading-relaxed",children:e.radiologicFindings})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Histologic Description"}),p.jsx("p",{className:"text-slate-600 leading-relaxed",children:e.histologicDescription})]}),p.jsxs(H,{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Your Diagnosis"}),p.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Provide a ranked differential diagnosis and a brief justification."}),p.jsx("textarea",{value:t,onChange:T=>i(T.target.value),rows:5,className:"w-full p-2 border border-slate-300 rounded-md focus:ring-blue-500 focus:border-blue-500 transition",placeholder:`e.g., 1. Diagnosis A - because of feature X.
2. Diagnosis B - less likely due to feature Y.`}),p.jsx("div",{className:"mt-4 text-center",children:p.jsx("button",{onClick:x,disabled:d||!t,className:"bg-green-600 text-white font-medium py-2 px-6 rounded-lg hover:bg-green-700 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed",children:d?"Getting Feedback...":"Submit for Feedback"})}),d&&p.jsx("div",{className:"mt-4",children:p.jsx(hc,{})})]})]}),o&&p.jsx(H,{className:"bg-slate-50 border-slate-200",children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(Vo,{className:"h-8 w-8 text-blue-500 mr-4 flex-shrink-0 mt-1"}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Virtual Attending Feedback"}),p.jsx("div",{className:"text-slate-700 leading-relaxed prose",children:C(o)})]})]})})]})},VC=()=>{const[e,n]=b.useState(!1),[t,i]=b.useState(null),[o,r]=b.useState(G.HOME),[l,u]=b.useState(!1),d=m=>{n(!0),i(m)},c=()=>{n(!1),i(null),r(G.HOME),u(!1)};if(!e)return p.jsx(zh,{onStart:d});const f=()=>{switch(o){case G.HOME:return p.jsx(Ka,{});case G.JOB_AID:return p.jsx(Gh,{});case G.CASE_STUDY:return p.jsx(qh,{});case G.VISUAL_CHALLENGE:return p.jsx(Vh,{});case G.DIAGNOSTIC_PATHWAY:return p.jsx(Bh,{});case G.AI_CASE_GENERATOR:return p.jsx(FC,{});case G.ANALYSIS:return p.jsx(Jh,{});case G.DESIGN:return p.jsx($h,{});case G.DEVELOPMENT:return p.jsx(Wh,{});case G.EVALUATION:return p.jsx(Kh,{});default:return p.jsx(Ka,{})}};return p.jsxs("div",{className:"relative min-h-screen md:flex bg-slate-100",children:[p.jsx(Fh,{currentSection:o,onSectionChange:r,onLogout:c,currentUser:t,isOpen:l,onClose:()=>u(!1)}),p.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen",children:[p.jsx(Qh,{onMenuClick:()=>u(!0),currentSection:o}),p.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-10 overflow-y-auto",children:p.jsx("div",{className:"max-w-4xl mx-auto pb-12",children:f()})})]})]})},np=document.getElementById("root");if(!np)throw new Error("Could not find root element to mount to");const GC=Ur.createRoot(np);GC.render(p.jsx(Ic.StrictMode,{children:p.jsx(VC,{})}));
